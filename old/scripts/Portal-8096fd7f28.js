if(function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(k,t){var e=[],S=k.document,d=e.slice,f=e.concat,r=e.push,s=e.indexOf,i={},n=i.toString,m=i.hasOwnProperty,v={},o="2.2.4",$=function(t,e){return new $.fn.init(t,e)},a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,l=/^-ms-/,c=/-([\da-z])/gi,h=function(t,e){return e.toUpperCase()};function u(t){var e=!!t&&"length"in t&&t.length,i=$.type(t);return"function"!==i&&!$.isWindow(t)&&("array"===i||0===e||"number"==typeof e&&0<e&&e-1 in t)}$.fn=$.prototype={jquery:o,constructor:$,selector:"",length:0,toArray:function(){return d.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:d.call(this)},pushStack:function(t){var e=$.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return $.each(this,t)},map:function(i){return this.pushStack($.map(this,function(t,e){return i.call(t,e,t)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(0<=i&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:r,sort:e.sort,splice:e.splice},$.extend=$.fn.extend=function(){var t,e,i,n,s,o,a=arguments[0]||{},r=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[r]||{},r++),"object"==typeof a||$.isFunction(a)||(a={}),r===l&&(a=this,r--);r<l;r++)if(null!=(t=arguments[r]))for(e in t)i=a[e],a!==(n=t[e])&&(c&&n&&($.isPlainObject(n)||(s=$.isArray(n)))?(o=s?(s=!1,i&&$.isArray(i)?i:[]):i&&$.isPlainObject(i)?i:{},a[e]=$.extend(c,o,n)):void 0!==n&&(a[e]=n));return a},$.extend({expando:"jQuery"+(o+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===$.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=t&&t.toString();return!$.isArray(t)&&0<=e-parseFloat(e)+1},isPlainObject:function(t){var e;if("object"!==$.type(t)||t.nodeType||$.isWindow(t))return!1;if(t.constructor&&!m.call(t,"constructor")&&!m.call(t.constructor.prototype||{},"isPrototypeOf"))return!1;for(e in t);return void 0===e||m.call(t,e)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?i[n.call(t)]||"object":typeof t},globalEval:function(t){var e,i=eval;(t=$.trim(t))&&(1===t.indexOf("use strict")?((e=S.createElement("script")).text=t,S.head.appendChild(e).parentNode.removeChild(e)):i(t))},camelCase:function(t){return t.replace(l,"ms-").replace(c,h)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var i,n=0;if(u(t))for(i=t.length;n<i&&!1!==e.call(t[n],n,t[n]);n++);else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},trim:function(t){return null==t?"":(t+"").replace(a,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(u(Object(t))?$.merge(i,"string"==typeof t?[t]:t):r.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:s.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,s=t.length;n<i;n++)t[s++]=e[n];return t.length=s,t},grep:function(t,e,i){for(var n=[],s=0,o=t.length,a=!i;s<o;s++)!e(t[s],s)!==a&&n.push(t[s]);return n},map:function(t,e,i){var n,s,o=0,a=[];if(u(t))for(n=t.length;o<n;o++)null!=(s=e(t[o],o,i))&&a.push(s);else for(o in t)null!=(s=e(t[o],o,i))&&a.push(s);return f.apply([],a)},guid:1,proxy:function(t,e){var i,n,s;if("string"==typeof e&&(i=t[e],e=t,t=i),$.isFunction(t))return n=d.call(arguments,2),(s=function(){return t.apply(e||this,n.concat(d.call(arguments)))}).guid=t.guid=t.guid||$.guid++,s},now:Date.now,support:v}),"function"==typeof Symbol&&($.fn[Symbol.iterator]=e[Symbol.iterator]),$.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){i["[object "+e+"]"]=e.toLowerCase()});var p=function(i){var t,m,w,o,s,f,h,v,y,l,c,x,k,a,S,_,r,d,g,$="sizzle"+1*new Date,b=i.document,z=0,n=0,u=st(),p=st(),C=st(),T=function(t,e){return t===e&&(c=!0),0},I={}.hasOwnProperty,e=[],V=e.pop,P=e.push,j=e.push,E=e.slice,N=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},O="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",A="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",q="\\["+A+"*("+R+")(?:"+A+"*([*^$|!~]?=)"+A+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+A+"*\\]",D=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+q+")*)|.*)\\)|)",L=new RegExp(A+"+","g"),M=new RegExp("^"+A+"+|((?:^|[^\\\\])(?:\\\\.)*)"+A+"+$","g"),H=new RegExp("^"+A+"*,"+A+"*"),B=new RegExp("^"+A+"*([>+~]|"+A+")"+A+"*"),F=new RegExp("="+A+"*([^\\]'\"]*?)"+A+"*\\]","g"),W=new RegExp(D),J=new RegExp("^"+R+"$"),U={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+q),PSEUDO:new RegExp("^"+D),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+A+"*(even|odd|(([+-]|)(\\d*)n|)"+A+"*(?:([+-]|)"+A+"*(\\d+)|))"+A+"*\\)|)","i"),bool:new RegExp("^(?:"+O+")$","i"),needsContext:new RegExp("^"+A+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+A+"*((?:-\\d)?\\d*)"+A+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,G=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Y=/[+~]/,Z=/'|\\/g,tt=new RegExp("\\\\([\\da-f]{1,6}"+A+"?|("+A+")|.)","ig"),et=function(t,e,i){var n="0x"+e-65536;return n!=n||i?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},it=function(){x()};try{j.apply(e=E.call(b.childNodes),b.childNodes),e[b.childNodes.length].nodeType}catch(t){j={apply:e.length?function(t,e){P.apply(t,E.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}function nt(t,e,i,n){var s,o,a,r,l,c,d,h,u=e&&e.ownerDocument,p=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return i;if(!n&&((e?e.ownerDocument||e:b)!==k&&x(e),e=e||k,S)){if(11!==p&&(c=Q.exec(t)))if(s=c[1]){if(9===p){if(!(a=e.getElementById(s)))return i;if(a.id===s)return i.push(a),i}else if(u&&(a=u.getElementById(s))&&g(e,a)&&a.id===s)return i.push(a),i}else{if(c[2])return j.apply(i,e.getElementsByTagName(t)),i;if((s=c[3])&&m.getElementsByClassName&&e.getElementsByClassName)return j.apply(i,e.getElementsByClassName(s)),i}if(m.qsa&&!C[t+" "]&&(!_||!_.test(t))){if(1!==p)u=e,h=t;else if("object"!==e.nodeName.toLowerCase()){for((r=e.getAttribute("id"))?r=r.replace(Z,"\\$&"):e.setAttribute("id",r=$),o=(d=f(t)).length,l=J.test(r)?"#"+r:"[id='"+r+"']";o--;)d[o]=l+" "+mt(d[o]);h=d.join(","),u=Y.test(t)&&ut(e.parentNode)||e}if(h)try{return j.apply(i,u.querySelectorAll(h)),i}catch(t){}finally{r===$&&e.removeAttribute("id")}}}return v(t.replace(M,"$1"),e,i,n)}function st(){var n=[];return function t(e,i){return n.push(e+" ")>w.cacheLength&&delete t[n.shift()],t[e+" "]=i}}function ot(t){return t[$]=!0,t}function at(t){var e=k.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function rt(t,e){for(var i=t.split("|"),n=i.length;n--;)w.attrHandle[i[n]]=e}function lt(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||1<<31)-(~t.sourceIndex||1<<31);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function ct(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function dt(i){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===i}}function ht(a){return ot(function(o){return o=+o,ot(function(t,e){for(var i,n=a([],t.length,o),s=n.length;s--;)t[i=n[s]]&&(t[i]=!(e[i]=t[i]))})})}function ut(t){return t&&void 0!==t.getElementsByTagName&&t}for(t in m=nt.support={},s=nt.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},x=nt.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:b;return n!==k&&9===n.nodeType&&n.documentElement&&(a=(k=n).documentElement,S=!s(k),(i=k.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",it,!1):i.attachEvent&&i.attachEvent("onunload",it)),m.attributes=at(function(t){return t.className="i",!t.getAttribute("className")}),m.getElementsByTagName=at(function(t){return t.appendChild(k.createComment("")),!t.getElementsByTagName("*").length}),m.getElementsByClassName=G.test(k.getElementsByClassName),m.getById=at(function(t){return a.appendChild(t).id=$,!k.getElementsByName||!k.getElementsByName($).length}),m.getById?(w.find.ID=function(t,e){if(void 0!==e.getElementById&&S){var i=e.getElementById(t);return i?[i]:[]}},w.filter.ID=function(t){var e=t.replace(tt,et);return function(t){return t.getAttribute("id")===e}}):(delete w.find.ID,w.filter.ID=function(t){var i=t.replace(tt,et);return function(t){var e=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return e&&e.value===i}}),w.find.TAG=m.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):m.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],s=0,o=e.getElementsByTagName(t);if("*"!==t)return o;for(;i=o[s++];)1===i.nodeType&&n.push(i);return n},w.find.CLASS=m.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&S)return e.getElementsByClassName(t)},r=[],_=[],(m.qsa=G.test(k.querySelectorAll))&&(at(function(t){a.appendChild(t).innerHTML="<a id='"+$+"'></a><select id='"+$+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&_.push("[*^$]="+A+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||_.push("\\["+A+"*(?:value|"+O+")"),t.querySelectorAll("[id~="+$+"-]").length||_.push("~="),t.querySelectorAll(":checked").length||_.push(":checked"),t.querySelectorAll("a#"+$+"+*").length||_.push(".#.+[+~]")}),at(function(t){var e=k.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&_.push("name"+A+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||_.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),_.push(",.*:")})),(m.matchesSelector=G.test(d=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&at(function(t){m.disconnectedMatch=d.call(t,"div"),d.call(t,"[s!='']:x"),r.push("!=",D)}),_=_.length&&new RegExp(_.join("|")),r=r.length&&new RegExp(r.join("|")),e=G.test(a.compareDocumentPosition),g=e||G.test(a.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},T=e?function(t,e){if(t===e)return c=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!m.sortDetached&&e.compareDocumentPosition(t)===i?t===k||t.ownerDocument===b&&g(b,t)?-1:e===k||e.ownerDocument===b&&g(b,e)?1:l?N(l,t)-N(l,e):0:4&i?-1:1)}:function(t,e){if(t===e)return c=!0,0;var i,n=0,s=t.parentNode,o=e.parentNode,a=[t],r=[e];if(!s||!o)return t===k?-1:e===k?1:s?-1:o?1:l?N(l,t)-N(l,e):0;if(s===o)return lt(t,e);for(i=t;i=i.parentNode;)a.unshift(i);for(i=e;i=i.parentNode;)r.unshift(i);for(;a[n]===r[n];)n++;return n?lt(a[n],r[n]):a[n]===b?-1:r[n]===b?1:0}),k},nt.matches=function(t,e){return nt(t,null,null,e)},nt.matchesSelector=function(t,e){if((t.ownerDocument||t)!==k&&x(t),e=e.replace(F,"='$1']"),m.matchesSelector&&S&&!C[e+" "]&&(!r||!r.test(e))&&(!_||!_.test(e)))try{var i=d.call(t,e);if(i||m.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return 0<nt(e,k,null,[t]).length},nt.contains=function(t,e){return(t.ownerDocument||t)!==k&&x(t),g(t,e)},nt.attr=function(t,e){(t.ownerDocument||t)!==k&&x(t);var i=w.attrHandle[e.toLowerCase()],n=i&&I.call(w.attrHandle,e.toLowerCase())?i(t,e,!S):void 0;return void 0!==n?n:m.attributes||!S?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},nt.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},nt.uniqueSort=function(t){var e,i=[],n=0,s=0;if(c=!m.detectDuplicates,l=!m.sortStable&&t.slice(0),t.sort(T),c){for(;e=t[s++];)e===t[s]&&(n=i.push(s));for(;n--;)t.splice(i[n],1)}return l=null,t},o=nt.getText=function(t){var e,i="",n=0,s=t.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=o(t)}else if(3===s||4===s)return t.nodeValue}else for(;e=t[n++];)i+=o(e);return i},(w=nt.selectors={cacheLength:50,createPseudo:ot,match:U,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(tt,et),t[3]=(t[3]||t[4]||t[5]||"").replace(tt,et),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||nt.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&nt.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return U.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&W.test(i)&&(e=f(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(tt,et).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=u[t+" "];return e||(e=new RegExp("(^|"+A+")"+t+"("+A+"|$)"))&&u(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(i,n,s){return function(t){var e=nt.attr(t,i);return null==e?"!="===n:!n||(e+="","="===n?e===s:"!="===n?e!==s:"^="===n?s&&0===e.indexOf(s):"*="===n?s&&-1<e.indexOf(s):"$="===n?s&&e.slice(-s.length)===s:"~="===n?-1<(" "+e.replace(L," ")+" ").indexOf(s):"|="===n&&(e===s||e.slice(0,s.length+1)===s+"-"))}},CHILD:function(m,t,e,f,v){var _="nth"!==m.slice(0,3),g="last"!==m.slice(-4),b="of-type"===t;return 1===f&&0===v?function(t){return!!t.parentNode}:function(t,e,i){var n,s,o,a,r,l,c=_!==g?"nextSibling":"previousSibling",d=t.parentNode,h=b&&t.nodeName.toLowerCase(),u=!i&&!b,p=!1;if(d){if(_){for(;c;){for(a=t;a=a[c];)if(b?a.nodeName.toLowerCase()===h:1===a.nodeType)return!1;l=c="only"===m&&!l&&"nextSibling"}return!0}if(l=[g?d.firstChild:d.lastChild],g&&u){for(p=(r=(n=(s=(o=(a=d)[$]||(a[$]={}))[a.uniqueID]||(o[a.uniqueID]={}))[m]||[])[0]===z&&n[1])&&n[2],a=r&&d.childNodes[r];a=++r&&a&&a[c]||(p=r=0)||l.pop();)if(1===a.nodeType&&++p&&a===t){s[m]=[z,r,p];break}}else if(u&&(p=r=(n=(s=(o=(a=t)[$]||(a[$]={}))[a.uniqueID]||(o[a.uniqueID]={}))[m]||[])[0]===z&&n[1]),!1===p)for(;(a=++r&&a&&a[c]||(p=r=0)||l.pop())&&((b?a.nodeName.toLowerCase()!==h:1!==a.nodeType)||!++p||(u&&((s=(o=a[$]||(a[$]={}))[a.uniqueID]||(o[a.uniqueID]={}))[m]=[z,p]),a!==t)););return(p-=v)===f||p%f==0&&0<=p/f}}},PSEUDO:function(t,o){var e,a=w.pseudos[t]||w.setFilters[t.toLowerCase()]||nt.error("unsupported pseudo: "+t);return a[$]?a(o):1<a.length?(e=[t,t,"",o],w.setFilters.hasOwnProperty(t.toLowerCase())?ot(function(t,e){for(var i,n=a(t,o),s=n.length;s--;)t[i=N(t,n[s])]=!(e[i]=n[s])}):function(t){return a(t,0,e)}):a}},pseudos:{not:ot(function(t){var n=[],s=[],r=h(t.replace(M,"$1"));return r[$]?ot(function(t,e,i,n){for(var s,o=r(t,null,n,[]),a=t.length;a--;)(s=o[a])&&(t[a]=!(e[a]=s))}):function(t,e,i){return n[0]=t,r(n,null,i,s),n[0]=null,!s.pop()}}),has:ot(function(e){return function(t){return 0<nt(e,t).length}}),contains:ot(function(e){return e=e.replace(tt,et),function(t){return-1<(t.textContent||t.innerText||o(t)).indexOf(e)}}),lang:ot(function(i){return J.test(i||"")||nt.error("unsupported lang: "+i),i=i.replace(tt,et).toLowerCase(),function(t){var e;do{if(e=S?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===i||0===e.indexOf(i+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=i.location&&i.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===a},focus:function(t){return t===k.activeElement&&(!k.hasFocus||k.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!w.pseudos.empty(t)},header:function(t){return K.test(t.nodeName)},input:function(t){return X.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:ht(function(){return[0]}),last:ht(function(t,e){return[e-1]}),eq:ht(function(t,e,i){return[i<0?i+e:i]}),even:ht(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:ht(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:ht(function(t,e,i){for(var n=i<0?i+e:i;0<=--n;)t.push(n);return t}),gt:ht(function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[t]=ct(t);for(t in{submit:!0,reset:!0})w.pseudos[t]=dt(t);function pt(){}function mt(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function ft(r,t,e){var l=t.dir,c=e&&"parentNode"===l,d=n++;return t.first?function(t,e,i){for(;t=t[l];)if(1===t.nodeType||c)return r(t,e,i)}:function(t,e,i){var n,s,o,a=[z,d];if(i){for(;t=t[l];)if((1===t.nodeType||c)&&r(t,e,i))return!0}else for(;t=t[l];)if(1===t.nodeType||c){if((n=(s=(o=t[$]||(t[$]={}))[t.uniqueID]||(o[t.uniqueID]={}))[l])&&n[0]===z&&n[1]===d)return a[2]=n[2];if((s[l]=a)[2]=r(t,e,i))return!0}}}function vt(s){return 1<s.length?function(t,e,i){for(var n=s.length;n--;)if(!s[n](t,e,i))return!1;return!0}:s[0]}function _t(t,e,i,n,s){for(var o,a=[],r=0,l=t.length,c=null!=e;r<l;r++)(o=t[r])&&(i&&!i(o,n,s)||(a.push(o),c&&e.push(r)));return a}function gt(p,m,f,v,_,t){return v&&!v[$]&&(v=gt(v)),_&&!_[$]&&(_=gt(_,t)),ot(function(t,e,i,n){var s,o,a,r=[],l=[],c=e.length,d=t||function(t,e,i){for(var n=0,s=e.length;n<s;n++)nt(t,e[n],i);return i}(m||"*",i.nodeType?[i]:i,[]),h=!p||!t&&m?d:_t(d,r,p,i,n),u=f?_||(t?p:c||v)?[]:e:h;if(f&&f(h,u,i,n),v)for(s=_t(u,l),v(s,[],i,n),o=s.length;o--;)(a=s[o])&&(u[l[o]]=!(h[l[o]]=a));if(t){if(_||p){if(_){for(s=[],o=u.length;o--;)(a=u[o])&&s.push(h[o]=a);_(null,u=[],s,n)}for(o=u.length;o--;)(a=u[o])&&-1<(s=_?N(t,a):r[o])&&(t[s]=!(e[s]=a))}}else u=_t(u===e?u.splice(c,u.length):u),_?_(null,e,u,n):j.apply(e,u)})}function bt(t){for(var s,e,i,n=t.length,o=w.relative[t[0].type],a=o||w.relative[" "],r=o?1:0,l=ft(function(t){return t===s},a,!0),c=ft(function(t){return-1<N(s,t)},a,!0),d=[function(t,e,i){var n=!o&&(i||e!==y)||((s=e).nodeType?l(t,e,i):c(t,e,i));return s=null,n}];r<n;r++)if(e=w.relative[t[r].type])d=[ft(vt(d),e)];else{if((e=w.filter[t[r].type].apply(null,t[r].matches))[$]){for(i=++r;i<n&&!w.relative[t[i].type];i++);return gt(1<r&&vt(d),1<r&&mt(t.slice(0,r-1).concat({value:" "===t[r-2].type?"*":""})).replace(M,"$1"),e,r<i&&bt(t.slice(r,i)),i<n&&bt(t=t.slice(i)),i<n&&mt(t))}d.push(e)}return vt(d)}return pt.prototype=w.filters=w.pseudos,w.setFilters=new pt,f=nt.tokenize=function(t,e){var i,n,s,o,a,r,l,c=p[t+" "];if(c)return e?0:c.slice(0);for(a=t,r=[],l=w.preFilter;a;){for(o in i&&!(n=H.exec(a))||(n&&(a=a.slice(n[0].length)||a),r.push(s=[])),i=!1,(n=B.exec(a))&&(i=n.shift(),s.push({value:i,type:n[0].replace(M," ")}),a=a.slice(i.length)),w.filter)!(n=U[o].exec(a))||l[o]&&!(n=l[o](n))||(i=n.shift(),s.push({value:i,type:o,matches:n}),a=a.slice(i.length));if(!i)break}return e?a.length:a?nt.error(t):p(t,r).slice(0)},h=nt.compile=function(t,e){var i,v,_,g,b,n,s=[],o=[],a=C[t+" "];if(!a){for(e||(e=f(t)),i=e.length;i--;)(a=bt(e[i]))[$]?s.push(a):o.push(a);(a=C(t,(v=o,g=0<(_=s).length,b=0<v.length,n=function(t,e,i,n,s){var o,a,r,l=0,c="0",d=t&&[],h=[],u=y,p=t||b&&w.find.TAG("*",s),m=z+=null==u?1:Math.random()||.1,f=p.length;for(s&&(y=e===k||e||s);c!==f&&null!=(o=p[c]);c++){if(b&&o){for(a=0,e||o.ownerDocument===k||(x(o),i=!S);r=v[a++];)if(r(o,e||k,i)){n.push(o);break}s&&(z=m)}g&&((o=!r&&o)&&l--,t&&d.push(o))}if(l+=c,g&&c!==l){for(a=0;r=_[a++];)r(d,h,e,i);if(t){if(0<l)for(;c--;)d[c]||h[c]||(h[c]=V.call(n));h=_t(h)}j.apply(n,h),s&&!t&&0<h.length&&1<l+_.length&&nt.uniqueSort(n)}return s&&(z=m,y=u),d},g?ot(n):n))).selector=t}return a},v=nt.select=function(t,e,i,n){var s,o,a,r,l,c="function"==typeof t&&t,d=!n&&f(t=c.selector||t);if(i=i||[],1===d.length){if(2<(o=d[0]=d[0].slice(0)).length&&"ID"===(a=o[0]).type&&m.getById&&9===e.nodeType&&S&&w.relative[o[1].type]){if(!(e=(w.find.ID(a.matches[0].replace(tt,et),e)||[])[0]))return i;c&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(s=U.needsContext.test(t)?0:o.length;s--&&(a=o[s],!w.relative[r=a.type]);)if((l=w.find[r])&&(n=l(a.matches[0].replace(tt,et),Y.test(o[0].type)&&ut(e.parentNode)||e))){if(o.splice(s,1),!(t=n.length&&mt(o)))return j.apply(i,n),i;break}}return(c||h(t,d))(n,e,!S,i,!e||Y.test(t)&&ut(e.parentNode)||e),i},m.sortStable=$.split("").sort(T).join("")===$,m.detectDuplicates=!!c,x(),m.sortDetached=at(function(t){return 1&t.compareDocumentPosition(k.createElement("div"))}),at(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||rt("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),m.attributes&&at(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||rt("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),at(function(t){return null==t.getAttribute("disabled")})||rt(O,function(t,e,i){var n;if(!i)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),nt}(k);$.find=p,$.expr=p.selectors,$.expr[":"]=$.expr.pseudos,$.uniqueSort=$.unique=p.uniqueSort,$.text=p.getText,$.isXMLDoc=p.isXML,$.contains=p.contains;var _=function(t,e,i){for(var n=[],s=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(s&&$(t).is(i))break;n.push(t)}return n},g=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},b=$.expr.match.needsContext,w=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,y=/^.[^:#\[\.,]*$/;function x(t,i,n){if($.isFunction(i))return $.grep(t,function(t,e){return!!i.call(t,e,t)!==n});if(i.nodeType)return $.grep(t,function(t){return t===i!==n});if("string"==typeof i){if(y.test(i))return $.filter(i,t,n);i=$.filter(i,t)}return $.grep(t,function(t){return-1<s.call(i,t)!==n})}$.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?$.find.matchesSelector(n,t)?[n]:[]:$.find.matches(t,$.grep(e,function(t){return 1===t.nodeType}))},$.fn.extend({find:function(t){var e,i=this.length,n=[],s=this;if("string"!=typeof t)return this.pushStack($(t).filter(function(){for(e=0;e<i;e++)if($.contains(s[e],this))return!0}));for(e=0;e<i;e++)$.find(t,s[e],n);return(n=this.pushStack(1<i?$.unique(n):n)).selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(x(this,t||[],!1))},not:function(t){return this.pushStack(x(this,t||[],!0))},is:function(t){return!!x(this,"string"==typeof t&&b.test(t)?$(t):t||[],!1).length}});var z,C=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;($.fn.init=function(t,e,i){var n,s;if(!t)return this;if(i=i||z,"string"!=typeof t)return t.nodeType?(this.context=this[0]=t,this.length=1,this):$.isFunction(t)?void 0!==i.ready?i.ready(t):t($):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),$.makeArray(t,this));if(!(n="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:C.exec(t))||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof $?e[0]:e,$.merge(this,$.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:S,!0)),w.test(n[1])&&$.isPlainObject(e))for(n in e)$.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return(s=S.getElementById(n[2]))&&s.parentNode&&(this.length=1,this[0]=s),this.context=S,this.selector=t,this}).prototype=$.fn,z=$(S);var T=/^(?:parents|prev(?:Until|All))/,I={children:!0,contents:!0,next:!0,prev:!0};function V(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}$.fn.extend({has:function(t){var e=$(t,this),i=e.length;return this.filter(function(){for(var t=0;t<i;t++)if($.contains(this,e[t]))return!0})},closest:function(t,e){for(var i,n=0,s=this.length,o=[],a=b.test(t)||"string"!=typeof t?$(t,e||this.context):0;n<s;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(a?-1<a.index(i):1===i.nodeType&&$.find.matchesSelector(i,t))){o.push(i);break}return this.pushStack(1<o.length?$.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?s.call($(t),this[0]):s.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack($.uniqueSort($.merge(this.get(),$(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),$.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return _(t,"parentNode")},parentsUntil:function(t,e,i){return _(t,"parentNode",i)},next:function(t){return V(t,"nextSibling")},prev:function(t){return V(t,"previousSibling")},nextAll:function(t){return _(t,"nextSibling")},prevAll:function(t){return _(t,"previousSibling")},nextUntil:function(t,e,i){return _(t,"nextSibling",i)},prevUntil:function(t,e,i){return _(t,"previousSibling",i)},siblings:function(t){return g((t.parentNode||{}).firstChild,t)},children:function(t){return g(t.firstChild)},contents:function(t){return t.contentDocument||$.merge([],t.childNodes)}},function(n,s){$.fn[n]=function(t,e){var i=$.map(this,s,t);return"Until"!==n.slice(-5)&&(e=t),e&&"string"==typeof e&&(i=$.filter(e,i)),1<this.length&&(I[n]||$.uniqueSort(i),T.test(n)&&i.reverse()),this.pushStack(i)}});var P,j=/\S+/g;function E(){S.removeEventListener("DOMContentLoaded",E),k.removeEventListener("load",E),$.ready()}$.Callbacks=function(n){var t,i;n="string"==typeof n?(t=n,i={},$.each(t.match(j)||[],function(t,e){i[e]=!0}),i):$.extend({},n);var s,e,o,a,r=[],l=[],c=-1,d=function(){for(a=n.once,o=s=!0;l.length;c=-1)for(e=l.shift();++c<r.length;)!1===r[c].apply(e[0],e[1])&&n.stopOnFalse&&(c=r.length,e=!1);n.memory||(e=!1),s=!1,a&&(r=e?[]:"")},h={add:function(){return r&&(e&&!s&&(c=r.length-1,l.push(e)),function i(t){$.each(t,function(t,e){$.isFunction(e)?n.unique&&h.has(e)||r.push(e):e&&e.length&&"string"!==$.type(e)&&i(e)})}(arguments),e&&!s&&d()),this},remove:function(){return $.each(arguments,function(t,e){for(var i;-1<(i=$.inArray(e,r,i));)r.splice(i,1),i<=c&&c--}),this},has:function(t){return t?-1<$.inArray(t,r):0<r.length},empty:function(){return r&&(r=[]),this},disable:function(){return a=l=[],r=e="",this},disabled:function(){return!r},lock:function(){return a=l=[],e||(r=e=""),this},locked:function(){return!!a},fireWith:function(t,e){return a||(e=[t,(e=e||[]).slice?e.slice():e],l.push(e),s||d()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!o}};return h},$.extend({Deferred:function(t){var o=[["resolve","done",$.Callbacks("once memory"),"resolved"],["reject","fail",$.Callbacks("once memory"),"rejected"],["notify","progress",$.Callbacks("memory")]],s="pending",a={state:function(){return s},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var s=arguments;return $.Deferred(function(n){$.each(o,function(t,e){var i=$.isFunction(s[t])&&s[t];r[e[1]](function(){var t=i&&i.apply(this,arguments);t&&$.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[e[0]+"With"](this===a?n.promise():this,i?[t]:arguments)})}),s=null}).promise()},promise:function(t){return null!=t?$.extend(t,a):a}},r={};return a.pipe=a.then,$.each(o,function(t,e){var i=e[2],n=e[3];a[e[1]]=i.add,n&&i.add(function(){s=n},o[1^t][2].disable,o[2][2].lock),r[e[0]]=function(){return r[e[0]+"With"](this===r?a:this,arguments),this},r[e[0]+"With"]=i.fireWith}),a.promise(r),t&&t.call(r,r),r},when:function(t){var s,e,i,n=0,o=d.call(arguments),a=o.length,r=1!==a||t&&$.isFunction(t.promise)?a:0,l=1===r?t:$.Deferred(),c=function(e,i,n){return function(t){i[e]=this,n[e]=1<arguments.length?d.call(arguments):t,n===s?l.notifyWith(i,n):--r||l.resolveWith(i,n)}};if(1<a)for(s=new Array(a),e=new Array(a),i=new Array(a);n<a;n++)o[n]&&$.isFunction(o[n].promise)?o[n].promise().progress(c(n,e,s)).done(c(n,i,o)).fail(l.reject):--r;return r||l.resolveWith(i,o),l.promise()}}),$.fn.ready=function(t){return $.ready.promise().done(t),this},$.extend({isReady:!1,readyWait:1,holdReady:function(t){t?$.readyWait++:$.ready(!0)},ready:function(t){(!0===t?--$.readyWait:$.isReady)||($.isReady=!0)!==t&&0<--$.readyWait||(P.resolveWith(S,[$]),$.fn.triggerHandler&&($(S).triggerHandler("ready"),$(S).off("ready")))}}),$.ready.promise=function(t){return P||(P=$.Deferred(),"complete"===S.readyState||"loading"!==S.readyState&&!S.documentElement.doScroll?k.setTimeout($.ready):(S.addEventListener("DOMContentLoaded",E),k.addEventListener("load",E))),P.promise(t)},$.ready.promise();var N=function(t,e,i,n,s,o,a){var r=0,l=t.length,c=null==i;if("object"===$.type(i))for(r in s=!0,i)N(t,e,r,i[r],!0,o,a);else if(void 0!==n&&(s=!0,$.isFunction(n)||(a=!0),c&&(e=a?(e.call(t,n),null):(c=e,function(t,e,i){return c.call($(t),i)})),e))for(;r<l;r++)e(t[r],i,a?n:n.call(t[r],r,e(t[r],i)));return s?t:c?e.call(t):l?e(t[0],i):o},O=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function A(){this.expando=$.expando+A.uid++}A.uid=1,A.prototype={register:function(t,e){var i=e||{};return t.nodeType?t[this.expando]=i:Object.defineProperty(t,this.expando,{value:i,writable:!0,configurable:!0}),t[this.expando]},cache:function(t){if(!O(t))return{};var e=t[this.expando];return e||(e={},O(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,s=this.cache(t);if("string"==typeof e)s[e]=i;else for(n in e)s[n]=e[n];return s},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][e]},access:function(t,e,i){var n;return void 0===e||e&&"string"==typeof e&&void 0===i?void 0!==(n=this.get(t,e))?n:this.get(t,$.camelCase(e)):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n,s,o=t[this.expando];if(void 0!==o){if(void 0===e)this.register(t);else{i=(n=$.isArray(e)?e.concat(e.map($.camelCase)):(s=$.camelCase(e),e in o?[e,s]:(n=s)in o?[n]:n.match(j)||[])).length;for(;i--;)delete o[n[i]]}(void 0===e||$.isEmptyObject(o))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!$.isEmptyObject(e)}};var R=new A,q=new A,D=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,L=/[A-Z]/g;function M(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(L,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(n))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:D.test(i)?$.parseJSON(i):i)}catch(t){}q.set(t,e,i)}else i=void 0;return i}$.extend({hasData:function(t){return q.hasData(t)||R.hasData(t)},data:function(t,e,i){return q.access(t,e,i)},removeData:function(t,e){q.remove(t,e)},_data:function(t,e,i){return R.access(t,e,i)},_removeData:function(t,e){R.remove(t,e)}}),$.fn.extend({data:function(n,t){var e,i,s,o=this[0],a=o&&o.attributes;if(void 0!==n)return"object"==typeof n?this.each(function(){q.set(this,n)}):N(this,function(e){var t,i;if(o&&void 0===e)return void 0!==(t=q.get(o,n)||q.get(o,n.replace(L,"-$&").toLowerCase()))?t:(i=$.camelCase(n),void 0!==(t=q.get(o,i))?t:void 0!==(t=M(o,i,void 0))?t:void 0);i=$.camelCase(n),this.each(function(){var t=q.get(this,i);q.set(this,i,e),-1<n.indexOf("-")&&void 0!==t&&q.set(this,n,e)})},null,t,1<arguments.length,null,!0);if(this.length&&(s=q.get(o),1===o.nodeType&&!R.get(o,"hasDataAttrs"))){for(e=a.length;e--;)a[e]&&0===(i=a[e].name).indexOf("data-")&&(i=$.camelCase(i.slice(5)),M(o,i,s[i]));R.set(o,"hasDataAttrs",!0)}return s},removeData:function(t){return this.each(function(){q.remove(this,t)})}}),$.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=R.get(t,e),i&&(!n||$.isArray(i)?n=R.access(t,e,$.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=$.queue(t,e),n=i.length,s=i.shift(),o=$._queueHooks(t,e);"inprogress"===s&&(s=i.shift(),n--),s&&("fx"===e&&i.unshift("inprogress"),delete o.stop,s.call(t,function(){$.dequeue(t,e)},o)),!n&&o&&o.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return R.get(t,i)||R.access(t,i,{empty:$.Callbacks("once memory").add(function(){R.remove(t,[e+"queue",i])})})}}),$.fn.extend({queue:function(e,i){var t=2;return"string"!=typeof e&&(i=e,e="fx",t--),arguments.length<t?$.queue(this[0],e):void 0===i?this:this.each(function(){var t=$.queue(this,e,i);$._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&$.dequeue(this,e)})},dequeue:function(t){return this.each(function(){$.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,s=$.Deferred(),o=this,a=this.length,r=function(){--n||s.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(i=R.get(o[a],t+"queueHooks"))&&i.empty&&(n++,i.empty.add(r));return r(),s.promise(e)}});var H=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,B=new RegExp("^(?:([+-])=|)("+H+")([a-z%]*)$","i"),F=["Top","Right","Bottom","Left"],W=function(t,e){return t=e||t,"none"===$.css(t,"display")||!$.contains(t.ownerDocument,t)};function J(t,e,i,n){var s,o=1,a=20,r=n?function(){return n.cur()}:function(){return $.css(t,e,"")},l=r(),c=i&&i[3]||($.cssNumber[e]?"":"px"),d=($.cssNumber[e]||"px"!==c&&+l)&&B.exec($.css(t,e));if(d&&d[3]!==c)for(c=c||d[3],i=i||[],d=+l||1;d/=o=o||".5",$.style(t,e,d+c),o!==(o=r()/l)&&1!==o&&--a;);return i&&(d=+d||+l||0,s=i[1]?d+(i[1]+1)*i[2]:+i[2],n&&(n.unit=c,n.start=d,n.end=s)),s}var U=/^(?:checkbox|radio)$/i,X=/<([\w:-]+)/,K=/^$|\/(?:java|ecma)script/i,G={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Q(t,e){var i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&$.nodeName(t,e)?$.merge([t],i):i}function Y(t,e){for(var i=0,n=t.length;i<n;i++)R.set(t[i],"globalEval",!e||R.get(e[i],"globalEval"))}G.optgroup=G.option,G.tbody=G.tfoot=G.colgroup=G.caption=G.thead,G.th=G.td;var Z,tt,et=/<|&#?\w+;/;function it(t,e,i,n,s){for(var o,a,r,l,c,d,h=e.createDocumentFragment(),u=[],p=0,m=t.length;p<m;p++)if((o=t[p])||0===o)if("object"===$.type(o))$.merge(u,o.nodeType?[o]:o);else if(et.test(o)){for(a=a||h.appendChild(e.createElement("div")),r=(X.exec(o)||["",""])[1].toLowerCase(),l=G[r]||G._default,a.innerHTML=l[1]+$.htmlPrefilter(o)+l[2],d=l[0];d--;)a=a.lastChild;$.merge(u,a.childNodes),(a=h.firstChild).textContent=""}else u.push(e.createTextNode(o));for(h.textContent="",p=0;o=u[p++];)if(n&&-1<$.inArray(o,n))s&&s.push(o);else if(c=$.contains(o.ownerDocument,o),a=Q(h.appendChild(o),"script"),c&&Y(a),i)for(d=0;o=a[d++];)K.test(o.type||"")&&i.push(o);return h}Z=S.createDocumentFragment().appendChild(S.createElement("div")),(tt=S.createElement("input")).setAttribute("type","radio"),tt.setAttribute("checked","checked"),tt.setAttribute("name","t"),Z.appendChild(tt),v.checkClone=Z.cloneNode(!0).cloneNode(!0).lastChild.checked,Z.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!Z.cloneNode(!0).lastChild.defaultValue;var nt=/^key/,st=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ot=/^([^.]*)(?:\.(.+)|)/;function at(){return!0}function rt(){return!1}function lt(){try{return S.activeElement}catch(t){}}function ct(t,e,i,n,s,o){var a,r;if("object"==typeof e){for(r in"string"!=typeof i&&(n=n||i,i=void 0),e)ct(t,r,i,n,e[r],o);return t}if(null==n&&null==s?(s=i,n=i=void 0):null==s&&("string"==typeof i?(s=n,n=void 0):(s=n,n=i,i=void 0)),!1===s)s=rt;else if(!s)return t;return 1===o&&(a=s,(s=function(t){return $().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=$.guid++)),t.each(function(){$.event.add(this,e,s,n,i)})}$.event={global:{},add:function(e,t,i,n,s){var o,a,r,l,c,d,h,u,p,m,f,v=R.get(e);if(v)for(i.handler&&(i=(o=i).handler,s=o.selector),i.guid||(i.guid=$.guid++),(l=v.events)||(l=v.events={}),(a=v.handle)||(a=v.handle=function(t){return void 0!==$&&$.event.triggered!==t.type?$.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(j)||[""]).length;c--;)p=f=(r=ot.exec(t[c])||[])[1],m=(r[2]||"").split(".").sort(),p&&(h=$.event.special[p]||{},p=(s?h.delegateType:h.bindType)||p,h=$.event.special[p]||{},d=$.extend({type:p,origType:f,data:n,handler:i,guid:i.guid,selector:s,needsContext:s&&$.expr.match.needsContext.test(s),namespace:m.join(".")},o),(u=l[p])||((u=l[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,n,m,a)||e.addEventListener&&e.addEventListener(p,a)),h.add&&(h.add.call(e,d),d.handler.guid||(d.handler.guid=i.guid)),s?u.splice(u.delegateCount++,0,d):u.push(d),$.event.global[p]=!0)},remove:function(t,e,i,n,s){var o,a,r,l,c,d,h,u,p,m,f,v=R.hasData(t)&&R.get(t);if(v&&(l=v.events)){for(c=(e=(e||"").match(j)||[""]).length;c--;)if(p=f=(r=ot.exec(e[c])||[])[1],m=(r[2]||"").split(".").sort(),p){for(h=$.event.special[p]||{},u=l[p=(n?h.delegateType:h.bindType)||p]||[],r=r[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=u.length;o--;)d=u[o],!s&&f!==d.origType||i&&i.guid!==d.guid||r&&!r.test(d.namespace)||n&&n!==d.selector&&("**"!==n||!d.selector)||(u.splice(o,1),d.selector&&u.delegateCount--,h.remove&&h.remove.call(t,d));a&&!u.length&&(h.teardown&&!1!==h.teardown.call(t,m,v.handle)||$.removeEvent(t,p,v.handle),delete l[p])}else for(p in l)$.event.remove(t,p+e[c],i,n,!0);$.isEmptyObject(l)&&R.remove(t,"handle events")}},dispatch:function(t){t=$.event.fix(t);var e,i,n,s,o,a,r=d.call(arguments),l=(R.get(this,"events")||{})[t.type]||[],c=$.event.special[t.type]||{};if((r[0]=t).delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,t)){for(a=$.event.handlers.call(this,t,l),e=0;(s=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=s.elem,i=0;(o=s.handlers[i++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(o.namespace)||(t.handleObj=o,t.data=o.data,void 0!==(n=(($.event.special[o.origType]||{}).handle||o.handler).apply(s.elem,r))&&!1===(t.result=n)&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,n,s,o,a=[],r=e.delegateCount,l=t.target;if(r&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(n=[],i=0;i<r;i++)void 0===n[s=(o=e[i]).selector+" "]&&(n[s]=o.needsContext?-1<$(s,this).index(l):$.find(s,this,null,[l]).length),n[s]&&n.push(o);n.length&&a.push({elem:l,handlers:n})}return r<e.length&&a.push({elem:this,handlers:e.slice(r)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,n,s,o=e.button;return null==t.pageX&&null!=e.clientX&&(n=(i=t.target.ownerDocument||S).documentElement,s=i.body,t.pageX=e.clientX+(n&&n.scrollLeft||s&&s.scrollLeft||0)-(n&&n.clientLeft||s&&s.clientLeft||0),t.pageY=e.clientY+(n&&n.scrollTop||s&&s.scrollTop||0)-(n&&n.clientTop||s&&s.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[$.expando])return t;var e,i,n,s=t.type,o=t,a=this.fixHooks[s];for(a||(this.fixHooks[s]=a=st.test(s)?this.mouseHooks:nt.test(s)?this.keyHooks:{}),n=a.props?this.props.concat(a.props):this.props,t=new $.Event(o),e=n.length;e--;)t[i=n[e]]=o[i];return t.target||(t.target=S),3===t.target.nodeType&&(t.target=t.target.parentNode),a.filter?a.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==lt()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===lt()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&$.nodeName(this,"input"))return this.click(),!1},_default:function(t){return $.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},$.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},$.Event=function(t,e){if(!(this instanceof $.Event))return new $.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?at:rt):this.type=t,e&&$.extend(this,e),this.timeStamp=t&&t.timeStamp||$.now(),this[$.expando]=!0},$.Event.prototype={constructor:$.Event,isDefaultPrevented:rt,isPropagationStopped:rt,isImmediatePropagationStopped:rt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=at,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=at,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=at,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},$.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,s){$.event.special[t]={delegateType:s,bindType:s,handle:function(t){var e,i=t.relatedTarget,n=t.handleObj;return i&&(i===this||$.contains(this,i))||(t.type=n.origType,e=n.handler.apply(this,arguments),t.type=s),e}}}),$.fn.extend({on:function(t,e,i,n){return ct(this,t,e,i,n)},one:function(t,e,i,n){return ct(this,t,e,i,n,1)},off:function(t,e,i){var n,s;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,$(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=rt),this.each(function(){$.event.remove(this,t,i,e)});for(s in t)this.off(s,e,t[s]);return this}});var dt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ht=/<script|<style|<link/i,ut=/checked\s*(?:[^=]|=\s*.checked.)/i,pt=/^true\/(.*)/,mt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function ft(t,e){return $.nodeName(t,"table")&&$.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function vt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function _t(t){var e=pt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function gt(t,e){var i,n,s,o,a,r,l,c;if(1===e.nodeType){if(R.hasData(t)&&(o=R.access(t),a=R.set(e,o),c=o.events))for(s in delete a.handle,a.events={},c)for(i=0,n=c[s].length;i<n;i++)$.event.add(e,s,c[s][i]);q.hasData(t)&&(r=q.access(t),l=$.extend({},r),q.set(e,l))}}function bt(i,n,s,o){n=f.apply([],n);var t,e,a,r,l,c,d=0,h=i.length,u=h-1,p=n[0],m=$.isFunction(p);if(m||1<h&&"string"==typeof p&&!v.checkClone&&ut.test(p))return i.each(function(t){var e=i.eq(t);m&&(n[0]=p.call(this,t,e.html())),bt(e,n,s,o)});if(h&&(e=(t=it(n,i[0].ownerDocument,!1,i,o)).firstChild,1===t.childNodes.length&&(t=e),e||o)){for(r=(a=$.map(Q(t,"script"),vt)).length;d<h;d++)l=t,d!==u&&(l=$.clone(l,!0,!0),r&&$.merge(a,Q(l,"script"))),s.call(i[d],l,d);if(r)for(c=a[a.length-1].ownerDocument,$.map(a,_t),d=0;d<r;d++)l=a[d],K.test(l.type||"")&&!R.access(l,"globalEval")&&$.contains(c,l)&&(l.src?$._evalUrl&&$._evalUrl(l.src):$.globalEval(l.textContent.replace(mt,"")))}return i}function wt(t,e,i){for(var n,s=e?$.filter(e,t):t,o=0;null!=(n=s[o]);o++)i||1!==n.nodeType||$.cleanData(Q(n)),n.parentNode&&(i&&$.contains(n.ownerDocument,n)&&Y(Q(n,"script")),n.parentNode.removeChild(n));return t}$.extend({htmlPrefilter:function(t){return t.replace(dt,"<$1></$2>")},clone:function(t,e,i){var n,s,o,a,r,l,c,d=t.cloneNode(!0),h=$.contains(t.ownerDocument,t);if(!(v.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||$.isXMLDoc(t)))for(a=Q(d),n=0,s=(o=Q(t)).length;n<s;n++)r=o[n],l=a[n],void 0,"input"===(c=l.nodeName.toLowerCase())&&U.test(r.type)?l.checked=r.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=r.defaultValue);if(e)if(i)for(o=o||Q(t),a=a||Q(d),n=0,s=o.length;n<s;n++)gt(o[n],a[n]);else gt(t,d);return 0<(a=Q(d,"script")).length&&Y(a,!h&&Q(t,"script")),d},cleanData:function(t){for(var e,i,n,s=$.event.special,o=0;void 0!==(i=t[o]);o++)if(O(i)){if(e=i[R.expando]){if(e.events)for(n in e.events)s[n]?$.event.remove(i,n):$.removeEvent(i,n,e.handle);i[R.expando]=void 0}i[q.expando]&&(i[q.expando]=void 0)}}}),$.fn.extend({domManip:bt,detach:function(t){return wt(this,t,!0)},remove:function(t){return wt(this,t)},text:function(t){return N(this,function(t){return void 0===t?$.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return bt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ft(this,t).appendChild(t)})},prepend:function(){return bt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=ft(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return bt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return bt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&($.cleanData(Q(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return $.clone(this,t,e)})},html:function(t){return N(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!ht.test(t)&&!G[(X.exec(t)||["",""])[1].toLowerCase()]){t=$.htmlPrefilter(t);try{for(;i<n;i++)1===(e=this[i]||{}).nodeType&&($.cleanData(Q(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var i=[];return bt(this,arguments,function(t){var e=this.parentNode;$.inArray(this,i)<0&&($.cleanData(Q(this)),e&&e.replaceChild(t,this))},i)}}),$.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,a){$.fn[t]=function(t){for(var e,i=[],n=$(t),s=n.length-1,o=0;o<=s;o++)e=o===s?this:this.clone(!0),$(n[o])[a](e),r.apply(i,e.get());return this.pushStack(i)}});var yt,xt={HTML:"block",BODY:"block"};function kt(t,e){var i=$(e.createElement(t)).appendTo(e.body),n=$.css(i[0],"display");return i.detach(),n}function St(t){var e=S,i=xt[t];return i||("none"!==(i=kt(t,e))&&i||((e=(yt=(yt||$("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentDocument).write(),e.close(),i=kt(t,e),yt.detach()),xt[t]=i),i}var $t=/^margin/,zt=new RegExp("^("+H+")(?!px)[a-z%]+$","i"),Ct=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=k),e.getComputedStyle(t)},Tt=function(t,e,i,n){var s,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];for(o in s=i.apply(t,n||[]),e)t.style[o]=a[o];return s},It=S.documentElement;function Vt(t,e,i){var n,s,o,a,r=t.style;return""!==(a=(i=i||Ct(t))?i.getPropertyValue(e)||i[e]:void 0)&&void 0!==a||$.contains(t.ownerDocument,t)||(a=$.style(t,e)),i&&!v.pixelMarginRight()&&zt.test(a)&&$t.test(e)&&(n=r.width,s=r.minWidth,o=r.maxWidth,r.minWidth=r.maxWidth=r.width=a,a=i.width,r.width=n,r.minWidth=s,r.maxWidth=o),void 0!==a?a+"":a}function Pt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){var e,i,n,s,o=S.createElement("div"),a=S.createElement("div");function t(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",It.appendChild(o);var t=k.getComputedStyle(a);e="1%"!==t.top,s="2px"===t.marginLeft,i="4px"===t.width,a.style.marginRight="50%",n="4px"===t.marginRight,It.removeChild(o)}a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===a.style.backgroundClip,o.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",o.appendChild(a),$.extend(v,{pixelPosition:function(){return t(),e},boxSizingReliable:function(){return null==i&&t(),i},pixelMarginRight:function(){return null==i&&t(),n},reliableMarginLeft:function(){return null==i&&t(),s},reliableMarginRight:function(){var t,e=a.appendChild(S.createElement("div"));return e.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",a.style.width="1px",It.appendChild(o),t=!parseFloat(k.getComputedStyle(e).marginRight),It.removeChild(o),a.removeChild(e),t}}))}();var jt=/^(none|table(?!-c[ea]).+)/,Et={position:"absolute",visibility:"hidden",display:"block"},Nt={letterSpacing:"0",fontWeight:"400"},Ot=["Webkit","O","Moz","ms"],At=S.createElement("div").style;function Rt(t){if(t in At)return t;for(var e=t[0].toUpperCase()+t.slice(1),i=Ot.length;i--;)if((t=Ot[i]+e)in At)return t}function qt(t,e,i){var n=B.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function Dt(t,e,i,n,s){for(var o=i===(n?"border":"content")?4:"width"===e?1:0,a=0;o<4;o+=2)"margin"===i&&(a+=$.css(t,i+F[o],!0,s)),n?("content"===i&&(a-=$.css(t,"padding"+F[o],!0,s)),"margin"!==i&&(a-=$.css(t,"border"+F[o]+"Width",!0,s))):(a+=$.css(t,"padding"+F[o],!0,s),"padding"!==i&&(a+=$.css(t,"border"+F[o]+"Width",!0,s)));return a}function Lt(t,e,i){var n=!0,s="width"===e?t.offsetWidth:t.offsetHeight,o=Ct(t),a="border-box"===$.css(t,"boxSizing",!1,o);if(s<=0||null==s){if(((s=Vt(t,e,o))<0||null==s)&&(s=t.style[e]),zt.test(s))return s;n=a&&(v.boxSizingReliable()||s===t.style[e]),s=parseFloat(s)||0}return s+Dt(t,e,i||(a?"border":"content"),n,o)+"px"}function Mt(t,e){for(var i,n,s,o=[],a=0,r=t.length;a<r;a++)(n=t[a]).style&&(o[a]=R.get(n,"olddisplay"),i=n.style.display,e?(o[a]||"none"!==i||(n.style.display=""),""===n.style.display&&W(n)&&(o[a]=R.access(n,"olddisplay",St(n.nodeName)))):(s=W(n),"none"===i&&s||R.set(n,"olddisplay",s?i:$.css(n,"display"))));for(a=0;a<r;a++)(n=t[a]).style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?o[a]||"":"none"));return t}function Ht(t,e,i,n,s){return new Ht.prototype.init(t,e,i,n,s)}$.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=Vt(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var s,o,a,r=$.camelCase(e),l=t.style;if(e=$.cssProps[r]||($.cssProps[r]=Rt(r)||r),a=$.cssHooks[e]||$.cssHooks[r],void 0===i)return a&&"get"in a&&void 0!==(s=a.get(t,!1,n))?s:l[e];"string"===(o=typeof i)&&(s=B.exec(i))&&s[1]&&(i=J(t,e,s),o="number"),null!=i&&i==i&&("number"===o&&(i+=s&&s[3]||($.cssNumber[r]?"":"px")),v.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),a&&"set"in a&&void 0===(i=a.set(t,i,n))||(l[e]=i))}},css:function(t,e,i,n){var s,o,a,r=$.camelCase(e);return e=$.cssProps[r]||($.cssProps[r]=Rt(r)||r),(a=$.cssHooks[e]||$.cssHooks[r])&&"get"in a&&(s=a.get(t,!0,i)),void 0===s&&(s=Vt(t,e,n)),"normal"===s&&e in Nt&&(s=Nt[e]),""===i||i?(o=parseFloat(s),!0===i||isFinite(o)?o||0:s):s}}),$.each(["height","width"],function(t,a){$.cssHooks[a]={get:function(t,e,i){if(e)return jt.test($.css(t,"display"))&&0===t.offsetWidth?Tt(t,Et,function(){return Lt(t,a,i)}):Lt(t,a,i)},set:function(t,e,i){var n,s=i&&Ct(t),o=i&&Dt(t,a,i,"border-box"===$.css(t,"boxSizing",!1,s),s);return o&&(n=B.exec(e))&&"px"!==(n[3]||"px")&&(t.style[a]=e,e=$.css(t,a)),qt(0,e,o)}}}),$.cssHooks.marginLeft=Pt(v.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Vt(t,"marginLeft"))||t.getBoundingClientRect().left-Tt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),$.cssHooks.marginRight=Pt(v.reliableMarginRight,function(t,e){if(e)return Tt(t,{display:"inline-block"},Vt,[t,"marginRight"])}),$.each({margin:"",padding:"",border:"Width"},function(s,o){$.cssHooks[s+o]={expand:function(t){for(var e=0,i={},n="string"==typeof t?t.split(" "):[t];e<4;e++)i[s+F[e]+o]=n[e]||n[e-2]||n[0];return i}},$t.test(s)||($.cssHooks[s+o].set=qt)}),$.fn.extend({css:function(t,e){return N(this,function(t,e,i){var n,s,o={},a=0;if($.isArray(e)){for(n=Ct(t),s=e.length;a<s;a++)o[e[a]]=$.css(t,e[a],!1,n);return o}return void 0!==i?$.style(t,e,i):$.css(t,e)},t,e,1<arguments.length)},show:function(){return Mt(this,!0)},hide:function(){return Mt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){W(this)?$(this).show():$(this).hide()})}}),(($.Tween=Ht).prototype={constructor:Ht,init:function(t,e,i,n,s,o){this.elem=t,this.prop=i,this.easing=s||$.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=o||($.cssNumber[i]?"":"px")},cur:function(){var t=Ht.propHooks[this.prop];return t&&t.get?t.get(this):Ht.propHooks._default.get(this)},run:function(t){var e,i=Ht.propHooks[this.prop];return this.options.duration?this.pos=e=$.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):Ht.propHooks._default.set(this),this}}).init.prototype=Ht.prototype,(Ht.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=$.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){$.fx.step[t.prop]?$.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[$.cssProps[t.prop]]&&!$.cssHooks[t.prop]?t.elem[t.prop]=t.now:$.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=Ht.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},$.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},$.fx=Ht.prototype.init,$.fx.step={};var Bt,Ft,Wt,Jt,Ut,Xt=/^(?:toggle|show|hide)$/,Kt=/queueHooks$/;function Gt(){return k.setTimeout(function(){Bt=void 0}),Bt=$.now()}function Qt(t,e){var i,n=0,s={height:t};for(e=e?1:0;n<4;n+=2-e)s["margin"+(i=F[n])]=s["padding"+i]=t;return e&&(s.opacity=s.width=t),s}function Yt(t,e,i){for(var n,s=(Zt.tweeners[e]||[]).concat(Zt.tweeners["*"]),o=0,a=s.length;o<a;o++)if(n=s[o].call(i,e,t))return n}function Zt(o,t,e){var i,a,n=0,s=Zt.prefilters.length,r=$.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var t=Bt||Gt(),e=Math.max(0,c.startTime+c.duration-t),i=1-(e/c.duration||0),n=0,s=c.tweens.length;n<s;n++)c.tweens[n].run(i);return r.notifyWith(o,[c,i,e]),i<1&&s?e:(r.resolveWith(o,[c]),!1)},c=r.promise({elem:o,props:$.extend({},t),opts:$.extend(!0,{specialEasing:{},easing:$.easing._default},e),originalProperties:t,originalOptions:e,startTime:Bt||Gt(),duration:e.duration,tweens:[],createTween:function(t,e){var i=$.Tween(o,c.opts,t,e,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var e=0,i=t?c.tweens.length:0;if(a)return this;for(a=!0;e<i;e++)c.tweens[e].run(1);return t?(r.notifyWith(o,[c,1,0]),r.resolveWith(o,[c,t])):r.rejectWith(o,[c,t]),this}}),d=c.props;for(!function(t,e){var i,n,s,o,a;for(i in t)if(s=e[n=$.camelCase(i)],o=t[i],$.isArray(o)&&(s=o[1],o=t[i]=o[0]),i!==n&&(t[n]=o,delete t[i]),(a=$.cssHooks[n])&&"expand"in a)for(i in o=a.expand(o),delete t[n],o)i in t||(t[i]=o[i],e[i]=s);else e[n]=s}(d,c.opts.specialEasing);n<s;n++)if(i=Zt.prefilters[n].call(c,o,d,c.opts))return $.isFunction(i.stop)&&($._queueHooks(c.elem,c.opts.queue).stop=$.proxy(i.stop,i)),i;return $.map(d,Yt,c),$.isFunction(c.opts.start)&&c.opts.start.call(o,c),$.fx.timer($.extend(l,{elem:o,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}$.Animation=$.extend(Zt,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return J(i.elem,t,B.exec(e),i),i}]},tweener:function(t,e){for(var i,n=0,s=(t=$.isFunction(t)?(e=t,["*"]):t.match(j)).length;n<s;n++)i=t[n],Zt.tweeners[i]=Zt.tweeners[i]||[],Zt.tweeners[i].unshift(e)},prefilters:[function(e,t,i){var n,s,o,a,r,l,c,d=this,h={},u=e.style,p=e.nodeType&&W(e),m=R.get(e,"fxshow");for(n in i.queue||(null==(r=$._queueHooks(e,"fx")).unqueued&&(r.unqueued=0,l=r.empty.fire,r.empty.fire=function(){r.unqueued||l()}),r.unqueued++,d.always(function(){d.always(function(){r.unqueued--,$.queue(e,"fx").length||r.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[u.overflow,u.overflowX,u.overflowY],"inline"===("none"===(c=$.css(e,"display"))?R.get(e,"olddisplay")||St(e.nodeName):c)&&"none"===$.css(e,"float")&&(u.display="inline-block")),i.overflow&&(u.overflow="hidden",d.always(function(){u.overflow=i.overflow[0],u.overflowX=i.overflow[1],u.overflowY=i.overflow[2]})),t)if(s=t[n],Xt.exec(s)){if(delete t[n],o=o||"toggle"===s,s===(p?"hide":"show")){if("show"!==s||!m||void 0===m[n])continue;p=!0}h[n]=m&&m[n]||$.style(e,n)}else c=void 0;if($.isEmptyObject(h))"inline"===("none"===c?St(e.nodeName):c)&&(u.display=c);else for(n in m?"hidden"in m&&(p=m.hidden):m=R.access(e,"fxshow",{}),o&&(m.hidden=!p),p?$(e).show():d.done(function(){$(e).hide()}),d.done(function(){var t;for(t in R.remove(e,"fxshow"),h)$.style(e,t,h[t])}),h)a=Yt(p?m[n]:0,n,d),n in m||(m[n]=a.start,p&&(a.end=a.start,a.start="width"===n||"height"===n?1:0))}],prefilter:function(t,e){e?Zt.prefilters.unshift(t):Zt.prefilters.push(t)}}),$.speed=function(t,e,i){var n=t&&"object"==typeof t?$.extend({},t):{complete:i||!i&&e||$.isFunction(t)&&t,duration:t,easing:i&&e||e&&!$.isFunction(e)&&e};return n.duration=$.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in $.fx.speeds?$.fx.speeds[n.duration]:$.fx.speeds._default,null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){$.isFunction(n.old)&&n.old.call(this),n.queue&&$.dequeue(this,n.queue)},n},$.fn.extend({fadeTo:function(t,e,i,n){return this.filter(W).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(e,t,i,n){var s=$.isEmptyObject(e),o=$.speed(t,i,n),a=function(){var t=Zt(this,$.extend({},e),o);(s||R.get(this,"finish"))&&t.stop(!0)};return a.finish=a,s||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(s,t,o){var a=function(t){var e=t.stop;delete t.stop,e(o)};return"string"!=typeof s&&(o=t,t=s,s=void 0),t&&!1!==s&&this.queue(s||"fx",[]),this.each(function(){var t=!0,e=null!=s&&s+"queueHooks",i=$.timers,n=R.get(this);if(e)n[e]&&n[e].stop&&a(n[e]);else for(e in n)n[e]&&n[e].stop&&Kt.test(e)&&a(n[e]);for(e=i.length;e--;)i[e].elem!==this||null!=s&&i[e].queue!==s||(i[e].anim.stop(o),t=!1,i.splice(e,1));!t&&o||$.dequeue(this,s)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var t,e=R.get(this),i=e[a+"queue"],n=e[a+"queueHooks"],s=$.timers,o=i?i.length:0;for(e.finish=!0,$.queue(this,a,[]),n&&n.stop&&n.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===a&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<o;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete e.finish})}}),$.each(["toggle","show","hide"],function(t,n){var s=$.fn[n];$.fn[n]=function(t,e,i){return null==t||"boolean"==typeof t?s.apply(this,arguments):this.animate(Qt(n,!0),t,e,i)}}),$.each({slideDown:Qt("show"),slideUp:Qt("hide"),slideToggle:Qt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,n){$.fn[t]=function(t,e,i){return this.animate(n,t,e,i)}}),$.timers=[],$.fx.tick=function(){var t,e=0,i=$.timers;for(Bt=$.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||$.fx.stop(),Bt=void 0},$.fx.timer=function(t){$.timers.push(t),t()?$.fx.start():$.timers.pop()},$.fx.interval=13,$.fx.start=function(){Ft||(Ft=k.setInterval($.fx.tick,$.fx.interval))},$.fx.stop=function(){k.clearInterval(Ft),Ft=null},$.fx.speeds={slow:600,fast:200,_default:400},$.fn.delay=function(n,t){return n=$.fx&&$.fx.speeds[n]||n,t=t||"fx",this.queue(t,function(t,e){var i=k.setTimeout(t,n);e.stop=function(){k.clearTimeout(i)}})},Wt=S.createElement("input"),Jt=S.createElement("select"),Ut=Jt.appendChild(S.createElement("option")),Wt.type="checkbox",v.checkOn=""!==Wt.value,v.optSelected=Ut.selected,Jt.disabled=!0,v.optDisabled=!Ut.disabled,(Wt=S.createElement("input")).value="t",Wt.type="radio",v.radioValue="t"===Wt.value;var te,ee=$.expr.attrHandle;$.fn.extend({attr:function(t,e){return N(this,$.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){$.removeAttr(this,t)})}}),$.extend({attr:function(t,e,i){var n,s,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?$.prop(t,e,i):(1===o&&$.isXMLDoc(t)||(e=e.toLowerCase(),s=$.attrHooks[e]||($.expr.match.bool.test(e)?te:void 0)),void 0!==i?null===i?void $.removeAttr(t,e):s&&"set"in s&&void 0!==(n=s.set(t,i,e))?n:(t.setAttribute(e,i+""),i):s&&"get"in s&&null!==(n=s.get(t,e))?n:null==(n=$.find.attr(t,e))?void 0:n)},attrHooks:{type:{set:function(t,e){if(!v.radioValue&&"radio"===e&&$.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n,s=0,o=e&&e.match(j);if(o&&1===t.nodeType)for(;i=o[s++];)n=$.propFix[i]||i,$.expr.match.bool.test(i)&&(t[n]=!1),t.removeAttribute(i)}}),te={set:function(t,e,i){return!1===e?$.removeAttr(t,i):t.setAttribute(i,i),i}},$.each($.expr.match.bool.source.match(/\w+/g),function(t,e){var o=ee[e]||$.find.attr;ee[e]=function(t,e,i){var n,s;return i||(s=ee[e],ee[e]=n,n=null!=o(t,e,i)?e.toLowerCase():null,ee[e]=s),n}});var ie=/^(?:input|select|textarea|button)$/i,ne=/^(?:a|area)$/i;$.fn.extend({prop:function(t,e){return N(this,$.prop,t,e,1<arguments.length)},removeProp:function(t){return this.each(function(){delete this[$.propFix[t]||t]})}}),$.extend({prop:function(t,e,i){var n,s,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&$.isXMLDoc(t)||(e=$.propFix[e]||e,s=$.propHooks[e]),void 0!==i?s&&"set"in s&&void 0!==(n=s.set(t,i,e))?n:t[e]=i:s&&"get"in s&&null!==(n=s.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=$.find.attr(t,"tabindex");return e?parseInt(e,10):ie.test(t.nodeName)||ne.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||($.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),$.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){$.propFix[this.toLowerCase()]=this});var se=/[\t\r\n\f]/g;function oe(t){return t.getAttribute&&t.getAttribute("class")||""}$.fn.extend({addClass:function(e){var t,i,n,s,o,a,r,l=0;if($.isFunction(e))return this.each(function(t){$(this).addClass(e.call(this,t,oe(this)))});if("string"==typeof e&&e)for(t=e.match(j)||[];i=this[l++];)if(s=oe(i),n=1===i.nodeType&&(" "+s+" ").replace(se," ")){for(a=0;o=t[a++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");s!==(r=$.trim(n))&&i.setAttribute("class",r)}return this},removeClass:function(e){var t,i,n,s,o,a,r,l=0;if($.isFunction(e))return this.each(function(t){$(this).removeClass(e.call(this,t,oe(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(j)||[];i=this[l++];)if(s=oe(i),n=1===i.nodeType&&(" "+s+" ").replace(se," ")){for(a=0;o=t[a++];)for(;-1<n.indexOf(" "+o+" ");)n=n.replace(" "+o+" "," ");s!==(r=$.trim(n))&&i.setAttribute("class",r)}return this},toggleClass:function(s,e){var o=typeof s;return"boolean"==typeof e&&"string"===o?e?this.addClass(s):this.removeClass(s):$.isFunction(s)?this.each(function(t){$(this).toggleClass(s.call(this,t,oe(this),e),e)}):this.each(function(){var t,e,i,n;if("string"===o)for(e=0,i=$(this),n=s.match(j)||[];t=n[e++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==s&&"boolean"!==o||((t=oe(this))&&R.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===s?"":R.get(this,"__className__")||""))})},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&-1<(" "+oe(i)+" ").replace(se," ").indexOf(e))return!0;return!1}});var ae=/\r/g,re=/[\x20\t\r\n\f]+/g;$.fn.extend({val:function(i){var n,t,s,e=this[0];return arguments.length?(s=$.isFunction(i),this.each(function(t){var e;1===this.nodeType&&(null==(e=s?i.call(this,t,$(this).val()):i)?e="":"number"==typeof e?e+="":$.isArray(e)&&(e=$.map(e,function(t){return null==t?"":t+""})),(n=$.valHooks[this.type]||$.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,e,"value")||(this.value=e))})):e?(n=$.valHooks[e.type]||$.valHooks[e.nodeName.toLowerCase()])&&"get"in n&&void 0!==(t=n.get(e,"value"))?t:"string"==typeof(t=e.value)?t.replace(ae,""):null==t?"":t:void 0}}),$.extend({valHooks:{option:{get:function(t){var e=$.find.attr(t,"value");return null!=e?e:$.trim($.text(t)).replace(re," ")}},select:{get:function(t){for(var e,i,n=t.options,s=t.selectedIndex,o="select-one"===t.type||s<0,a=o?null:[],r=o?s+1:n.length,l=s<0?r:o?s:0;l<r;l++)if(((i=n[l]).selected||l===s)&&(v.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!$.nodeName(i.parentNode,"optgroup"))){if(e=$(i).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var i,n,s=t.options,o=$.makeArray(e),a=s.length;a--;)((n=s[a]).selected=-1<$.inArray($.valHooks.option.get(n),o))&&(i=!0);return i||(t.selectedIndex=-1),o}}}}),$.each(["radio","checkbox"],function(){$.valHooks[this]={set:function(t,e){if($.isArray(e))return t.checked=-1<$.inArray($(t).val(),e)}},v.checkOn||($.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var le=/^(?:focusinfocus|focusoutblur)$/;$.extend($.event,{trigger:function(t,e,i,n){var s,o,a,r,l,c,d,h=[i||S],u=m.call(t,"type")?t.type:t,p=m.call(t,"namespace")?t.namespace.split("."):[];if(o=a=i=i||S,3!==i.nodeType&&8!==i.nodeType&&!le.test(u+$.event.triggered)&&(-1<u.indexOf(".")&&(u=(p=u.split(".")).shift(),p.sort()),l=u.indexOf(":")<0&&"on"+u,(t=t[$.expando]?t:new $.Event(u,"object"==typeof t&&t)).isTrigger=n?2:3,t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:$.makeArray(e,[t]),d=$.event.special[u]||{},n||!d.trigger||!1!==d.trigger.apply(i,e))){if(!n&&!d.noBubble&&!$.isWindow(i)){for(r=d.delegateType||u,le.test(r+u)||(o=o.parentNode);o;o=o.parentNode)h.push(o),a=o;a===(i.ownerDocument||S)&&h.push(a.defaultView||a.parentWindow||k)}for(s=0;(o=h[s++])&&!t.isPropagationStopped();)t.type=1<s?r:d.bindType||u,(c=(R.get(o,"events")||{})[t.type]&&R.get(o,"handle"))&&c.apply(o,e),(c=l&&o[l])&&c.apply&&O(o)&&(t.result=c.apply(o,e),!1===t.result&&t.preventDefault());return t.type=u,n||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(h.pop(),e)||!O(i)||l&&$.isFunction(i[u])&&!$.isWindow(i)&&((a=i[l])&&(i[l]=null),i[$.event.triggered=u](),$.event.triggered=void 0,a&&(i[l]=a)),t.result}},simulate:function(t,e,i){var n=$.extend(new $.Event,i,{type:t,isSimulated:!0});$.event.trigger(n,null,e)}}),$.fn.extend({trigger:function(t,e){return this.each(function(){$.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return $.event.trigger(t,e,i,!0)}}),$.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,i){$.fn[i]=function(t,e){return 0<arguments.length?this.on(i,null,t,e):this.trigger(i)}}),$.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),v.focusin="onfocusin"in k,v.focusin||$.each({focus:"focusin",blur:"focusout"},function(i,n){var s=function(t){$.event.simulate(n,t.target,$.event.fix(t))};$.event.special[n]={setup:function(){var t=this.ownerDocument||this,e=R.access(t,n);e||t.addEventListener(i,s,!0),R.access(t,n,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this,e=R.access(t,n)-1;e?R.access(t,n,e):(t.removeEventListener(i,s,!0),R.remove(t,n))}}});var ce=k.location,de=$.now(),he=/\?/;$.parseJSON=function(t){return JSON.parse(t+"")},$.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new k.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||$.error("Invalid XML: "+t),e};var ue=/#.*$/,pe=/([?&])_=[^&]*/,me=/^(.*?):[ \t]*([^\r\n]*)$/gm,fe=/^(?:GET|HEAD)$/,ve=/^\/\//,_e={},ge={},be="*/".concat("*"),we=S.createElement("a");function ye(o){return function(t,e){"string"!=typeof t&&(e=t,t="*");var i,n=0,s=t.toLowerCase().match(j)||[];if($.isFunction(e))for(;i=s[n++];)"+"===i[0]?(i=i.slice(1)||"*",(o[i]=o[i]||[]).unshift(e)):(o[i]=o[i]||[]).push(e)}}function xe(e,s,o,a){var r={},l=e===ge;function c(t){var n;return r[t]=!0,$.each(e[t]||[],function(t,e){var i=e(s,o,a);return"string"!=typeof i||l||r[i]?l?!(n=i):void 0:(s.dataTypes.unshift(i),c(i),!1)}),n}return c(s.dataTypes[0])||!r["*"]&&c("*")}function ke(t,e){var i,n,s=$.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((s[i]?t:n||(n={}))[i]=e[i]);return n&&$.extend(!0,t,n),t}we.href=ce.href,$.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ce.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ce.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":be,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":$.parseJSON,"text xml":$.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?ke(ke(t,$.ajaxSettings),e):ke($.ajaxSettings,t)},ajaxPrefilter:ye(_e),ajaxTransport:ye(ge),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var d,h,u,i,p,n,m,s,f=$.ajaxSetup({},e),v=f.context||f,_=f.context&&(v.nodeType||v.jquery)?$(v):$.event,g=$.Deferred(),b=$.Callbacks("once memory"),w=f.statusCode||{},o={},a={},y=0,r="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===y){if(!i)for(i={};e=me.exec(u);)i[e[1].toLowerCase()]=e[2];e=i[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===y?u:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return y||(t=a[i]=a[i]||t,o[t]=e),this},overrideMimeType:function(t){return y||(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(y<2)for(e in t)w[e]=[w[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||r;return d&&d.abort(e),l(0,e),this}};if(g.promise(x).complete=b.add,x.success=x.done,x.error=x.fail,f.url=((t||f.url||ce.href)+"").replace(ue,"").replace(ve,ce.protocol+"//"),f.type=e.method||e.type||f.method||f.type,f.dataTypes=$.trim(f.dataType||"*").toLowerCase().match(j)||[""],null==f.crossDomain){n=S.createElement("a");try{n.href=f.url,n.href=n.href,f.crossDomain=we.protocol+"//"+we.host!=n.protocol+"//"+n.host}catch(t){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=$.param(f.data,f.traditional)),xe(_e,f,e,x),2===y)return x;for(s in(m=$.event&&f.global)&&0==$.active++&&$.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!fe.test(f.type),h=f.url,f.hasContent||(f.data&&(h=f.url+=(he.test(h)?"&":"?")+f.data,delete f.data),!1===f.cache&&(f.url=pe.test(h)?h.replace(pe,"$1_="+de++):h+(he.test(h)?"&":"?")+"_="+de++)),f.ifModified&&($.lastModified[h]&&x.setRequestHeader("If-Modified-Since",$.lastModified[h]),$.etag[h]&&x.setRequestHeader("If-None-Match",$.etag[h])),(f.data&&f.hasContent&&!1!==f.contentType||e.contentType)&&x.setRequestHeader("Content-Type",f.contentType),x.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+be+"; q=0.01":""):f.accepts["*"]),f.headers)x.setRequestHeader(s,f.headers[s]);if(f.beforeSend&&(!1===f.beforeSend.call(v,x,f)||2===y))return x.abort();for(s in r="abort",{success:1,error:1,complete:1})x[s](f[s]);if(d=xe(ge,f,e,x)){if(x.readyState=1,m&&_.trigger("ajaxSend",[x,f]),2===y)return x;f.async&&0<f.timeout&&(p=k.setTimeout(function(){x.abort("timeout")},f.timeout));try{y=1,d.send(o,l)}catch(t){if(!(y<2))throw t;l(-1,t)}}else l(-1,"No Transport");function l(t,e,i,n){var s,o,a,r,l,c=e;2!==y&&(y=2,p&&k.clearTimeout(p),d=void 0,u=n||"",x.readyState=0<t?4:0,s=200<=t&&t<300||304===t,i&&(r=function(t,e,i){for(var n,s,o,a,r=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(s in r)if(r[s]&&r[s].test(n)){l.unshift(s);break}if(l[0]in i)o=l[0];else{for(s in i){if(!l[0]||t.converters[s+" "+l[0]]){o=s;break}a||(a=s)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),i[o]}(f,x,i)),r=function(t,e,i,n){var s,o,a,r,l,c={},d=t.dataTypes.slice();if(d[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(o=d.shift();o;)if(t.responseFields[o]&&(i[t.responseFields[o]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=d.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=c[l+" "+o]||c["* "+o]))for(s in c)if((r=s.split(" "))[1]===o&&(a=c[l+" "+r[0]]||c["* "+r[0]])){!0===a?a=c[s]:!0!==c[s]&&(o=r[0],d.unshift(r[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}(f,r,x,s),s?(f.ifModified&&((l=x.getResponseHeader("Last-Modified"))&&($.lastModified[h]=l),(l=x.getResponseHeader("etag"))&&($.etag[h]=l)),204===t||"HEAD"===f.type?c="nocontent":304===t?c="notmodified":(c=r.state,o=r.data,s=!(a=r.error))):(a=c,!t&&c||(c="error",t<0&&(t=0))),x.status=t,x.statusText=(e||c)+"",s?g.resolveWith(v,[o,c,x]):g.rejectWith(v,[x,c,a]),x.statusCode(w),w=void 0,m&&_.trigger(s?"ajaxSuccess":"ajaxError",[x,f,s?o:a]),b.fireWith(v,[x,c]),m&&(_.trigger("ajaxComplete",[x,f]),--$.active||$.event.trigger("ajaxStop")))}return x},getJSON:function(t,e,i){return $.get(t,e,i,"json")},getScript:function(t,e){return $.get(t,void 0,e,"script")}}),$.each(["get","post"],function(t,s){$[s]=function(t,e,i,n){return $.isFunction(e)&&(n=n||i,i=e,e=void 0),$.ajax($.extend({url:t,type:s,dataType:n,data:e,success:i},$.isPlainObject(t)&&t))}}),$._evalUrl=function(t){return $.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},$.fn.extend({wrapAll:function(e){var t;return $.isFunction(e)?this.each(function(t){$(this).wrapAll(e.call(this,t))}):(this[0]&&(t=$(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(i){return $.isFunction(i)?this.each(function(t){$(this).wrapInner(i.call(this,t))}):this.each(function(){var t=$(this),e=t.contents();e.length?e.wrapAll(i):t.append(i)})},wrap:function(e){var i=$.isFunction(e);return this.each(function(t){$(this).wrapAll(i?e.call(this,t):e)})},unwrap:function(){return this.parent().each(function(){$.nodeName(this,"body")||$(this).replaceWith(this.childNodes)}).end()}}),$.expr.filters.hidden=function(t){return!$.expr.filters.visible(t)},$.expr.filters.visible=function(t){return 0<t.offsetWidth||0<t.offsetHeight||0<t.getClientRects().length};var Se=/%20/g,$e=/\[\]$/,ze=/\r?\n/g,Ce=/^(?:submit|button|image|reset|file)$/i,Te=/^(?:input|select|textarea|keygen)/i;function Ie(i,t,n,s){var e;if($.isArray(t))$.each(t,function(t,e){n||$e.test(i)?s(i,e):Ie(i+"["+("object"==typeof e&&null!=e?t:"")+"]",e,n,s)});else if(n||"object"!==$.type(t))s(i,t);else for(e in t)Ie(i+"["+e+"]",t[e],n,s)}$.param=function(t,e){var i,n=[],s=function(t,e){e=$.isFunction(e)?e():null==e?"":e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=$.ajaxSettings&&$.ajaxSettings.traditional),$.isArray(t)||t.jquery&&!$.isPlainObject(t))$.each(t,function(){s(this.name,this.value)});else for(i in t)Ie(i,t[i],e,s);return n.join("&").replace(Se,"+")},$.fn.extend({serialize:function(){return $.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=$.prop(this,"elements");return t?$.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!$(this).is(":disabled")&&Te.test(this.nodeName)&&!Ce.test(t)&&(this.checked||!U.test(t))}).map(function(t,e){var i=$(this).val();return null==i?null:$.isArray(i)?$.map(i,function(t){return{name:e.name,value:t.replace(ze,"\r\n")}}):{name:e.name,value:i.replace(ze,"\r\n")}}).get()}}),$.ajaxSettings.xhr=function(){try{return new k.XMLHttpRequest}catch(t){}};var Ve={0:200,1223:204},Pe=$.ajaxSettings.xhr();v.cors=!!Pe&&"withCredentials"in Pe,v.ajax=Pe=!!Pe,$.ajaxTransport(function(s){var o,a;if(v.cors||Pe&&!s.crossDomain)return{send:function(t,e){var i,n=s.xhr();if(n.open(s.type,s.url,s.async,s.username,s.password),s.xhrFields)for(i in s.xhrFields)n[i]=s.xhrFields[i];for(i in s.mimeType&&n.overrideMimeType&&n.overrideMimeType(s.mimeType),s.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)n.setRequestHeader(i,t[i]);o=function(t){return function(){o&&(o=a=n.onload=n.onerror=n.onabort=n.onreadystatechange=null,"abort"===t?n.abort():"error"===t?"number"!=typeof n.status?e(0,"error"):e(n.status,n.statusText):e(Ve[n.status]||n.status,n.statusText,"text"!==(n.responseType||"text")||"string"!=typeof n.responseText?{binary:n.response}:{text:n.responseText},n.getAllResponseHeaders()))}},n.onload=o(),a=n.onerror=o("error"),void 0!==n.onabort?n.onabort=a:n.onreadystatechange=function(){4===n.readyState&&k.setTimeout(function(){o&&a()})},o=o("abort");try{n.send(s.hasContent&&s.data||null)}catch(t){if(o)throw t}},abort:function(){o&&o()}}}),$.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return $.globalEval(t),t}}}),$.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),$.ajaxTransport("script",function(i){var n,s;if(i.crossDomain)return{send:function(t,e){n=$("<script>").prop({charset:i.scriptCharset,src:i.url}).on("load error",s=function(t){n.remove(),s=null,t&&e("error"===t.type?404:200,t.type)}),S.head.appendChild(n[0])},abort:function(){s&&s()}}});var je=[],Ee=/(=)\?(?=&|$)|\?\?/;$.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=je.pop()||$.expando+"_"+de++;return this[t]=!0,t}}),$.ajaxPrefilter("json jsonp",function(t,e,i){var n,s,o,a=!1!==t.jsonp&&(Ee.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ee.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return n=t.jsonpCallback=$.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Ee,"$1"+n):!1!==t.jsonp&&(t.url+=(he.test(t.url)?"&":"?")+t.jsonp+"="+n),t.converters["script json"]=function(){return o||$.error(n+" was not called"),o[0]},t.dataTypes[0]="json",s=k[n],k[n]=function(){o=arguments},i.always(function(){void 0===s?$(k).removeProp(n):k[n]=s,t[n]&&(t.jsonpCallback=e.jsonpCallback,je.push(n)),o&&$.isFunction(s)&&s(o[0]),o=s=void 0}),"script"}),$.parseHTML=function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||S;var n=w.exec(t),s=!i&&[];return n?[e.createElement(n[1])]:(n=it([t],e,s),s&&s.length&&$(s).remove(),$.merge([],n.childNodes))};var Ne=$.fn.load;function Oe(t){return $.isWindow(t)?t:9===t.nodeType&&t.defaultView}$.fn.load=function(t,e,i){if("string"!=typeof t&&Ne)return Ne.apply(this,arguments);var n,s,o,a=this,r=t.indexOf(" ");return-1<r&&(n=$.trim(t.slice(r)),t=t.slice(0,r)),$.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(s="POST"),0<a.length&&$.ajax({url:t,type:s||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(n?$("<div>").append($.parseHTML(t)).find(n):t)}).always(i&&function(t,e){a.each(function(){i.apply(this,o||[t.responseText,e,t])})}),this},$.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){$.fn[e]=function(t){return this.on(e,t)}}),$.expr.filters.animated=function(e){return $.grep($.timers,function(t){return e===t.elem}).length},$.offset={setOffset:function(t,e,i){var n,s,o,a,r,l,c=$.css(t,"position"),d=$(t),h={};"static"===c&&(t.style.position="relative"),r=d.offset(),o=$.css(t,"top"),l=$.css(t,"left"),s=("absolute"===c||"fixed"===c)&&-1<(o+l).indexOf("auto")?(a=(n=d.position()).top,n.left):(a=parseFloat(o)||0,parseFloat(l)||0),$.isFunction(e)&&(e=e.call(t,i,$.extend({},r))),null!=e.top&&(h.top=e.top-r.top+a),null!=e.left&&(h.left=e.left-r.left+s),"using"in e?e.using.call(t,h):d.css(h)}},$.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){$.offset.setOffset(this,e,t)});var t,i,n=this[0],s={top:0,left:0},o=n&&n.ownerDocument;return o?(t=o.documentElement,$.contains(t,n)?(s=n.getBoundingClientRect(),i=Oe(o),{top:s.top+i.pageYOffset-t.clientTop,left:s.left+i.pageXOffset-t.clientLeft}):s):void 0},position:function(){if(this[0]){var t,e,i=this[0],n={top:0,left:0};return"fixed"===$.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),$.nodeName(t[0],"html")||(n=t.offset()),n.top+=$.css(t[0],"borderTopWidth",!0),n.left+=$.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-$.css(i,"marginTop",!0),left:e.left-n.left-$.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===$.css(t,"position");)t=t.offsetParent;return t||It})}}),$.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,s){var o="pageYOffset"===s;$.fn[e]=function(t){return N(this,function(t,e,i){var n=Oe(t);if(void 0===i)return n?n[s]:t[e];n?n.scrollTo(o?n.pageXOffset:i,o?i:n.pageYOffset):t[e]=i},e,t,arguments.length)}}),$.each(["top","left"],function(t,i){$.cssHooks[i]=Pt(v.pixelPosition,function(t,e){if(e)return e=Vt(t,i),zt.test(e)?$(t).position()[i]+"px":e})}),$.each({Height:"height",Width:"width"},function(o,a){$.each({padding:"inner"+o,content:a,"":"outer"+o},function(n,t){$.fn[t]=function(t,e){var i=arguments.length&&(n||"boolean"!=typeof t),s=n||(!0===t||!0===e?"margin":"border");return N(this,function(t,e,i){var n;return $.isWindow(t)?t.document.documentElement["client"+o]:9===t.nodeType?(n=t.documentElement,Math.max(t.body["scroll"+o],n["scroll"+o],t.body["offset"+o],n["offset"+o],n["client"+o])):void 0===i?$.css(t,e,s):$.style(t,e,i,s)},a,i?t:void 0,i,null)}})}),$.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)},size:function(){return this.length}}),$.fn.andSelf=$.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return $});var Ae=k.jQuery,Re=k.$;return $.noConflict=function(t){return k.$===$&&(k.$=Re),t&&k.jQuery===$&&(k.jQuery=Ae),$},t||(k.jQuery=k.$=$),$}),function(){var t="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this||{},e=t._,n=Array.prototype,a=Object.prototype,h="undefined"!=typeof Symbol?Symbol.prototype:null,s=n.push,l=n.slice,u=a.toString,o=a.hasOwnProperty,i=Array.isArray,r=Object.keys,c=Object.create,d=function(){},p=function(t){return t instanceof p?t:this instanceof p?void(this._wrapped=t):new p(t)};"undefined"==typeof exports||exports.nodeType?t._=p:("undefined"!=typeof module&&!module.nodeType&&module.exports&&(exports=module.exports=p),exports._=p),p.VERSION="1.9.1";var m,f=function(s,o,t){if(void 0===o)return s;switch(null==t?3:t){case 1:return function(t){return s.call(o,t)};case 3:return function(t,e,i){return s.call(o,t,e,i)};case 4:return function(t,e,i,n){return s.call(o,t,e,i,n)}}return function(){return s.apply(o,arguments)}},v=function(t,e,i){return p.iteratee!==m?p.iteratee(t,e):null==t?p.identity:p.isFunction(t)?f(t,e,i):p.isObject(t)&&!p.isArray(t)?p.matcher(t):p.property(t)};p.iteratee=m=function(t,e){return v(t,e,1/0)};var _=function(s,o){return o=null==o?s.length-1:+o,function(){for(var t=Math.max(arguments.length-o,0),e=Array(t),i=0;i<t;i++)e[i]=arguments[i+o];switch(o){case 0:return s.call(this,e);case 1:return s.call(this,arguments[0],e);case 2:return s.call(this,arguments[0],arguments[1],e)}var n=Array(o+1);for(i=0;i<o;i++)n[i]=arguments[i];return n[o]=e,s.apply(this,n)}},g=function(t){if(!p.isObject(t))return{};if(c)return c(t);d.prototype=t;var e=new d;return d.prototype=null,e},b=function(e){return function(t){return null==t?void 0:t[e]}},w=function(t,e){return null!=t&&o.call(t,e)},y=function(t,e){for(var i=e.length,n=0;n<i;n++){if(null==t)return;t=t[e[n]]}return i?t:void 0},x=Math.pow(2,53)-1,k=b("length"),S=function(t){var e=k(t);return"number"==typeof e&&0<=e&&e<=x};p.each=p.forEach=function(t,e,i){var n,s;if(e=f(e,i),S(t))for(n=0,s=t.length;n<s;n++)e(t[n],n,t);else{var o=p.keys(t);for(n=0,s=o.length;n<s;n++)e(t[o[n]],o[n],t)}return t},p.map=p.collect=function(t,e,i){e=v(e,i);for(var n=!S(t)&&p.keys(t),s=(n||t).length,o=Array(s),a=0;a<s;a++){var r=n?n[a]:a;o[a]=e(t[r],r,t)}return o};var $=function(l){return function(t,e,i,n){var s=3<=arguments.length;return function(t,e,i,n){var s=!S(t)&&p.keys(t),o=(s||t).length,a=0<l?0:o-1;for(n||(i=t[s?s[a]:a],a+=l);0<=a&&a<o;a+=l){var r=s?s[a]:a;i=e(i,t[r],r,t)}return i}(t,f(e,n,4),i,s)}};p.reduce=p.foldl=p.inject=$(1),p.reduceRight=p.foldr=$(-1),p.find=p.detect=function(t,e,i){var n=(S(t)?p.findIndex:p.findKey)(t,e,i);if(void 0!==n&&-1!==n)return t[n]},p.filter=p.select=function(t,n,e){var s=[];return n=v(n,e),p.each(t,function(t,e,i){n(t,e,i)&&s.push(t)}),s},p.reject=function(t,e,i){return p.filter(t,p.negate(v(e)),i)},p.every=p.all=function(t,e,i){e=v(e,i);for(var n=!S(t)&&p.keys(t),s=(n||t).length,o=0;o<s;o++){var a=n?n[o]:o;if(!e(t[a],a,t))return!1}return!0},p.some=p.any=function(t,e,i){e=v(e,i);for(var n=!S(t)&&p.keys(t),s=(n||t).length,o=0;o<s;o++){var a=n?n[o]:o;if(e(t[a],a,t))return!0}return!1},p.contains=p.includes=p.include=function(t,e,i,n){return S(t)||(t=p.values(t)),("number"!=typeof i||n)&&(i=0),0<=p.indexOf(t,e,i)},p.invoke=_(function(t,i,n){var s,o;return p.isFunction(i)?o=i:p.isArray(i)&&(s=i.slice(0,-1),i=i[i.length-1]),p.map(t,function(t){var e=o;if(!e){if(s&&s.length&&(t=y(t,s)),null==t)return;e=t[i]}return null==e?e:e.apply(t,n)})}),p.pluck=function(t,e){return p.map(t,p.property(e))},p.where=function(t,e){return p.filter(t,p.matcher(e))},p.findWhere=function(t,e){return p.find(t,p.matcher(e))},p.max=function(t,n,e){var i,s,o=-1/0,a=-1/0;if(null==n||"number"==typeof n&&"object"!=typeof t[0]&&null!=t)for(var r=0,l=(t=S(t)?t:p.values(t)).length;r<l;r++)null!=(i=t[r])&&o<i&&(o=i);else n=v(n,e),p.each(t,function(t,e,i){s=n(t,e,i),(a<s||s===-1/0&&o===-1/0)&&(o=t,a=s)});return o},p.min=function(t,n,e){var i,s,o=1/0,a=1/0;if(null==n||"number"==typeof n&&"object"!=typeof t[0]&&null!=t)for(var r=0,l=(t=S(t)?t:p.values(t)).length;r<l;r++)null!=(i=t[r])&&i<o&&(o=i);else n=v(n,e),p.each(t,function(t,e,i){((s=n(t,e,i))<a||s===1/0&&o===1/0)&&(o=t,a=s)});return o},p.shuffle=function(t){return p.sample(t,1/0)},p.sample=function(t,e,i){if(null==e||i)return S(t)||(t=p.values(t)),t[p.random(t.length-1)];var n=S(t)?p.clone(t):p.values(t),s=k(n);e=Math.max(Math.min(e,s),0);for(var o=s-1,a=0;a<e;a++){var r=p.random(a,o),l=n[a];n[a]=n[r],n[r]=l}return n.slice(0,e)},p.sortBy=function(t,n,e){var s=0;return n=v(n,e),p.pluck(p.map(t,function(t,e,i){return{value:t,index:s++,criteria:n(t,e,i)}}).sort(function(t,e){var i=t.criteria,n=e.criteria;if(i!==n){if(n<i||void 0===i)return 1;if(i<n||void 0===n)return-1}return t.index-e.index}),"value")};var z=function(a,e){return function(n,s,t){var o=e?[[],[]]:{};return s=v(s,t),p.each(n,function(t,e){var i=s(t,e,n);a(o,t,i)}),o}};p.groupBy=z(function(t,e,i){w(t,i)?t[i].push(e):t[i]=[e]}),p.indexBy=z(function(t,e,i){t[i]=e}),p.countBy=z(function(t,e,i){w(t,i)?t[i]++:t[i]=1});var C=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;p.toArray=function(t){return t?p.isArray(t)?l.call(t):p.isString(t)?t.match(C):S(t)?p.map(t,p.identity):p.values(t):[]},p.size=function(t){return null==t?0:S(t)?t.length:p.keys(t).length},p.partition=z(function(t,e,i){t[i?0:1].push(e)},!0),p.first=p.head=p.take=function(t,e,i){return null==t||t.length<1?null==e?void 0:[]:null==e||i?t[0]:p.initial(t,t.length-e)},p.initial=function(t,e,i){return l.call(t,0,Math.max(0,t.length-(null==e||i?1:e)))},p.last=function(t,e,i){return null==t||t.length<1?null==e?void 0:[]:null==e||i?t[t.length-1]:p.rest(t,Math.max(0,t.length-e))},p.rest=p.tail=p.drop=function(t,e,i){return l.call(t,null==e||i?1:e)},p.compact=function(t){return p.filter(t,Boolean)};var T=function(t,e,i,n){for(var s=(n=n||[]).length,o=0,a=k(t);o<a;o++){var r=t[o];if(S(r)&&(p.isArray(r)||p.isArguments(r)))if(e)for(var l=0,c=r.length;l<c;)n[s++]=r[l++];else T(r,e,i,n),s=n.length;else i||(n[s++]=r)}return n};p.flatten=function(t,e){return T(t,e,!1)},p.without=_(function(t,e){return p.difference(t,e)}),p.uniq=p.unique=function(t,e,i,n){p.isBoolean(e)||(n=i,i=e,e=!1),null!=i&&(i=v(i,n));for(var s=[],o=[],a=0,r=k(t);a<r;a++){var l=t[a],c=i?i(l,a,t):l;e&&!i?(a&&o===c||s.push(l),o=c):i?p.contains(o,c)||(o.push(c),s.push(l)):p.contains(s,l)||s.push(l)}return s},p.union=_(function(t){return p.uniq(T(t,!0,!0))}),p.intersection=function(t){for(var e=[],i=arguments.length,n=0,s=k(t);n<s;n++){var o=t[n];if(!p.contains(e,o)){var a;for(a=1;a<i&&p.contains(arguments[a],o);a++);a===i&&e.push(o)}}return e},p.difference=_(function(t,e){return e=T(e,!0,!0),p.filter(t,function(t){return!p.contains(e,t)})}),p.unzip=function(t){for(var e=t&&p.max(t,k).length||0,i=Array(e),n=0;n<e;n++)i[n]=p.pluck(t,n);return i},p.zip=_(p.unzip),p.object=function(t,e){for(var i={},n=0,s=k(t);n<s;n++)e?i[t[n]]=e[n]:i[t[n][0]]=t[n][1];return i};var I=function(o){return function(t,e,i){e=v(e,i);for(var n=k(t),s=0<o?0:n-1;0<=s&&s<n;s+=o)if(e(t[s],s,t))return s;return-1}};p.findIndex=I(1),p.findLastIndex=I(-1),p.sortedIndex=function(t,e,i,n){for(var s=(i=v(i,n,1))(e),o=0,a=k(t);o<a;){var r=Math.floor((o+a)/2);i(t[r])<s?o=r+1:a=r}return o};var V=function(o,a,r){return function(t,e,i){var n=0,s=k(t);if("number"==typeof i)0<o?n=0<=i?i:Math.max(i+s,n):s=0<=i?Math.min(i+1,s):i+s+1;else if(r&&i&&s)return t[i=r(t,e)]===e?i:-1;if(e!=e)return 0<=(i=a(l.call(t,n,s),p.isNaN))?i+n:-1;for(i=0<o?n:s-1;0<=i&&i<s;i+=o)if(t[i]===e)return i;return-1}};p.indexOf=V(1,p.findIndex,p.sortedIndex),p.lastIndexOf=V(-1,p.findLastIndex),p.range=function(t,e,i){null==e&&(e=t||0,t=0),i||(i=e<t?-1:1);for(var n=Math.max(Math.ceil((e-t)/i),0),s=Array(n),o=0;o<n;o++,t+=i)s[o]=t;return s},p.chunk=function(t,e){if(null==e||e<1)return[];for(var i=[],n=0,s=t.length;n<s;)i.push(l.call(t,n,n+=e));return i};var P=function(t,e,i,n,s){if(!(n instanceof e))return t.apply(i,s);var o=g(t.prototype),a=t.apply(o,s);return p.isObject(a)?a:o};p.bind=_(function(e,i,n){if(!p.isFunction(e))throw new TypeError("Bind must be called on a function");var s=_(function(t){return P(e,s,i,this,n.concat(t))});return s}),p.partial=_(function(s,o){var a=p.partial.placeholder,r=function(){for(var t=0,e=o.length,i=Array(e),n=0;n<e;n++)i[n]=o[n]===a?arguments[t++]:o[n];for(;t<arguments.length;)i.push(arguments[t++]);return P(s,r,this,this,i)};return r}),(p.partial.placeholder=p).bindAll=_(function(t,e){var i=(e=T(e,!1,!1)).length;if(i<1)throw new Error("bindAll must be passed function names");for(;i--;){var n=e[i];t[n]=p.bind(t[n],t)}}),p.memoize=function(n,s){var o=function(t){var e=o.cache,i=""+(s?s.apply(this,arguments):t);return w(e,i)||(e[i]=n.apply(this,arguments)),e[i]};return o.cache={},o},p.delay=_(function(t,e,i){return setTimeout(function(){return t.apply(null,i)},e)}),p.defer=p.partial(p.delay,p,1),p.throttle=function(i,n,s){var o,a,r,l,c=0;s||(s={});var d=function(){c=!1===s.leading?0:p.now(),o=null,l=i.apply(a,r),o||(a=r=null)},t=function(){var t=p.now();c||!1!==s.leading||(c=t);var e=n-(t-c);return a=this,r=arguments,e<=0||n<e?(o&&(clearTimeout(o),o=null),c=t,l=i.apply(a,r),o||(a=r=null)):o||!1===s.trailing||(o=setTimeout(d,e)),l};return t.cancel=function(){clearTimeout(o),c=0,o=a=r=null},t},p.debounce=function(i,n,s){var o,a,r=function(t,e){o=null,e&&(a=i.apply(t,e))},t=_(function(t){if(o&&clearTimeout(o),s){var e=!o;o=setTimeout(r,n),e&&(a=i.apply(this,t))}else o=p.delay(r,n,this,t);return a});return t.cancel=function(){clearTimeout(o),o=null},t},p.wrap=function(t,e){return p.partial(e,t)},p.negate=function(t){return function(){return!t.apply(this,arguments)}},p.compose=function(){var i=arguments,n=i.length-1;return function(){for(var t=n,e=i[n].apply(this,arguments);t--;)e=i[t].call(this,e);return e}},p.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},p.before=function(t,e){var i;return function(){return 0<--t&&(i=e.apply(this,arguments)),t<=1&&(e=null),i}},p.once=p.partial(p.before,2),p.restArguments=_;var j=!{toString:null}.propertyIsEnumerable("toString"),E=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],N=function(t,e){var i=E.length,n=t.constructor,s=p.isFunction(n)&&n.prototype||a,o="constructor";for(w(t,o)&&!p.contains(e,o)&&e.push(o);i--;)(o=E[i])in t&&t[o]!==s[o]&&!p.contains(e,o)&&e.push(o)};p.keys=function(t){if(!p.isObject(t))return[];if(r)return r(t);var e=[];for(var i in t)w(t,i)&&e.push(i);return j&&N(t,e),e},p.allKeys=function(t){if(!p.isObject(t))return[];var e=[];for(var i in t)e.push(i);return j&&N(t,e),e},p.values=function(t){for(var e=p.keys(t),i=e.length,n=Array(i),s=0;s<i;s++)n[s]=t[e[s]];return n},p.mapObject=function(t,e,i){e=v(e,i);for(var n=p.keys(t),s=n.length,o={},a=0;a<s;a++){var r=n[a];o[r]=e(t[r],r,t)}return o},p.pairs=function(t){for(var e=p.keys(t),i=e.length,n=Array(i),s=0;s<i;s++)n[s]=[e[s],t[e[s]]];return n},p.invert=function(t){for(var e={},i=p.keys(t),n=0,s=i.length;n<s;n++)e[t[i[n]]]=i[n];return e},p.functions=p.methods=function(t){var e=[];for(var i in t)p.isFunction(t[i])&&e.push(i);return e.sort()};var O=function(l,c){return function(t){var e=arguments.length;if(c&&(t=Object(t)),e<2||null==t)return t;for(var i=1;i<e;i++)for(var n=arguments[i],s=l(n),o=s.length,a=0;a<o;a++){var r=s[a];c&&void 0!==t[r]||(t[r]=n[r])}return t}};p.extend=O(p.allKeys),p.extendOwn=p.assign=O(p.keys),p.findKey=function(t,e,i){e=v(e,i);for(var n,s=p.keys(t),o=0,a=s.length;o<a;o++)if(e(t[n=s[o]],n,t))return n};var A,R,q=function(t,e,i){return e in i};p.pick=_(function(t,e){var i={},n=e[0];if(null==t)return i;p.isFunction(n)?(1<e.length&&(n=f(n,e[1])),e=p.allKeys(t)):(n=q,e=T(e,!1,!1),t=Object(t));for(var s=0,o=e.length;s<o;s++){var a=e[s],r=t[a];n(r,a,t)&&(i[a]=r)}return i}),p.omit=_(function(t,i){var e,n=i[0];return p.isFunction(n)?(n=p.negate(n),1<i.length&&(e=i[1])):(i=p.map(T(i,!1,!1),String),n=function(t,e){return!p.contains(i,e)}),p.pick(t,n,e)}),p.defaults=O(p.allKeys,!0),p.create=function(t,e){var i=g(t);return e&&p.extendOwn(i,e),i},p.clone=function(t){return p.isObject(t)?p.isArray(t)?t.slice():p.extend({},t):t},p.tap=function(t,e){return e(t),t},p.isMatch=function(t,e){var i=p.keys(e),n=i.length;if(null==t)return!n;for(var s=Object(t),o=0;o<n;o++){var a=i[o];if(e[a]!==s[a]||!(a in s))return!1}return!0},A=function(t,e,i,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var s=typeof t;return("function"===s||"object"===s||"object"==typeof e)&&R(t,e,i,n)},R=function(t,e,i,n){t instanceof p&&(t=t._wrapped),e instanceof p&&(e=e._wrapped);var s=u.call(t);if(s!==u.call(e))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return h.valueOf.call(t)===h.valueOf.call(e)}var o="[object Array]"===s;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,r=e.constructor;if(a!==r&&!(p.isFunction(a)&&a instanceof a&&p.isFunction(r)&&r instanceof r)&&"constructor"in t&&"constructor"in e)return!1}n=n||[];for(var l=(i=i||[]).length;l--;)if(i[l]===t)return n[l]===e;if(i.push(t),n.push(e),o){if((l=t.length)!==e.length)return!1;for(;l--;)if(!A(t[l],e[l],i,n))return!1}else{var c,d=p.keys(t);if(l=d.length,p.keys(e).length!==l)return!1;for(;l--;)if(c=d[l],!w(e,c)||!A(t[c],e[c],i,n))return!1}return i.pop(),n.pop(),!0},p.isEqual=function(t,e){return A(t,e)},p.isEmpty=function(t){return null==t||(S(t)&&(p.isArray(t)||p.isString(t)||p.isArguments(t))?0===t.length:0===p.keys(t).length)},p.isElement=function(t){return!(!t||1!==t.nodeType)},p.isArray=i||function(t){return"[object Array]"===u.call(t)},p.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},p.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(e){p["is"+e]=function(t){return u.call(t)==="[object "+e+"]"}}),p.isArguments(arguments)||(p.isArguments=function(t){return w(t,"callee")});var D=t.document&&t.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof D&&(p.isFunction=function(t){return"function"==typeof t||!1}),p.isFinite=function(t){return!p.isSymbol(t)&&isFinite(t)&&!isNaN(parseFloat(t))},p.isNaN=function(t){return p.isNumber(t)&&isNaN(t)},p.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===u.call(t)},p.isNull=function(t){return null===t},p.isUndefined=function(t){return void 0===t},p.has=function(t,e){if(!p.isArray(e))return w(t,e);for(var i=e.length,n=0;n<i;n++){var s=e[n];if(null==t||!o.call(t,s))return!1;t=t[s]}return!!i},p.noConflict=function(){return t._=e,this},p.identity=function(t){return t},p.constant=function(t){return function(){return t}},p.noop=function(){},p.property=function(e){return p.isArray(e)?function(t){return y(t,e)}:b(e)},p.propertyOf=function(e){return null==e?function(){}:function(t){return p.isArray(t)?y(e,t):e[t]}},p.matcher=p.matches=function(e){return e=p.extendOwn({},e),function(t){return p.isMatch(t,e)}},p.times=function(t,e,i){var n=Array(Math.max(0,t));e=f(e,i,1);for(var s=0;s<t;s++)n[s]=e(s);return n},p.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},p.now=Date.now||function(){return(new Date).getTime()};var L={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},M=p.invert(L),H=function(e){var i=function(t){return e[t]},t="(?:"+p.keys(e).join("|")+")",n=RegExp(t),s=RegExp(t,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(s,i):t}};p.escape=H(L),p.unescape=H(M),p.result=function(t,e,i){p.isArray(e)||(e=[e]);var n=e.length;if(!n)return p.isFunction(i)?i.call(t):i;for(var s=0;s<n;s++){var o=null==t?void 0:t[e[s]];void 0===o&&(o=i,s=n),t=p.isFunction(o)?o.call(t):o}return t};var B=0;p.uniqueId=function(t){var e=++B+"";return t?t+e:e},p.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var F=/(.)^/,W={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},J=/\\|'|\r|\n|\u2028|\u2029/g,U=function(t){return"\\"+W[t]};p.template=function(o,t,e){!t&&e&&(t=e),t=p.defaults({},t,p.templateSettings);var i,n=RegExp([(t.escape||F).source,(t.interpolate||F).source,(t.evaluate||F).source].join("|")+"|$","g"),a=0,r="__p+='";o.replace(n,function(t,e,i,n,s){return r+=o.slice(a,s).replace(J,U),a=s+t.length,e?r+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":i?r+="'+\n((__t=("+i+"))==null?'':__t)+\n'":n&&(r+="';\n"+n+"\n__p+='"),t}),r+="';\n",t.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{i=new Function(t.variable||"obj","_",r)}catch(t){throw t.source=r,t}var s=function(t){return i.call(this,t,p)},l=t.variable||"obj";return s.source="function("+l+"){\n"+r+"}",s},p.chain=function(t){var e=p(t);return e._chain=!0,e};var X=function(t,e){return t._chain?p(e).chain():e};p.mixin=function(i){return p.each(p.functions(i),function(t){var e=p[t]=i[t];p.prototype[t]=function(){var t=[this._wrapped];return s.apply(t,arguments),X(this,e.apply(p,t))}}),p},p.mixin(p),p.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var i=n[e];p.prototype[e]=function(){var t=this._wrapped;return i.apply(t,arguments),"shift"!==e&&"splice"!==e||0!==t.length||delete t[0],X(this,t)}}),p.each(["concat","join","slice"],function(t){var e=n[t];p.prototype[t]=function(){return X(this,e.apply(this._wrapped,arguments))}}),p.prototype.value=function(){return this._wrapped},p.prototype.valueOf=p.prototype.toJSON=p.prototype.value,p.prototype.toString=function(){return String(this._wrapped)},"function"==typeof define&&define.amd&&define("underscore",[],function(){return p})}(),function(n){var s="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global;if("function"==typeof define&&define.amd)define("backbone",["underscore","jquery","exports"],function(t,e,i){s.Backbone=n(s,i,t,e)});else if("undefined"!=typeof exports){var t,e=require("underscore");try{t=require("jquery")}catch(t){}n(s,exports,e,t)}else s.Backbone=n(s,{},s._,s.jQuery||s.Zepto||s.ender||s.$)}(function(t,l,y,e){var i=t.Backbone,o=Array.prototype.slice;l.VERSION="1.3.3",l.$=e,l.noConflict=function(){return t.Backbone=i,this},l.emulateHTTP=!1,l.emulateJSON=!1;var n=function(i,t,n){y.each(t,function(t,e){y[e]&&(i.prototype[e]=function(t,n,s){switch(t){case 1:return function(){return y[n](this[s])};case 2:return function(t){return y[n](this[s],t)};case 3:return function(t,e){return y[n](this[s],a(t,this),e)};case 4:return function(t,e,i){return y[n](this[s],a(t,this),e,i)};default:return function(){var t=o.call(arguments);return t.unshift(this[s]),y[n].apply(y,t)}}}(t,e,n))})},a=function(e,t){return y.isFunction(e)?e:y.isObject(e)&&!t._isModel(e)?s(e):y.isString(e)?function(t){return t.get(e)}:e},s=function(t){var e=y.matches(t);return function(t){return e(t.attributes)}},r=l.Events={},c=/\s+/,d=function(t,e,i,n,s){var o,a=0;if(i&&"object"==typeof i){void 0!==n&&"context"in s&&void 0===s.context&&(s.context=n);for(o=y.keys(i);a<o.length;a++)e=d(t,e,o[a],i[o[a]],s)}else if(i&&c.test(i))for(o=i.split(c);a<o.length;a++)e=t(e,o[a],n,s);else e=t(e,i,n,s);return e};r.on=function(t,e,i){return h(this,t,e,i)};var h=function(t,e,i,n,s){(t._events=d(u,t._events||{},e,i,{context:n,ctx:t,listening:s}),s)&&((t._listeners||(t._listeners={}))[s.id]=s);return t};r.listenTo=function(t,e,i){if(!t)return this;var n=t._listenId||(t._listenId=y.uniqueId("l")),s=this._listeningTo||(this._listeningTo={}),o=s[n];if(!o){var a=this._listenId||(this._listenId=y.uniqueId("l"));o=s[n]={obj:t,objId:n,id:a,listeningTo:s,count:0}}return h(t,e,i,this,o),this};var u=function(t,e,i,n){if(i){var s=t[e]||(t[e]=[]),o=n.context,a=n.ctx,r=n.listening;r&&r.count++,s.push({callback:i,context:o,ctx:o||a,listening:r})}return t};r.off=function(t,e,i){return this._events&&(this._events=d(p,this._events,t,e,{context:i,listeners:this._listeners})),this},r.stopListening=function(t,e,i){var n=this._listeningTo;if(!n)return this;for(var s=t?[t._listenId]:y.keys(n),o=0;o<s.length;o++){var a=n[s[o]];if(!a)break;a.obj.off(e,i,this)}return this};var p=function(t,e,i,n){if(t){var s,o=0,a=n.context,r=n.listeners;if(e||i||a){for(var l=e?[e]:y.keys(t);o<l.length;o++){var c=t[e=l[o]];if(!c)break;for(var d=[],h=0;h<c.length;h++){var u=c[h];i&&i!==u.callback&&i!==u.callback._callback||a&&a!==u.context?d.push(u):(s=u.listening)&&0==--s.count&&(delete r[s.id],delete s.listeningTo[s.objId])}d.length?t[e]=d:delete t[e]}return t}for(var p=y.keys(r);o<p.length;o++)delete r[(s=r[p[o]]).id],delete s.listeningTo[s.objId]}};r.once=function(t,e,i){var n=d(m,{},t,e,y.bind(this.off,this));return"string"==typeof t&&null==i&&(e=void 0),this.on(n,e,i)},r.listenToOnce=function(t,e,i){var n=d(m,{},e,i,y.bind(this.stopListening,this,t));return this.listenTo(t,n)};var m=function(t,e,i,n){if(i){var s=t[e]=y.once(function(){n(e,s),i.apply(this,arguments)});s._callback=i}return t};r.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),i=Array(e),n=0;n<e;n++)i[n]=arguments[n+1];return d(f,this._events,t,void 0,i),this};var f=function(t,e,i,n){if(t){var s=t[e],o=t.all;s&&o&&(o=o.slice()),s&&v(s,n),o&&v(o,[e].concat(n))}return t},v=function(t,e){var i,n=-1,s=t.length,o=e[0],a=e[1],r=e[2];switch(e.length){case 0:for(;++n<s;)(i=t[n]).callback.call(i.ctx);return;case 1:for(;++n<s;)(i=t[n]).callback.call(i.ctx,o);return;case 2:for(;++n<s;)(i=t[n]).callback.call(i.ctx,o,a);return;case 3:for(;++n<s;)(i=t[n]).callback.call(i.ctx,o,a,r);return;default:for(;++n<s;)(i=t[n]).callback.apply(i.ctx,e);return}};r.bind=r.on,r.unbind=r.off,y.extend(l,r);var _=l.Model=function(t,e){var i=t||{};e||(e={}),this.cid=y.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(i=this.parse(i,e)||{});var n=y.result(this,"defaults");i=y.defaults(y.extend({},n,i),n),this.set(i,e),this.changed={},this.initialize.apply(this,arguments)};y.extend(_.prototype,r,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return y.clone(this.attributes)},sync:function(){return l.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return y.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!y.iteratee(t,this)(this.attributes)},set:function(t,e,i){if(null==t)return this;var n;if("object"==typeof t?(n=t,i=e):(n={})[t]=e,i||(i={}),!this._validate(n,i))return!1;var s=i.unset,o=i.silent,a=[],r=this._changing;this._changing=!0,r||(this._previousAttributes=y.clone(this.attributes),this.changed={});var l=this.attributes,c=this.changed,d=this._previousAttributes;for(var h in n)e=n[h],y.isEqual(l[h],e)||a.push(h),y.isEqual(d[h],e)?delete c[h]:c[h]=e,s?delete l[h]:l[h]=e;if(this.idAttribute in n&&(this.id=this.get(this.idAttribute)),!o){a.length&&(this._pending=i);for(var u=0;u<a.length;u++)this.trigger("change:"+a[u],this,l[a[u]],i)}if(r)return this;if(!o)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,y.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var i in this.attributes)e[i]=void 0;return this.set(e,y.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!y.isEmpty(this.changed):y.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&y.clone(this.changed);var e=this._changing?this._previousAttributes:this.attributes,i={};for(var n in t){var s=t[n];y.isEqual(e[n],s)||(i[n]=s)}return!!y.size(i)&&i},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return y.clone(this._previousAttributes)},fetch:function(i){i=y.extend({parse:!0},i);var n=this,s=i.success;return i.success=function(t){var e=i.parse?n.parse(t,i):t;if(!n.set(e,i))return!1;s&&s.call(i.context,n,t,i),n.trigger("sync",n,t,i)},R(this,i),this.sync("read",this,i)},save:function(t,e,i){var n;null==t||"object"==typeof t?(n=t,i=e):(n={})[t]=e;var s=(i=y.extend({validate:!0,parse:!0},i)).wait;if(n&&!s){if(!this.set(n,i))return!1}else if(!this._validate(n,i))return!1;var o=this,a=i.success,r=this.attributes;i.success=function(t){o.attributes=r;var e=i.parse?o.parse(t,i):t;if(s&&(e=y.extend({},n,e)),e&&!o.set(e,i))return!1;a&&a.call(i.context,o,t,i),o.trigger("sync",o,t,i)},R(this,i),n&&s&&(this.attributes=y.extend({},r,n));var l=this.isNew()?"create":i.patch?"patch":"update";"patch"!==l||i.attrs||(i.attrs=n);var c=this.sync(l,this,i);return this.attributes=r,c},destroy:function(e){e=e?y.clone(e):{};var i=this,n=e.success,s=e.wait,o=function(){i.stopListening(),i.trigger("destroy",i,i.collection,e)},t=!(e.success=function(t){s&&o(),n&&n.call(e.context,i,t,e),i.isNew()||i.trigger("sync",i,t,e)});return this.isNew()?y.defer(e.success):(R(this,e),t=this.sync("delete",this,e)),s||o(),t},url:function(){var t=y.result(this,"urlRoot")||y.result(this.collection,"url")||A();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},y.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=y.extend({},this.attributes,t);var i=this.validationError=this.validate(t,e)||null;return!i||(this.trigger("invalid",this,i,y.extend(e,{validationError:i})),!1)}});n(_,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var g=l.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,y.extend({silent:!0},e))},x={add:!0,remove:!0,merge:!0},b={add:!0,remove:!1},k=function(t,e,i){i=Math.min(Math.max(i,0),t.length);var n,s=Array(t.length-i),o=e.length;for(n=0;n<s.length;n++)s[n]=t[n+i];for(n=0;n<o;n++)t[n+i]=e[n];for(n=0;n<s.length;n++)t[n+o+i]=s[n]};y.extend(g.prototype,r,{model:_,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return l.sync.apply(this,arguments)},add:function(t,e){return this.set(t,y.extend({merge:!1},e,b))},remove:function(t,e){e=y.extend({},e);var i=!y.isArray(t);t=i?[t]:t.slice();var n=this._removeModels(t,e);return!e.silent&&n.length&&(e.changes={added:[],merged:[],removed:n},this.trigger("update",this,e)),i?n[0]:n},set:function(t,e){if(null!=t){(e=y.extend({},x,e)).parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var i=!y.isArray(t);t=i?[t]:t.slice();var n=e.at;null!=n&&(n=+n),n>this.length&&(n=this.length),n<0&&(n+=this.length+1);var s,o,a=[],r=[],l=[],c=[],d={},h=e.add,u=e.merge,p=e.remove,m=!1,f=this.comparator&&null==n&&!1!==e.sort,v=y.isString(this.comparator)?this.comparator:null;for(o=0;o<t.length;o++){s=t[o];var _=this.get(s);if(_){if(u&&s!==_){var g=this._isModel(s)?s.attributes:s;e.parse&&(g=_.parse(g,e)),_.set(g,e),l.push(_),f&&!m&&(m=_.hasChanged(v))}d[_.cid]||(d[_.cid]=!0,a.push(_)),t[o]=_}else h&&(s=t[o]=this._prepareModel(s,e))&&(r.push(s),this._addReference(s,e),d[s.cid]=!0,a.push(s))}if(p){for(o=0;o<this.length;o++)d[(s=this.models[o]).cid]||c.push(s);c.length&&this._removeModels(c,e)}var b=!1,w=!f&&h&&p;if(a.length&&w?(b=this.length!==a.length||y.some(this.models,function(t,e){return t!==a[e]}),this.models.length=0,k(this.models,a,0),this.length=this.models.length):r.length&&(f&&(m=!0),k(this.models,r,null==n?this.length:n),this.length=this.models.length),m&&this.sort({silent:!0}),!e.silent){for(o=0;o<r.length;o++)null!=n&&(e.index=n+o),(s=r[o]).trigger("add",s,this,e);(m||b)&&this.trigger("sort",this,e),(r.length||c.length||l.length)&&(e.changes={added:r,removed:c,merged:l},this.trigger("update",this,e))}return i?t[0]:t}},reset:function(t,e){e=e?y.clone(e):{};for(var i=0;i<this.models.length;i++)this._removeReference(this.models[i],e);return e.previousModels=this.models,this._reset(),t=this.add(t,y.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,y.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,y.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return o.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(t.attributes||t)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var i=e.length;return y.isFunction(e)&&(e=y.bind(e,this)),1===i||y.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(i){var n=(i=y.extend({parse:!0},i)).success,s=this;return i.success=function(t){var e=i.reset?"reset":"set";s[e](t,i),n&&n.call(i.context,s,t,i),s.trigger("sync",s,t,i)},R(this,i),this.sync("read",this,i)},create:function(t,e){var n=(e=e?y.clone(e):{}).wait;if(!(t=this._prepareModel(t,e)))return!1;n||this.add(t,e);var s=this,o=e.success;return e.success=function(t,e,i){n&&s.add(t,i),o&&o.call(i.context,t,e,i)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;var i=new(((e=e?y.clone(e):{}).collection=this).model)(t,e);return i.validationError?(this.trigger("invalid",this,i.validationError,e),!1):i},_removeModels:function(t,e){for(var i=[],n=0;n<t.length;n++){var s=this.get(t[n]);if(s){var o=this.indexOf(s);this.models.splice(o,1),this.length--,delete this._byId[s.cid];var a=this.modelId(s.attributes);null!=a&&delete this._byId[a],e.silent||(e.index=o,s.trigger("remove",s,this,e)),i.push(s),this._removeReference(s,e)}}return i},_isModel:function(t){return t instanceof _},_addReference:function(t,e){this._byId[t.cid]=t;var i=this.modelId(t.attributes);null!=i&&(this._byId[i]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var i=this.modelId(t.attributes);null!=i&&delete this._byId[i],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,n){if(e){if(("add"===t||"remove"===t)&&i!==this)return;if("destroy"===t&&this.remove(e,n),"change"===t){var s=this.modelId(e.previousAttributes()),o=this.modelId(e.attributes);s!==o&&(null!=s&&delete this._byId[s],null!=o&&(this._byId[o]=e))}}this.trigger.apply(this,arguments)}});n(g,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models");var w=l.View=function(t){this.cid=y.uniqueId("view"),y.extend(this,y.pick(t,$)),this._ensureElement(),this.initialize.apply(this,arguments)},S=/^(\S+)\s*(.*)$/,$=["model","collection","el","id","attributes","className","tagName","events"];y.extend(w.prototype,r,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof l.$?t:l.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=y.result(this,"events")),!t)return this;for(var e in this.undelegateEvents(),t){var i=t[e];if(y.isFunction(i)||(i=this[i]),i){var n=e.match(S);this.delegate(n[1],n[2],y.bind(i,this))}}return this},delegate:function(t,e,i){return this.$el.on(t+".delegateEvents"+this.cid,e,i),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,i){return this.$el.off(t+".delegateEvents"+this.cid,e,i),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(y.result(this,"el"));else{var t=y.extend({},y.result(this,"attributes"));this.id&&(t.id=y.result(this,"id")),this.className&&(t.class=y.result(this,"className")),this.setElement(this._createElement(y.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),l.sync=function(t,e,n){var i=z[t];y.defaults(n||(n={}),{emulateHTTP:l.emulateHTTP,emulateJSON:l.emulateJSON});var s={type:i,dataType:"json"};if(n.url||(s.url=y.result(e,"url")||A()),null!=n.data||!e||"create"!==t&&"update"!==t&&"patch"!==t||(s.contentType="application/json",s.data=JSON.stringify(n.attrs||e.toJSON(n))),n.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),n.emulateHTTP&&("PUT"===i||"DELETE"===i||"PATCH"===i)){s.type="POST",n.emulateJSON&&(s.data._method=i);var o=n.beforeSend;n.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",i),o)return o.apply(this,arguments)}}"GET"===s.type||n.emulateJSON||(s.processData=!1);var a=n.error;n.error=function(t,e,i){n.textStatus=e,n.errorThrown=i,a&&a.call(n.context,t,e,i)};var r=n.xhr=l.ajax(y.extend(s,n));return e.trigger("request",e,r,n),r};var z={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};l.ajax=function(){return l.$.ajax.apply(l.$,arguments)};var C=l.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},T=/\((.*?)\)/g,I=/(\(\?)?:\w+/g,V=/\*\w+/g,P=/[\-{}\[\]+?.,\\\^$|#\s]/g;y.extend(C.prototype,r,{initialize:function(){},route:function(i,n,s){y.isRegExp(i)||(i=this._routeToRegExp(i)),y.isFunction(n)&&(s=n,n=""),s||(s=this[n]);var o=this;return l.history.route(i,function(t){var e=o._extractParameters(i,t);!1!==o.execute(s,e,n)&&(o.trigger.apply(o,["route:"+n].concat(e)),o.trigger("route",n,e),l.history.trigger("route",o,n,e))}),this},execute:function(t,e,i){t&&t.apply(this,e)},navigate:function(t,e){return l.history.navigate(t,e),this},_bindRoutes:function(){if(this.routes){this.routes=y.result(this,"routes");for(var t,e=y.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(P,"\\$&").replace(T,"(?:$1)?").replace(I,function(t,e){return e?t:"([^/?]+)"}).replace(V,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var i=t.exec(e).slice(1);return y.map(i,function(t,e){return e===i.length-1?t||null:t?decodeURIComponent(t):null})}});var j=l.History=function(){this.handlers=[],this.checkUrl=y.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},E=/^[#\/]|\s+$/g,N=/^\/+|\/+$/g,O=/#.*$/;j.started=!1,y.extend(j.prototype,r,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(E,"")},start:function(t){if(j.started)throw new Error("Backbone.history has already been started");if(j.started=!0,this.options=y.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||7<document.documentMode),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(N,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var i=document.body,n=i.insertBefore(this.iframe,i.firstChild).contentWindow;n.document.open(),n.document.close(),n.location.hash="#"+this.fragment}var s=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?s("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?s("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),j.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(e){return!!this.matchRoot()&&(e=this.fragment=this.getFragment(e),y.some(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0}))},navigate:function(t,e){if(!j.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||"");var i=this.root;""!==t&&"?"!==t.charAt(0)||(i=i.slice(0,-1)||"/");var n=i+t;if(t=this.decodeFragment(t.replace(O,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var s=this.iframe.contentWindow;e.replace||(s.document.open(),s.document.close()),this._updateHash(s.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,i){if(i){var n=t.href.replace(/(javascript:|#).*$/,"");t.replace(n+"#"+e)}else t.hash="#"+e}}),l.history=new j;_.extend=g.extend=C.extend=w.extend=j.extend=function(t,e){var i,n=this;return i=t&&y.has(t,"constructor")?t.constructor:function(){return n.apply(this,arguments)},y.extend(i,n,e),i.prototype=y.create(n.prototype,t),(i.prototype.constructor=i).__super__=n.prototype,i};var A=function(){throw new Error('A "url" property or function must be specified')},R=function(e,i){var n=i.error;i.error=function(t){n&&n.call(i.context,e,t,i),e.trigger("error",e,t,i)}};return l}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(t){"use strict";var e=jQuery.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||3<e[0])throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(),function(n){"use strict";n.fn.emulateTransitionEnd=function(t){var e=!1,i=this;n(this).one("bsTransitionEnd",function(){e=!0});return setTimeout(function(){e||n(i).trigger(n.support.transition.end)},t),this},n(function(){n.support.transition=function(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}(),n.support.transition&&(n.event.special.bsTransitionEnd={bindType:n.support.transition.end,delegateType:n.support.transition.end,handle:function(t){if(n(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(o){"use strict";var e='[data-dismiss="alert"]',a=function(t){o(t).on("click",e,this.close)};a.VERSION="3.3.7",a.TRANSITION_DURATION=150,a.prototype.close=function(t){var e=o(this),i=e.attr("data-target");i||(i=(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,""));var n=o("#"===i?[]:i);function s(){n.detach().trigger("closed.bs.alert").remove()}t&&t.preventDefault(),n.length||(n=e.closest(".alert")),n.trigger(t=o.Event("close.bs.alert")),t.isDefaultPrevented()||(n.removeClass("in"),o.support.transition&&n.hasClass("fade")?n.one("bsTransitionEnd",s).emulateTransitionEnd(a.TRANSITION_DURATION):s())};var t=o.fn.alert;o.fn.alert=function(i){return this.each(function(){var t=o(this),e=t.data("bs.alert");e||t.data("bs.alert",e=new a(this)),"string"==typeof i&&e[i].call(t)})},o.fn.alert.Constructor=a,o.fn.alert.noConflict=function(){return o.fn.alert=t,this},o(document).on("click.bs.alert.data-api",e,a.prototype.close)}(jQuery),function(o){"use strict";var s=function(t,e){this.$element=o(t),this.options=o.extend({},s.DEFAULTS,e),this.isLoading=!1};function i(n){return this.each(function(){var t=o(this),e=t.data("bs.button"),i="object"==typeof n&&n;e||t.data("bs.button",e=new s(this,i)),"toggle"==n?e.toggle():n&&e.setState(n)})}s.VERSION="3.3.7",s.DEFAULTS={loadingText:"loading..."},s.prototype.setState=function(t){var e="disabled",i=this.$element,n=i.is("input")?"val":"html",s=i.data();t+="Text",null==s.resetText&&i.data("resetText",i[n]()),setTimeout(o.proxy(function(){i[n](null==s[t]?this.options[t]:s[t]),"loadingText"==t?(this.isLoading=!0,i.addClass(e).attr(e,e).prop(e,!0)):this.isLoading&&(this.isLoading=!1,i.removeClass(e).removeAttr(e).prop(e,!1))},this),0)},s.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")?(i.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==i.prop("type")&&(i.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),i.prop("checked",this.$element.hasClass("active")),t&&i.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var t=o.fn.button;o.fn.button=i,o.fn.button.Constructor=s,o.fn.button.noConflict=function(){return o.fn.button=t,this},o(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var e=o(t.target).closest(".btn");i.call(e,"toggle"),o(t.target).is('input[type="radio"], input[type="checkbox"]')||(t.preventDefault(),e.is("input,button")?e.trigger("focus"):e.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){o(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),function(h){"use strict";var u=function(t,e){this.$element=h(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=e,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",h.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",h.proxy(this.pause,this)).on("mouseleave.bs.carousel",h.proxy(this.cycle,this))};function a(s){return this.each(function(){var t=h(this),e=t.data("bs.carousel"),i=h.extend({},u.DEFAULTS,t.data(),"object"==typeof s&&s),n="string"==typeof s?s:i.slide;e||t.data("bs.carousel",e=new u(this,i)),"number"==typeof s?e.to(s):n?e[n]():i.interval&&e.pause().cycle()})}u.VERSION="3.3.7",u.TRANSITION_DURATION=600,u.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},u.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},u.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(h.proxy(this.next,this),this.options.interval)),this},u.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},u.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e);if(("prev"==t&&0===i||"next"==t&&i==this.$items.length-1)&&!this.options.wrap)return e;var n=(i+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(n)},u.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(i<t?"next":"prev",this.$items.eq(t))},u.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&h.support.transition&&(this.$element.trigger(h.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},u.prototype.next=function(){if(!this.sliding)return this.slide("next")},u.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},u.prototype.slide=function(t,e){var i=this.$element.find(".item.active"),n=e||this.getItemForDirection(t,i),s=this.interval,o="next"==t?"left":"right",a=this;if(n.hasClass("active"))return this.sliding=!1;var r=n[0],l=h.Event("slide.bs.carousel",{relatedTarget:r,direction:o});if(this.$element.trigger(l),!l.isDefaultPrevented()){if(this.sliding=!0,s&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=h(this.$indicators.children()[this.getItemIndex(n)]);c&&c.addClass("active")}var d=h.Event("slid.bs.carousel",{relatedTarget:r,direction:o});return h.support.transition&&this.$element.hasClass("slide")?(n.addClass(t),n[0].offsetWidth,i.addClass(o),n.addClass(o),i.one("bsTransitionEnd",function(){n.removeClass([t,o].join(" ")).addClass("active"),i.removeClass(["active",o].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger(d)},0)}).emulateTransitionEnd(u.TRANSITION_DURATION)):(i.removeClass("active"),n.addClass("active"),this.sliding=!1,this.$element.trigger(d)),s&&this.cycle(),this}};var t=h.fn.carousel;h.fn.carousel=a,h.fn.carousel.Constructor=u,h.fn.carousel.noConflict=function(){return h.fn.carousel=t,this};var e=function(t){var e,i=h(this),n=h(i.attr("data-target")||(e=i.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""));if(n.hasClass("carousel")){var s=h.extend({},n.data(),i.data()),o=i.attr("data-slide-to");o&&(s.interval=!1),a.call(n,s),o&&n.data("bs.carousel").to(o),t.preventDefault()}};h(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),h(window).on("load",function(){h('[data-ride="carousel"]').each(function(){var t=h(this);a.call(t,t.data())})})}(jQuery),function(a){"use strict";var r=function(t,e){this.$element=a(t),this.options=a.extend({},r.DEFAULTS,e),this.$trigger=a('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};function s(t){var e,i=t.attr("data-target")||(e=t.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"");return a(i)}function l(n){return this.each(function(){var t=a(this),e=t.data("bs.collapse"),i=a.extend({},r.DEFAULTS,t.data(),"object"==typeof n&&n);!e&&i.toggle&&/show|hide/.test(n)&&(i.toggle=!1),e||t.data("bs.collapse",e=new r(this,i)),"string"==typeof n&&e[n]()})}r.VERSION="3.3.7",r.TRANSITION_DURATION=350,r.DEFAULTS={toggle:!0},r.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},r.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(t=e.data("bs.collapse"))&&t.transitioning)){var i=a.Event("show.bs.collapse");if(this.$element.trigger(i),!i.isDefaultPrevented()){e&&e.length&&(l.call(e,"hide"),t||e.data("bs.collapse",null));var n=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[n](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[n](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return s.call(this);var o=a.camelCase(["scroll",n].join("-"));this.$element.one("bsTransitionEnd",a.proxy(s,this)).emulateTransitionEnd(r.TRANSITION_DURATION)[n](this.$element[0][o])}}}},r.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=a.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var e=this.dimension();this.$element[e](this.$element[e]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!a.support.transition)return i.call(this);this.$element[e](0).one("bsTransitionEnd",a.proxy(i,this)).emulateTransitionEnd(r.TRANSITION_DURATION)}}},r.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},r.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(t,e){var i=a(e);this.addAriaAndCollapsedClass(s(i),i)},this)).end()},r.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var t=a.fn.collapse;a.fn.collapse=l,a.fn.collapse.Constructor=r,a.fn.collapse.noConflict=function(){return a.fn.collapse=t,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var e=a(this);e.attr("data-target")||t.preventDefault();var i=s(e),n=i.data("bs.collapse")?"toggle":e.data();l.call(i,n)})}(jQuery),function(a){"use strict";var r='[data-toggle="dropdown"]',n=function(t){a(t).on("click.bs.dropdown",this.toggle)};function l(t){var e=t.attr("data-target");e||(e=(e=t.attr("href"))&&/#[A-Za-z]/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""));var i=e&&a(e);return i&&i.length?i:t.parent()}function o(n){n&&3===n.which||(a(".dropdown-backdrop").remove(),a(r).each(function(){var t=a(this),e=l(t),i={relatedTarget:this};e.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&a.contains(e[0],n.target)||(e.trigger(n=a.Event("hide.bs.dropdown",i)),n.isDefaultPrevented()||(t.attr("aria-expanded","false"),e.removeClass("open").trigger(a.Event("hidden.bs.dropdown",i)))))}))}n.VERSION="3.3.7",n.prototype.toggle=function(t){var e=a(this);if(!e.is(".disabled, :disabled")){var i=l(e),n=i.hasClass("open");if(o(),!n){"ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",o);var s={relatedTarget:this};if(i.trigger(t=a.Event("show.bs.dropdown",s)),t.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),i.toggleClass("open").trigger(a.Event("shown.bs.dropdown",s))}return!1}},n.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var e=a(this);if(t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled")){var i=l(e),n=i.hasClass("open");if(!n&&27!=t.which||n&&27==t.which)return 27==t.which&&i.find(r).trigger("focus"),e.trigger("click");var s=i.find(".dropdown-menu li:not(.disabled):visible a");if(s.length){var o=s.index(t.target);38==t.which&&0<o&&o--,40==t.which&&o<s.length-1&&o++,~o||(o=0),s.eq(o).trigger("focus")}}}};var t=a.fn.dropdown;a.fn.dropdown=function(i){return this.each(function(){var t=a(this),e=t.data("bs.dropdown");e||t.data("bs.dropdown",e=new n(this)),"string"==typeof i&&e[i].call(t)})},a.fn.dropdown.Constructor=n,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=t,this},a(document).on("click.bs.dropdown.data-api",o).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",r,n.prototype.toggle).on("keydown.bs.dropdown.data-api",r,n.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",n.prototype.keydown)}(jQuery),function(o){"use strict";var a=function(t,e){this.options=e,this.$body=o(document.body),this.$element=o(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,o.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};function r(n,s){return this.each(function(){var t=o(this),e=t.data("bs.modal"),i=o.extend({},a.DEFAULTS,t.data(),"object"==typeof n&&n);e||t.data("bs.modal",e=new a(this,i)),"string"==typeof n?e[n](s):i.show&&e.show(s)})}a.VERSION="3.3.7",a.TRANSITION_DURATION=300,a.BACKDROP_TRANSITION_DURATION=150,a.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},a.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},a.prototype.show=function(i){var n=this,t=o.Event("show.bs.modal",{relatedTarget:i});this.$element.trigger(t),this.isShown||t.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',o.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(t){o(t.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var t=o.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),t&&n.$element[0].offsetWidth,n.$element.addClass("in"),n.enforceFocus();var e=o.Event("shown.bs.modal",{relatedTarget:i});t?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(a.TRANSITION_DURATION):n.$element.trigger("focus").trigger(e)}))},a.prototype.hide=function(t){t&&t.preventDefault(),t=o.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),o(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),o.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",o.proxy(this.hideModal,this)).emulateTransitionEnd(a.TRANSITION_DURATION):this.hideModal())},a.prototype.enforceFocus=function(){o(document).off("focusin.bs.modal").on("focusin.bs.modal",o.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},a.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",o.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},a.prototype.resize=function(){this.isShown?o(window).on("resize.bs.modal",o.proxy(this.handleUpdate,this)):o(window).off("resize.bs.modal")},a.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},a.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},a.prototype.backdrop=function(t){var e=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=o.support.transition&&i;if(this.$backdrop=o(document.createElement("div")).addClass("modal-backdrop "+i).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",o.proxy(function(t){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;n?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(a.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=function(){e.removeBackdrop(),t&&t()};o.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(a.BACKDROP_TRANSITION_DURATION):s()}else t&&t()},a.prototype.handleUpdate=function(){this.adjustDialog()},a.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},a.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},a.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},a.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},a.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},a.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var t=o.fn.modal;o.fn.modal=r,o.fn.modal.Constructor=a,o.fn.modal.noConflict=function(){return o.fn.modal=t,this},o(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var e=o(this),i=e.attr("href"),n=o(e.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),s=n.data("bs.modal")?"toggle":o.extend({remote:!/#/.test(i)&&i},n.data(),e.data());e.is("a")&&t.preventDefault(),n.one("show.bs.modal",function(t){t.isDefaultPrevented()||n.one("hidden.bs.modal",function(){e.is(":visible")&&e.trigger("focus")})}),r.call(n,s,this)})}(jQuery),function(f){"use strict";var v=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};v.VERSION="3.3.7",v.TRANSITION_DURATION=150,v.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},v.prototype.init=function(t,e,i){if(this.enabled=!0,this.type=t,this.$element=f(e),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&f(f.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var n=this.options.trigger.split(" "),s=n.length;s--;){var o=n[s];if("click"==o)this.$element.on("click."+this.type,this.options.selector,f.proxy(this.toggle,this));else if("manual"!=o){var a="hover"==o?"mouseenter":"focusin",r="hover"==o?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,f.proxy(this.enter,this)),this.$element.on(r+"."+this.type,this.options.selector,f.proxy(this.leave,this))}}this.options.selector?this._options=f.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},v.prototype.getDefaults=function(){return v.DEFAULTS},v.prototype.getOptions=function(t){return(t=f.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},v.prototype.getDelegateOptions=function(){var i={},n=this.getDefaults();return this._options&&f.each(this._options,function(t,e){n[t]!=e&&(i[t]=e)}),i},v.prototype.enter=function(t){var e=t instanceof this.constructor?t:f(t.currentTarget).data("bs."+this.type);if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),f(t.currentTarget).data("bs."+this.type,e)),t instanceof f.Event&&(e.inState["focusin"==t.type?"focus":"hover"]=!0),e.tip().hasClass("in")||"in"==e.hoverState)e.hoverState="in";else{if(clearTimeout(e.timeout),e.hoverState="in",!e.options.delay||!e.options.delay.show)return e.show();e.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show)}},v.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},v.prototype.leave=function(t){var e=t instanceof this.constructor?t:f(t.currentTarget).data("bs."+this.type);if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),f(t.currentTarget).data("bs."+this.type,e)),t instanceof f.Event&&(e.inState["focusout"==t.type?"focus":"hover"]=!1),!e.isInStateTrue()){if(clearTimeout(e.timeout),e.hoverState="out",!e.options.delay||!e.options.delay.hide)return e.hide();e.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide()},e.options.delay.hide)}},v.prototype.show=function(){var t=f.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var e=f.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!e)return;var i=this,n=this.tip(),s=this.getUID(this.type);this.setContent(),n.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&n.addClass("fade");var o="function"==typeof this.options.placement?this.options.placement.call(this,n[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,r=a.test(o);r&&(o=o.replace(a,"")||"top"),n.detach().css({top:0,left:0,display:"block"}).addClass(o).data("bs."+this.type,this),this.options.container?n.appendTo(this.options.container):n.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var l=this.getPosition(),c=n[0].offsetWidth,d=n[0].offsetHeight;if(r){var h=o,u=this.getPosition(this.$viewport);o="bottom"==o&&l.bottom+d>u.bottom?"top":"top"==o&&l.top-d<u.top?"bottom":"right"==o&&l.right+c>u.width?"left":"left"==o&&l.left-c<u.left?"right":o,n.removeClass(h).addClass(o)}var p=this.getCalculatedOffset(o,l,c,d);this.applyPlacement(p,o);var m=function(){var t=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,"out"==t&&i.leave(i)};f.support.transition&&this.$tip.hasClass("fade")?n.one("bsTransitionEnd",m).emulateTransitionEnd(v.TRANSITION_DURATION):m()}},v.prototype.applyPlacement=function(t,e){var i=this.tip(),n=i[0].offsetWidth,s=i[0].offsetHeight,o=parseInt(i.css("margin-top"),10),a=parseInt(i.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(a)&&(a=0),t.top+=o,t.left+=a,f.offset.setOffset(i[0],f.extend({using:function(t){i.css({top:Math.round(t.top),left:Math.round(t.left)})}},t),0),i.addClass("in");var r=i[0].offsetWidth,l=i[0].offsetHeight;"top"==e&&l!=s&&(t.top=t.top+s-l);var c=this.getViewportAdjustedDelta(e,t,r,l);c.left?t.left+=c.left:t.top+=c.top;var d=/top|bottom/.test(e),h=d?2*c.left-n+r:2*c.top-s+l,u=d?"offsetWidth":"offsetHeight";i.offset(t),this.replaceArrow(h,i[0][u],d)},v.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},v.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},v.prototype.hide=function(t){var e=this,i=f(this.$tip),n=f.Event("hide.bs."+this.type);function s(){"in"!=e.hoverState&&i.detach(),e.$element&&e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),t&&t()}if(this.$element.trigger(n),!n.isDefaultPrevented())return i.removeClass("in"),f.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",s).emulateTransitionEnd(v.TRANSITION_DURATION):s(),this.hoverState=null,this},v.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},v.prototype.hasContent=function(){return this.getTitle()},v.prototype.getPosition=function(t){var e=(t=t||this.$element)[0],i="BODY"==e.tagName,n=e.getBoundingClientRect();null==n.width&&(n=f.extend({},n,{width:n.right-n.left,height:n.bottom-n.top}));var s=window.SVGElement&&e instanceof window.SVGElement,o=i?{top:0,left:0}:s?null:t.offset(),a={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},r=i?{width:f(window).width(),height:f(window).height()}:null;return f.extend({},n,a,r,o)},v.prototype.getCalculatedOffset=function(t,e,i,n){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-n,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-n/2,left:e.left-i}:{top:e.top+e.height/2-n/2,left:e.left+e.width}},v.prototype.getViewportAdjustedDelta=function(t,e,i,n){var s={top:0,left:0};if(!this.$viewport)return s;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var r=e.top-o-a.scroll,l=e.top+o-a.scroll+n;r<a.top?s.top=a.top-r:l>a.top+a.height&&(s.top=a.top+a.height-l)}else{var c=e.left-o,d=e.left+o+i;c<a.left?s.left=a.left-c:d>a.right&&(s.left=a.left+a.width-d)}return s},v.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},v.prototype.getUID=function(t){for(;t+=~~(1e6*Math.random()),document.getElementById(t););return t},v.prototype.tip=function(){if(!this.$tip&&(this.$tip=f(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},v.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},v.prototype.enable=function(){this.enabled=!0},v.prototype.disable=function(){this.enabled=!1},v.prototype.toggleEnabled=function(){this.enabled=!this.enabled},v.prototype.toggle=function(t){var e=this;t&&((e=f(t.currentTarget).data("bs."+this.type))||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),f(t.currentTarget).data("bs."+this.type,e))),t?(e.inState.click=!e.inState.click,e.isInStateTrue()?e.enter(e):e.leave(e)):e.tip().hasClass("in")?e.leave(e):e.enter(e)},v.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var t=f.fn.tooltip;f.fn.tooltip=function(n){return this.each(function(){var t=f(this),e=t.data("bs.tooltip"),i="object"==typeof n&&n;!e&&/destroy|hide/.test(n)||(e||t.data("bs.tooltip",e=new v(this,i)),"string"==typeof n&&e[n]())})},f.fn.tooltip.Constructor=v,f.fn.tooltip.noConflict=function(){return f.fn.tooltip=t,this}}(jQuery),function(s){"use strict";var o=function(t,e){this.init("popover",t,e)};if(!s.fn.tooltip)throw new Error("Popover requires tooltip.js");o.VERSION="3.3.7",o.DEFAULTS=s.extend({},s.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),((o.prototype=s.extend({},s.fn.tooltip.Constructor.prototype)).constructor=o).prototype.getDefaults=function(){return o.DEFAULTS},o.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},o.prototype.hasContent=function(){return this.getTitle()||this.getContent()},o.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},o.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var t=s.fn.popover;s.fn.popover=function(n){return this.each(function(){var t=s(this),e=t.data("bs.popover"),i="object"==typeof n&&n;!e&&/destroy|hide/.test(n)||(e||t.data("bs.popover",e=new o(this,i)),"string"==typeof n&&e[n]())})},s.fn.popover.Constructor=o,s.fn.popover.noConflict=function(){return s.fn.popover=t,this}}(jQuery),function(o){"use strict";function s(t,e){this.$body=o(document.body),this.$scrollElement=o(t).is(document.body)?o(window):o(t),this.options=o.extend({},s.DEFAULTS,e),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",o.proxy(this.process,this)),this.refresh(),this.process()}function e(n){return this.each(function(){var t=o(this),e=t.data("bs.scrollspy"),i="object"==typeof n&&n;e||t.data("bs.scrollspy",e=new s(this,i)),"string"==typeof n&&e[n]()})}s.VERSION="3.3.7",s.DEFAULTS={offset:10},s.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},s.prototype.refresh=function(){var t=this,n="offset",s=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),o.isWindow(this.$scrollElement[0])||(n="position",s=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=o(this),e=t.data("target")||t.attr("href"),i=/^#./.test(e)&&o(e);return i&&i.length&&i.is(":visible")&&[[i[n]().top+s,e]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},s.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),n=this.options.offset+i-this.$scrollElement.height(),s=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),n<=e)return a!=(t=o[o.length-1])&&this.activate(t);if(a&&e<s[0])return this.activeTarget=null,this.clear();for(t=s.length;t--;)a!=o[t]&&e>=s[t]&&(void 0===s[t+1]||e<s[t+1])&&this.activate(o[t])},s.prototype.activate=function(t){this.activeTarget=t,this.clear();var e=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=o(e).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},s.prototype.clear=function(){o(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var t=o.fn.scrollspy;o.fn.scrollspy=e,o.fn.scrollspy.Constructor=s,o.fn.scrollspy.noConflict=function(){return o.fn.scrollspy=t,this},o(window).on("load.bs.scrollspy.data-api",function(){o('[data-spy="scroll"]').each(function(){var t=o(this);e.call(t,t.data())})})}(jQuery),function(r){"use strict";var a=function(t){this.element=r(t)};function e(i){return this.each(function(){var t=r(this),e=t.data("bs.tab");e||t.data("bs.tab",e=new a(this)),"string"==typeof i&&e[i]()})}a.VERSION="3.3.7",a.TRANSITION_DURATION=150,a.prototype.show=function(){var t=this.element,e=t.closest("ul:not(.dropdown-menu)"),i=t.data("target");if(i||(i=(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var n=e.find(".active:last a"),s=r.Event("hide.bs.tab",{relatedTarget:t[0]}),o=r.Event("show.bs.tab",{relatedTarget:n[0]});if(n.trigger(s),t.trigger(o),!o.isDefaultPrevented()&&!s.isDefaultPrevented()){var a=r(i);this.activate(t.closest("li"),e),this.activate(a,a.parent(),function(){n.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:n[0]})})}}},a.prototype.activate=function(t,e,i){var n=e.find("> .active"),s=i&&r.support.transition&&(n.length&&n.hasClass("fade")||!!e.find("> .fade").length);function o(){n.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}n.length&&s?n.one("bsTransitionEnd",o).emulateTransitionEnd(a.TRANSITION_DURATION):o(),n.removeClass("in")};var t=r.fn.tab;r.fn.tab=e,r.fn.tab.Constructor=a,r.fn.tab.noConflict=function(){return r.fn.tab=t,this};var i=function(t){t.preventDefault(),e.call(r(this),"show")};r(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery),function(l){"use strict";var c=function(t,e){this.options=l.extend({},c.DEFAULTS,e),this.$target=l(this.options.target).on("scroll.bs.affix.data-api",l.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",l.proxy(this.checkPositionWithEventLoop,this)),this.$element=l(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};function i(n){return this.each(function(){var t=l(this),e=t.data("bs.affix"),i="object"==typeof n&&n;e||t.data("bs.affix",e=new c(this,i)),"string"==typeof n&&e[n]()})}c.VERSION="3.3.7",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(t,e,i,n){var s=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=i&&"top"==this.affixed)return s<i&&"top";if("bottom"==this.affixed)return null!=i?!(s+this.unpin<=o.top)&&"bottom":!(s+a<=t-n)&&"bottom";var r=null==this.affixed,l=r?s:o.top;return null!=i&&s<=i?"top":null!=n&&t-n<=l+(r?a:e)&&"bottom"},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},c.prototype.checkPositionWithEventLoop=function(){setTimeout(l.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),e=this.options.offset,i=e.top,n=e.bottom,s=Math.max(l(document).height(),l(document.body).height());"object"!=typeof e&&(n=i=e),"function"==typeof i&&(i=e.top(this.$element)),"function"==typeof n&&(n=e.bottom(this.$element));var o=this.getState(s,t,i,n);if(this.affixed!=o){null!=this.unpin&&this.$element.css("top","");var a="affix"+(o?"-"+o:""),r=l.Event(a+".bs.affix");if(this.$element.trigger(r),r.isDefaultPrevented())return;this.affixed=o,this.unpin="bottom"==o?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(a).trigger(a.replace("affix","affixed")+".bs.affix")}"bottom"==o&&this.$element.offset({top:s-t-n})}};var t=l.fn.affix;l.fn.affix=i,l.fn.affix.Constructor=c,l.fn.affix.noConflict=function(){return l.fn.affix=t,this},l(window).on("load",function(){l('[data-spy="affix"]').each(function(){var t=l(this),e=t.data();e.offset=e.offset||{},null!=e.offsetBottom&&(e.offset.bottom=e.offsetBottom),null!=e.offsetTop&&(e.offset.top=e.offsetTop),i.call(t,e)})})}(jQuery),define("bootstrap",["jquery"],function(){}),define("scripts/ShowInfo",["jquery","underscore","bootstrap"],function(s,o){var e=s("#loading"),a=s("#main_modal_info"),i=null,n=function(t,e){t.removeClass("showinfo"),setTimeout(function(){t.show().html(e).addClass("showinfo")},10),clearTimeout(i),i=setTimeout(function(){t.removeClass("showinfo")},4e3)};return{loading:function(t){t?e.addClass("active"):e.removeClass("active")},modal:function(t,e,i,n){a.modal("hide").modal("show"),s("#main_modal_info_content").html(t),arguments.length<=2||!o.isFunction(e)?s("#main_modal_info_btn_cancel").hide():s("#main_modal_info_btn_cancel").show(),s("#main_modal_info_btn_ok,#main_modal_info_btn_cancel").off("click"),s("#main_modal_info_btn_ok").on("click",function(){o.isFunction(e)&&e(),a.modal("hide")}),s("#main_modal_info_btn_cancel").on("click",function(){o.isFunction(i)&&i(),a.modal("hide")})},tip:function(t){n(s("#tips"),t)},chaintip:function(t,e){n(t,e)}}}),define("scripts/views/main/PageScale",["jquery","underscore","bootstrap"],function(t,e){var s=1;function i(){var t=document,e=document.documentElement.clientWidth/1680,i=document.documentElement.clientHeight/890,n=100*(s=Math.min(e,i));t.documentElement.style.fontSize=n+"px"}i(),window.onresize=e.throttle(i),window.pxtorem=function(t){return t/(100*s)}}),define("scripts/views/main/AudioPlayer",["jquery","underscore","bootstrap"],function(t,e){var i=[],n=null,s=!1,o="",a=document.querySelector("#fast_audio"),r=document.querySelector("#bg_audio");function l(t,e){var i=SystemStorage.getValue("enable_volume");if(i&&"false"==i)s=!1;else try{n.src="audio/"+t,n.onended=function(){e&&e()},n.play()}catch(t){}}return n=document.querySelector("#tip_audio"),{push:function(t){var e=SystemStorage.getValue("enable_volume");e&&"false"==e||(i.push(t),!s&&0<i.length&&function t(){0<i.length?(s=!0,l(i[0],function(){i.shift(),t()})):s=!1}())},clear:function(){i=[],this.stop()},play:l,start:function(){var t=SystemStorage.getValue("enable_volume");t&&"false"==t||(s=!0,n.play())},pause:function(){i=[],s=!1,n.pause()},stop:function(){n.pause(),s=!1},play_fast_audio:function(t){var e=SystemStorage.getValue("enable_volume");e&&"false"==e||(o!=t&&(a.src="audio/"+t),a.paused?a.play():a.currentTime=0,o=t)},play_bg_audio:function(){var t=SystemStorage.getValue("enable_volume");if(!t||"false"!=t){var e=SystemStorage.getValue("current_bg_audio")||"game_bg1.mp3",i=r.src.split("/");(i[i.length-1]!=e||r.paused)&&(r.src="audio/"+e,r.play()),r.onerror=function(){r.src="audio/game_bg1.mp3",r.play()},r.onended=function(){r.play()}}},set_bg_volume:function(t){r.volume=t},stop_bg_audio:function(){r.pause()}}}),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("handlebars",[],e):"object"==typeof exports?exports.Handlebars=e():t.Handlebars=e()}(this,function(){return function(i){var n={};function s(t){if(n[t])return n[t].exports;var e=n[t]={exports:{},id:t,loaded:!1};return i[t].call(e.exports,e,e.exports,s),e.loaded=!0,e.exports}return s.m=i,s.c=n,s.p="",s(0)}([function(t,e,i){"use strict";var n=i(1).default;e.__esModule=!0;var s=n(i(2)),o=n(i(35)),a=i(36),r=i(41),l=n(i(42)),c=n(i(39)),d=n(i(34)),h=s.default.create;function u(){var i=h();return i.compile=function(t,e){return r.compile(t,e,i)},i.precompile=function(t,e){return r.precompile(t,e,i)},i.AST=o.default,i.Compiler=r.Compiler,i.JavaScriptCompiler=l.default,i.Parser=a.parser,i.parse=a.parse,i}var p=u();p.create=u,d.default(p),p.Visitor=c.default,p.default=p,e.default=p,t.exports=e.default},function(t,e){"use strict";e.default=function(t){return t&&t.__esModule?t:{default:t}},e.__esModule=!0},function(t,e,i){"use strict";var n=i(3).default,s=i(1).default;e.__esModule=!0;var o=n(i(4)),a=s(i(21)),r=s(i(6)),l=n(i(5)),c=n(i(22)),d=s(i(34));function h(){var e=new o.HandlebarsEnvironment;return l.extend(e,o),e.SafeString=a.default,e.Exception=r.default,e.Utils=l,e.escapeExpression=l.escapeExpression,e.VM=c,e.template=function(t){return c.template(t,e)},e}var u=h();u.create=h,d.default(u),u.default=u,e.default=u,t.exports=e.default},function(t,e){"use strict";e.default=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e},e.__esModule=!0},function(t,e,i){"use strict";var n=i(1).default;e.__esModule=!0,e.HandlebarsEnvironment=d;var s=i(5),o=n(i(6)),a=i(10),r=i(18),l=n(i(20));e.VERSION="4.0.12";e.COMPILER_REVISION=7;e.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};var c="[object Object]";function d(t,e,i){this.helpers=t||{},this.partials=e||{},this.decorators=i||{},a.registerDefaultHelpers(this),r.registerDefaultDecorators(this)}d.prototype={constructor:d,logger:l.default,log:l.default.log,registerHelper:function(t,e){if(s.toString.call(t)===c){if(e)throw new o.default("Arg not supported with multiple helpers");s.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if(s.toString.call(t)===c)s.extend(this.partials,t);else{if(void 0===e)throw new o.default('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if(s.toString.call(t)===c){if(e)throw new o.default("Arg not supported with multiple decorators");s.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]}};var h=l.default.log;e.log=h,e.createFrame=s.createFrame,e.logger=l.default},function(t,e){"use strict";e.__esModule=!0,e.extend=a,e.indexOf=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},e.escapeExpression=function(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return s.test(t)?t.replace(n,o):t},e.isEmpty=function(t){return!t&&0!==t||!(!c(t)||0!==t.length)},e.createFrame=function(t){var e=a({},t);return e._parent=t,e},e.blockParams=function(t,e){return t.path=e,t},e.appendContextPath=function(t,e){return(t?t+".":"")+e};var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},n=/[&<>"'`=]/g,s=/[&<>"'`=]/;function o(t){return i[t]}function a(t){for(var e=1;e<arguments.length;e++)for(var i in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],i)&&(t[i]=arguments[e][i]);return t}var r=Object.prototype.toString;e.toString=r;var l=function(t){return"function"==typeof t};l(/x/)&&(e.isFunction=l=function(t){return"function"==typeof t&&"[object Function]"===r.call(t)}),e.isFunction=l;var c=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===r.call(t)};e.isArray=c},function(t,e,i){"use strict";var r=i(7).default;e.__esModule=!0;var l=["description","fileName","lineNumber","message","name","number","stack"];function c(t,e){var i=e&&e.loc,n=void 0,s=void 0;i&&(t+=" - "+(n=i.start.line)+":"+(s=i.start.column));for(var o=Error.prototype.constructor.call(this,t),a=0;a<l.length;a++)this[l[a]]=o[l[a]];Error.captureStackTrace&&Error.captureStackTrace(this,c);try{i&&(this.lineNumber=n,r?Object.defineProperty(this,"column",{value:s,enumerable:!0}):this.column=s)}catch(t){}}c.prototype=new Error,e.default=c,t.exports=e.default},function(t,e,i){t.exports={default:i(8),__esModule:!0}},function(t,e,i){var n=i(9);t.exports=function(t,e,i){return n.setDesc(t,e,i)}},function(t,e){var i=Object;t.exports={create:i.create,getProto:i.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:i.getOwnPropertyDescriptor,setDesc:i.defineProperty,setDescs:i.defineProperties,getKeys:i.keys,getNames:i.getOwnPropertyNames,getSymbols:i.getOwnPropertySymbols,each:[].forEach}},function(t,e,i){"use strict";var n=i(1).default;e.__esModule=!0,e.registerDefaultHelpers=function(t){s.default(t),o.default(t),a.default(t),r.default(t),l.default(t),c.default(t),d.default(t)};var s=n(i(11)),o=n(i(12)),a=n(i(13)),r=n(i(14)),l=n(i(15)),c=n(i(16)),d=n(i(17))},function(t,e,i){"use strict";e.__esModule=!0;var a=i(5);e.default=function(o){o.registerHelper("blockHelperMissing",function(t,e){var i=e.inverse,n=e.fn;if(!0===t)return n(this);if(!1===t||null==t)return i(this);if(a.isArray(t))return 0<t.length?(e.ids&&(e.ids=[e.name]),o.helpers.each(t,e)):i(this);if(e.data&&e.ids){var s=a.createFrame(e.data);s.contextPath=a.appendContextPath(e.data.contextPath,e.name),e={data:s}}return n(t,e)})},t.exports=e.default},function(t,e,i){"use strict";var n=i(1).default;e.__esModule=!0;var u=i(5),p=n(i(6));e.default=function(t){t.registerHelper("each",function(n,t){if(!t)throw new p.default("Must pass iterator to #each");var s=t.fn,e=t.inverse,i=0,o="",a=void 0,r=void 0;function l(t,e,i){a&&(a.key=t,a.index=e,a.first=0===e,a.last=!!i,r&&(a.contextPath=r+t)),o+=s(n[t],{data:a,blockParams:u.blockParams([n[t],t],[r+t,null])})}if(t.data&&t.ids&&(r=u.appendContextPath(t.data.contextPath,t.ids[0])+"."),u.isFunction(n)&&(n=n.call(this)),t.data&&(a=u.createFrame(t.data)),n&&"object"==typeof n)if(u.isArray(n))for(var c=n.length;i<c;i++)i in n&&l(i,i,i===n.length-1);else{var d=void 0;for(var h in n)n.hasOwnProperty(h)&&(void 0!==d&&l(d,i-1),d=h,i++);void 0!==d&&l(d,i-1,!0)}return 0===i&&(o=e(this)),o})},t.exports=e.default},function(t,e,i){"use strict";var n=i(1).default;e.__esModule=!0;var s=n(i(6));e.default=function(t){t.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new s.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0;var n=i(5);e.default=function(i){i.registerHelper("if",function(t,e){return n.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||n.isEmpty(t)?e.inverse(this):e.fn(this)}),i.registerHelper("unless",function(t,e){return i.helpers.if.call(this,t,{fn:e.inverse,inverse:e.fn,hash:e.hash})})},t.exports=e.default},function(t,e){"use strict";e.__esModule=!0,e.default=function(s){s.registerHelper("log",function(){for(var t=[void 0],e=arguments[arguments.length-1],i=0;i<arguments.length-1;i++)t.push(arguments[i]);var n=1;null!=e.hash.level?n=e.hash.level:e.data&&null!=e.data.level&&(n=e.data.level),t[0]=n,s.log.apply(s,t)})},t.exports=e.default},function(t,e){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("lookup",function(t,e){return t&&t[e]})},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0;var s=i(5);e.default=function(t){t.registerHelper("with",function(t,e){s.isFunction(t)&&(t=t.call(this));var i=e.fn;if(s.isEmpty(t))return e.inverse(this);var n=e.data;return e.data&&e.ids&&((n=s.createFrame(e.data)).contextPath=s.appendContextPath(e.data.contextPath,e.ids[0])),i(t,{data:n,blockParams:s.blockParams([t],[n&&n.contextPath])})})},t.exports=e.default},function(t,e,i){"use strict";var n=i(1).default;e.__esModule=!0,e.registerDefaultDecorators=function(t){s.default(t)};var s=n(i(19))},function(t,e,i){"use strict";e.__esModule=!0;var r=i(5);e.default=function(t){t.registerDecorator("inline",function(s,o,a,t){var e=s;return o.partials||(o.partials={},e=function(t,e){var i=a.partials;a.partials=r.extend({},i,o.partials);var n=s(t,e);return a.partials=i,n}),o.partials[t.args[0]]=t.fn,e})},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0;var n=i(5),o={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var e=n.indexOf(o.methodMap,t.toLowerCase());t=0<=e?e:parseInt(t,10)}return t},log:function(t){if(t=o.lookupLevel(t),"undefined"!=typeof console&&o.lookupLevel(o.level)<=t){var e=o.methodMap[t];console[e]||(e="log");for(var i=arguments.length,n=Array(1<i?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];console[e].apply(console,n)}}};e.default=o,t.exports=e.default},function(t,e){"use strict";function i(t){this.string=t}e.__esModule=!0,i.prototype.toString=i.prototype.toHTML=function(){return""+this.string},e.default=i,t.exports=e.default},function(t,e,i){"use strict";var n=i(23).default,s=i(3).default,o=i(1).default;e.__esModule=!0,e.checkRevision=function(t){var e=t&&t[0]||1,i=u.COMPILER_REVISION;if(e!==i){if(e<i){var n=u.REVISION_CHANGES[i],s=u.REVISION_CHANGES[e];throw new h.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+s+").")}throw new h.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}},e.template=function(r,l){if(!l)throw new h.default("No environment passed to template");if(!r||!r.main)throw new h.default("Unknown template object: "+typeof r);r.main.decorator=r.main_d,l.VM.checkRevision(r.compiler);var a={strict:function(t,e){if(!(e in t))throw new h.default('"'+e+'" not defined in '+t);return t[e]},lookup:function(t,e){for(var i=t.length,n=0;n<i;n++)if(t[n]&&null!=t[n][e])return t[n][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:d.escapeExpression,invokePartial:function(t,e,i){i.hash&&(e=d.extend({},e,i.hash),i.ids&&(i.ids[0]=!0));t=l.VM.resolvePartial.call(this,t,e,i);var n=l.VM.invokePartial.call(this,t,e,i);null==n&&l.compile&&(i.partials[i.name]=l.compile(t,r.compilerOptions,l),n=i.partials[i.name](e,i));{if(null==n)throw new h.default("The partial "+i.name+" could not be compiled when running in runtime-only mode");if(i.indent){for(var s=n.split("\n"),o=0,a=s.length;o<a&&(s[o]||o+1!==a);o++)s[o]=i.indent+s[o];n=s.join("\n")}return n}},fn:function(t){var e=r[t];return e.decorator=r[t+"_d"],e},programs:[],program:function(t,e,i,n,s){var o=this.programs[t],a=this.fn(t);return e||s||n||i?o=p(this,t,a,e,i,n,s):o||(o=this.programs[t]=p(this,t,a)),o},data:function(t,e){for(;t&&e--;)t=t._parent;return t},merge:function(t,e){var i=t||e;return t&&e&&t!==e&&(i=d.extend({},e,t)),i},nullContext:n({}),noop:l.VM.noop,compilerInfo:r.compiler};function c(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=e.data;c._setup(e),!e.partial&&r.useData&&(i=function(t,e){e&&"root"in e||((e=e?u.createFrame(e):{}).root=t);return e}(t,i));var n=void 0,s=r.useBlockParams?[]:void 0;function o(t){return""+r.main(a,t,a.helpers,a.partials,i,s,n)}return r.useDepths&&(n=e.depths?t!=e.depths[0]?[t].concat(e.depths):e.depths:[t]),(o=m(r.main,o,a,e.depths||[],i,s))(t,e)}return c.isTop=!0,c._setup=function(t){t.partial?(a.helpers=t.helpers,a.partials=t.partials,a.decorators=t.decorators):(a.helpers=a.merge(t.helpers,l.helpers),r.usePartial&&(a.partials=a.merge(t.partials,l.partials)),(r.usePartial||r.useDecorators)&&(a.decorators=a.merge(t.decorators,l.decorators)))},c._child=function(t,e,i,n){if(r.useBlockParams&&!i)throw new h.default("must pass block params");if(r.useDepths&&!n)throw new h.default("must pass parent depths");return p(a,t,r[t],e,0,i,n)},c},e.wrapProgram=p,e.resolvePartial=function(t,e,i){t?t.call||i.name||(i.name=t,t=i.partials[t]):t="@partial-block"===i.name?i.data["partial-block"]:i.partials[i.name];return t},e.invokePartial=function(t,e,n){var s=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var o=void 0;n.fn&&n.fn!==a&&function(){n.data=u.createFrame(n.data);var i=n.fn;o=n.data["partial-block"]=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return e.data=u.createFrame(e.data),e.data["partial-block"]=s,i(t,e)},i.partials&&(n.partials=d.extend({},n.partials,i.partials))}();void 0===t&&o&&(t=o);{if(void 0===t)throw new h.default("The partial "+n.name+" could not be found");if(t instanceof Function)return t(e,n)}},e.noop=a;var d=s(i(5)),h=o(i(6)),u=i(4);function p(n,t,s,o,e,a,r){function i(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=r;return!r||t==r[0]||t===n.nullContext&&null===r[0]||(i=[t].concat(r)),s(n,t,n.helpers,n.partials,e.data||o,a&&[e.blockParams].concat(a),i)}return(i=m(s,i,n,r,o,a)).program=t,i.depth=r?r.length:0,i.blockParams=e||0,i}function a(){return""}function m(t,e,i,n,s,o){if(t.decorator){var a={};e=t.decorator(e,a,i,n&&n[0],s,o,n),d.extend(e,a)}return e}},function(t,e,i){t.exports={default:i(24),__esModule:!0}},function(t,e,i){i(25),t.exports=i(30).Object.seal},function(t,e,i){var n=i(26);i(27)("seal",function(e){return function(t){return e&&n(t)?e(t):t}})},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,i){var s=i(28),o=i(30),a=i(33);t.exports=function(t,e){var i=(o.Object||{})[t]||Object[t],n={};n[t]=e(i),s(s.S+s.F*a(function(){i(1)}),"Object",n)}},function(t,e,i){var m=i(29),f=i(30),v=i(31),_="prototype",g=function(t,e,i){var n,s,o,a=t&g.F,r=t&g.G,l=t&g.S,c=t&g.P,d=t&g.B,h=t&g.W,u=r?f:f[e]||(f[e]={}),p=r?m:l?m[e]:(m[e]||{})[_];for(n in r&&(i=e),i)(s=!a&&p&&n in p)&&n in u||(o=s?p[n]:i[n],u[n]=r&&"function"!=typeof p[n]?i[n]:d&&s?v(o,m):h&&p[n]==o?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t[_]=e[_],t}(o):c&&"function"==typeof o?v(Function.call,o):o,c&&((u[_]||(u[_]={}))[n]=o))};g.F=1,g.G=2,g.S=4,g.P=8,g.B=16,g.W=32,t.exports=g},function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(t,e){var i=t.exports={version:"1.2.6"};"number"==typeof __e&&(__e=i)},function(t,e,i){var o=i(32);t.exports=function(n,s,t){if(o(n),void 0===s)return n;switch(t){case 1:return function(t){return n.call(s,t)};case 2:return function(t,e){return n.call(s,t,e)};case 3:return function(t,e,i){return n.call(s,t,e,i)}}return function(){return n.apply(s,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){(function(n){"use strict";e.__esModule=!0,e.default=function(t){var e=void 0!==n?n:window,i=e.Handlebars;t.noConflict=function(){return e.Handlebars===t&&(e.Handlebars=i),t}},t.exports=e.default}).call(e,function(){return this}())},function(t,e){"use strict";e.__esModule=!0;var i={helpers:{helperExpression:function(t){return"SubExpression"===t.type||("MustacheStatement"===t.type||"BlockStatement"===t.type)&&!!(t.params&&t.params.length||t.hash)},scopedId:function(t){return/^\.|this\b/.test(t.original)},simpleId:function(t){return 1===t.parts.length&&!i.helpers.scopedId(t)&&!t.depth}}};e.default=i,t.exports=e.default},function(t,e,i){"use strict";var n=i(1).default,s=i(3).default;e.__esModule=!0,e.parse=function(t,e){return"Program"!==t.type?((o.default.yy=c).locInfo=function(t){return new c.SourceLocation(e&&e.srcName,t)},new a.default(e).accept(o.default.parse(t))):t};var o=n(i(37)),a=n(i(38)),r=s(i(40)),l=i(5);e.parser=o.default;var c={};l.extend(c,r)},function(t,e){"use strict";e.__esModule=!0;var i=function(){var t={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(t,e,i,n,s,o,a){var r=o.length-1;switch(s){case 1:return o[r-1];case 2:this.$=n.prepareProgram(o[r]);break;case 3:case 4:case 5:case 6:case 7:case 8:this.$=o[r];break;case 9:this.$={type:"CommentStatement",value:n.stripComment(o[r]),strip:n.stripFlags(o[r],o[r]),loc:n.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:o[r],value:o[r],loc:n.locInfo(this._$)};break;case 11:this.$=n.prepareRawBlock(o[r-2],o[r-1],o[r],this._$);break;case 12:this.$={path:o[r-3],params:o[r-2],hash:o[r-1]};break;case 13:this.$=n.prepareBlock(o[r-3],o[r-2],o[r-1],o[r],!1,this._$);break;case 14:this.$=n.prepareBlock(o[r-3],o[r-2],o[r-1],o[r],!0,this._$);break;case 15:this.$={open:o[r-5],path:o[r-4],params:o[r-3],hash:o[r-2],blockParams:o[r-1],strip:n.stripFlags(o[r-5],o[r])};break;case 16:case 17:this.$={path:o[r-4],params:o[r-3],hash:o[r-2],blockParams:o[r-1],strip:n.stripFlags(o[r-5],o[r])};break;case 18:this.$={strip:n.stripFlags(o[r-1],o[r-1]),program:o[r]};break;case 19:var l=n.prepareBlock(o[r-2],o[r-1],o[r],o[r],!1,this._$),c=n.prepareProgram([l],o[r-1].loc);c.chained=!0,this.$={strip:o[r-2].strip,program:c,chain:!0};break;case 20:this.$=o[r];break;case 21:this.$={path:o[r-1],strip:n.stripFlags(o[r-2],o[r])};break;case 22:case 23:this.$=n.prepareMustache(o[r-3],o[r-2],o[r-1],o[r-4],n.stripFlags(o[r-4],o[r]),this._$);break;case 24:this.$={type:"PartialStatement",name:o[r-3],params:o[r-2],hash:o[r-1],indent:"",strip:n.stripFlags(o[r-4],o[r]),loc:n.locInfo(this._$)};break;case 25:this.$=n.preparePartialBlock(o[r-2],o[r-1],o[r],this._$);break;case 26:this.$={path:o[r-3],params:o[r-2],hash:o[r-1],strip:n.stripFlags(o[r-4],o[r])};break;case 27:case 28:this.$=o[r];break;case 29:this.$={type:"SubExpression",path:o[r-3],params:o[r-2],hash:o[r-1],loc:n.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:o[r],loc:n.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:n.id(o[r-2]),value:o[r],loc:n.locInfo(this._$)};break;case 32:this.$=n.id(o[r-1]);break;case 33:case 34:this.$=o[r];break;case 35:this.$={type:"StringLiteral",value:o[r],original:o[r],loc:n.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(o[r]),original:Number(o[r]),loc:n.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===o[r],original:"true"===o[r],loc:n.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:n.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:n.locInfo(this._$)};break;case 40:case 41:this.$=o[r];break;case 42:this.$=n.preparePath(!0,o[r],this._$);break;case 43:this.$=n.preparePath(!1,o[r],this._$);break;case 44:o[r-2].push({part:n.id(o[r]),original:o[r],separator:o[r-1]}),this.$=o[r-2];break;case 45:this.$=[{part:n.id(o[r]),original:o[r]}];break;case 46:this.$=[];break;case 47:o[r-1].push(o[r]);break;case 48:this.$=[o[r]];break;case 49:o[r-1].push(o[r]);break;case 50:this.$=[];break;case 51:o[r-1].push(o[r]);break;case 58:this.$=[];break;case 59:o[r-1].push(o[r]);break;case 64:this.$=[];break;case 65:o[r-1].push(o[r]);break;case 70:this.$=[];break;case 71:o[r-1].push(o[r]);break;case 78:this.$=[];break;case 79:o[r-1].push(o[r]);break;case 82:this.$=[];break;case 83:o[r-1].push(o[r]);break;case 86:this.$=[];break;case 87:o[r-1].push(o[r]);break;case 90:this.$=[];break;case 91:o[r-1].push(o[r]);break;case 94:this.$=[];break;case 95:o[r-1].push(o[r]);break;case 98:this.$=[o[r]];break;case 99:o[r-1].push(o[r]);break;case 100:this.$=[o[r]];break;case 101:o[r-1].push(o[r])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function(t,e){throw new Error(t)},parse:function(t){var e=this,i=[0],n=[null],s=[],o=this.table,a="",r=0,l=0,c=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,void 0===(this.yy.parser=this).lexer.yylloc&&(this.lexer.yylloc={});var d=this.lexer.yylloc;s.push(d);var h=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var u,p,m,f,v,_,g,b,w,y,x={};;){if(m=i[i.length-1],void 0===(f=this.defaultActions[m]?this.defaultActions[m]:(null==u&&(y=void 0,"number"!=typeof(y=e.lexer.lex()||1)&&(y=e.symbols_[y]||y),u=y),o[m]&&o[m][u]))||!f.length||!f[0]){var k="";if(!c){for(_ in w=[],o[m])this.terminals_[_]&&2<_&&w.push("'"+this.terminals_[_]+"'");k=this.lexer.showPosition?"Parse error on line "+(r+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+w.join(", ")+", got '"+(this.terminals_[u]||u)+"'":"Parse error on line "+(r+1)+": Unexpected "+(1==u?"end of input":"'"+(this.terminals_[u]||u)+"'"),this.parseError(k,{text:this.lexer.match,token:this.terminals_[u]||u,line:this.lexer.yylineno,loc:d,expected:w})}}if(f[0]instanceof Array&&1<f.length)throw new Error("Parse Error: multiple actions possible at state: "+m+", token: "+u);switch(f[0]){case 1:i.push(u),n.push(this.lexer.yytext),s.push(this.lexer.yylloc),i.push(f[1]),u=null,p?(u=p,p=null):(l=this.lexer.yyleng,a=this.lexer.yytext,r=this.lexer.yylineno,d=this.lexer.yylloc,0<c&&c--);break;case 2:if(g=this.productions_[f[1]][1],x.$=n[n.length-g],x._$={first_line:s[s.length-(g||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(g||1)].first_column,last_column:s[s.length-1].last_column},h&&(x._$.range=[s[s.length-(g||1)].range[0],s[s.length-1].range[1]]),void 0!==(v=this.performAction.call(x,a,l,r,this.yy,f[1],n,s)))return v;g&&(i=i.slice(0,-1*g*2),n=n.slice(0,-1*g),s=s.slice(0,-1*g)),i.push(this.productions_[f[1]][0]),n.push(x.$),s.push(x._$),b=o[i[i.length-2]][i[i.length-1]],i.push(b);break;case 3:return!0}}return!0}},e={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,i=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1);var s=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===n.length?this.yylloc.first_column:0)+n[n.length-i.length].length-i[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[s[0],s[0]+this.yyleng-e]),this},more:function(){return this._more=!0,this},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(20<t.length?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(20<t.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;var t,e,i,n,s;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),a=0;a<o.length&&(!(i=this._input.match(this.rules[o[a]]))||e&&!(i[0].length>e[0].length)||(e=i,n=a,this.options.flex));a++);return e?((s=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=s.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:s?s[s.length-1].length-s[s.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,o[n],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return void 0!==t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)},options:{},performAction:function(t,i,e,n){function s(t,e){return i.yytext=i.yytext.substr(t,i.yyleng-e)}switch(e){case 0:if("\\\\"===i.yytext.slice(-2)?(s(0,1),this.begin("mu")):"\\"===i.yytext.slice(-1)?(s(0,1),this.begin("emu")):this.begin("mu"),i.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(i.yytext=i.yytext.substr(5,i.yyleng-9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(i.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return i.yytext=s(1,2).replace(/\\"/g,'"'),80;case 32:return i.yytext=s(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return i.yytext=i.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}}};function i(){this.yy={}}return t.lexer=e,new((i.prototype=t).Parser=i)}();e.default=i,t.exports=e.default},function(t,e,i){"use strict";var n=i(1).default;e.__esModule=!0;var s=n(i(39));function o(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=t}function p(t,e,i){void 0===e&&(e=t.length);var n=t[e-1],s=t[e-2];return n?"ContentStatement"===n.type?(s||!i?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(n.original):void 0:i}function m(t,e,i){void 0===e&&(e=-1);var n=t[e+1],s=t[e+2];return n?"ContentStatement"===n.type?(s||!i?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(n.original):void 0:i}function f(t,e,i){var n=t[null==e?0:e+1];if(n&&"ContentStatement"===n.type&&(i||!n.rightStripped)){var s=n.value;n.value=n.value.replace(i?/^\s+/:/^[ \t]*\r?\n?/,""),n.rightStripped=n.value!==s}}function v(t,e,i){var n=t[null==e?t.length-1:e-1];if(n&&"ContentStatement"===n.type&&(i||!n.leftStripped)){var s=n.value;return n.value=n.value.replace(i?/\s+$/:/[ \t]+$/,""),n.leftStripped=n.value!==s,n.leftStripped}}(o.prototype=new s.default).Program=function(t){var e=!this.options.ignoreStandalone,i=!this.isRootSeen;this.isRootSeen=!0;for(var n=t.body,s=0,o=n.length;s<o;s++){var a=n[s],r=this.accept(a);if(r){var l=p(n,s,i),c=m(n,s,i),d=r.openStandalone&&l,h=r.closeStandalone&&c,u=r.inlineStandalone&&l&&c;r.close&&f(n,s,!0),r.open&&v(n,s,!0),e&&u&&(f(n,s),v(n,s)&&"PartialStatement"===a.type&&(a.indent=/([ \t]+$)/.exec(n[s-1].original)[1])),e&&d&&(f((a.program||a.inverse).body),v(n,s)),e&&h&&(f(n,s),v((a.inverse||a.program).body))}}return t},o.prototype.BlockStatement=o.prototype.DecoratorBlock=o.prototype.PartialBlockStatement=function(t){this.accept(t.program),this.accept(t.inverse);var e=t.program||t.inverse,i=t.program&&t.inverse,n=i,s=i;if(i&&i.chained)for(n=i.body[0].program;s.chained;)s=s.body[s.body.length-1].program;var o={open:t.openStrip.open,close:t.closeStrip.close,openStandalone:m(e.body),closeStandalone:p((n||e).body)};if(t.openStrip.close&&f(e.body,null,!0),i){var a=t.inverseStrip;a.open&&v(e.body,null,!0),a.close&&f(n.body,null,!0),t.closeStrip.open&&v(s.body,null,!0),!this.options.ignoreStandalone&&p(e.body)&&m(n.body)&&(v(e.body),f(n.body))}else t.closeStrip.open&&v(e.body,null,!0);return o},o.prototype.Decorator=o.prototype.MustacheStatement=function(t){return t.strip},o.prototype.PartialStatement=o.prototype.CommentStatement=function(t){var e=t.strip||{};return{inlineStandalone:!0,open:e.open,close:e.close}},e.default=o,t.exports=e.default},function(t,e,i){"use strict";var n=i(1).default;e.__esModule=!0;var s=n(i(6));function o(){this.parents=[]}function a(t){this.acceptRequired(t,"path"),this.acceptArray(t.params),this.acceptKey(t,"hash")}function r(t){a.call(this,t),this.acceptKey(t,"program"),this.acceptKey(t,"inverse")}function l(t){this.acceptRequired(t,"name"),this.acceptArray(t.params),this.acceptKey(t,"hash")}o.prototype={constructor:o,mutating:!1,acceptKey:function(t,e){var i=this.accept(t[e]);if(this.mutating){if(i&&!o.prototype[i.type])throw new s.default('Unexpected node type "'+i.type+'" found when accepting '+e+" on "+t.type);t[e]=i}},acceptRequired:function(t,e){if(this.acceptKey(t,e),!t[e])throw new s.default(t.type+" requires "+e)},acceptArray:function(t){for(var e=0,i=t.length;e<i;e++)this.acceptKey(t,e),t[e]||(t.splice(e,1),e--,i--)},accept:function(t){if(t){if(!this[t.type])throw new s.default("Unknown type: "+t.type,t);this.current&&this.parents.unshift(this.current),this.current=t;var e=this[t.type](t);return this.current=this.parents.shift(),!this.mutating||e?e:!1!==e?t:void 0}},Program:function(t){this.acceptArray(t.body)},MustacheStatement:a,Decorator:a,BlockStatement:r,DecoratorBlock:r,PartialStatement:l,PartialBlockStatement:function(t){l.call(this,t),this.acceptKey(t,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:a,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(t){this.acceptArray(t.pairs)},HashPair:function(t){this.acceptRequired(t,"value")}},e.default=o,t.exports=e.default},function(t,e,i){"use strict";var n=i(1).default;e.__esModule=!0,e.SourceLocation=function(t,e){this.source=t,this.start={line:e.first_line,column:e.first_column},this.end={line:e.last_line,column:e.last_column}},e.id=function(t){return/^\[.*\]$/.test(t)?t.substr(1,t.length-2):t},e.stripFlags=function(t,e){return{open:"~"===t.charAt(2),close:"~"===e.charAt(e.length-3)}},e.stripComment=function(t){return t.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")},e.preparePath=function(t,e,i){i=this.locInfo(i);for(var n=t?"@":"",s=[],o=0,a=0,r=e.length;a<r;a++){var l=e[a].part,c=e[a].original!==l;if(n+=(e[a].separator||"")+l,c||".."!==l&&"."!==l&&"this"!==l)s.push(l);else{if(0<s.length)throw new d.default("Invalid path: "+n,{loc:i});".."===l&&o++}}return{type:"PathExpression",data:t,depth:o,parts:s,original:n,loc:i}},e.prepareMustache=function(t,e,i,n,s,o){var a=n.charAt(3)||n.charAt(2),r="{"!==a&&"&"!==a;return{type:/\*/.test(n)?"Decorator":"MustacheStatement",path:t,params:e,hash:i,escaped:r,strip:s,loc:this.locInfo(o)}},e.prepareRawBlock=function(t,e,i,n){c(t,i),n=this.locInfo(n);var s={type:"Program",body:e,strip:{},loc:n};return{type:"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:s,openStrip:{},inverseStrip:{},closeStrip:{},loc:n}},e.prepareBlock=function(t,e,i,n,s,o){n&&n.path&&c(t,n);var a=/\*/.test(t.open);e.blockParams=t.blockParams;var r=void 0,l=void 0;if(i){if(a)throw new d.default("Unexpected inverse block on decorator",i);i.chain&&(i.program.body[0].closeStrip=n.strip),l=i.strip,r=i.program}s&&(s=r,r=e,e=s);return{type:a?"DecoratorBlock":"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:e,inverse:r,openStrip:t.strip,inverseStrip:l,closeStrip:n&&n.strip,loc:this.locInfo(o)}},e.prepareProgram=function(t,e){if(!e&&t.length){var i=t[0].loc,n=t[t.length-1].loc;i&&n&&(e={source:i.source,start:{line:i.start.line,column:i.start.column},end:{line:n.end.line,column:n.end.column}})}return{type:"Program",body:t,strip:{},loc:e}},e.preparePartialBlock=function(t,e,i,n){return c(t,i),{type:"PartialBlockStatement",name:t.path,params:t.params,hash:t.hash,program:e,openStrip:t.strip,closeStrip:i&&i.strip,loc:this.locInfo(n)}};var d=n(i(6));function c(t,e){if(e=e.path?e.path.original:e,t.path.original!==e){var i={loc:t.path.loc};throw new d.default(t.path.original+" doesn't match "+e,i)}}},function(t,e,i){"use strict";var n=i(1).default;e.__esModule=!0,e.Compiler=o,e.precompile=function(t,e,i){if(null==t||"string"!=typeof t&&"Program"!==t.type)throw new l.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);"data"in(e=e||{})||(e.data=!0);e.compat&&(e.useDepths=!0);var n=i.parse(t,e),s=(new i.Compiler).compile(n,e);return(new i.JavaScriptCompiler).compile(s,e)},e.compile=function(n,s,o){void 0===s&&(s={});if(null==n||"string"!=typeof n&&"Program"!==n.type)throw new l.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+n);"data"in(s=c.extend({},s))||(s.data=!0);s.compat&&(s.useDepths=!0);var a=void 0;function r(){var t=o.parse(n,s),e=(new o.Compiler).compile(t,s),i=(new o.JavaScriptCompiler).compile(e,s,void 0,!0);return o.template(i)}function t(t,e){return a||(a=r()),a.call(this,t,e)}return t._setup=function(t){return a||(a=r()),a._setup(t)},t._child=function(t,e,i,n){return a||(a=r()),a._child(t,e,i,n)},t};var l=n(i(6)),c=i(5),r=n(i(35)),s=[].slice;function o(){}function a(t,e){if(t===e)return!0;if(c.isArray(t)&&c.isArray(e)&&t.length===e.length){for(var i=0;i<t.length;i++)if(!a(t[i],e[i]))return!1;return!0}}function d(t){if(!t.path.parts){var e=t.path;t.path={type:"PathExpression",data:!1,depth:0,parts:[e.original+""],original:e.original+"",loc:e.loc}}}o.prototype={compiler:o,equals:function(t){var e=this.opcodes.length;if(t.opcodes.length!==e)return!1;for(var i=0;i<e;i++){var n=this.opcodes[i],s=t.opcodes[i];if(n.opcode!==s.opcode||!a(n.args,s.args))return!1}e=this.children.length;for(i=0;i<e;i++)if(!this.children[i].equals(t.children[i]))return!1;return!0},guid:0,compile:function(t,e){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=e,this.stringParams=e.stringParams,this.trackIds=e.trackIds,e.blockParams=e.blockParams||[];var i=e.knownHelpers;if(e.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},i)for(var n in i)this.options.knownHelpers[n]=i[n];return this.accept(t)},compileProgram:function(t){var e=(new this.compiler).compile(t,this.options),i=this.guid++;return this.usePartial=this.usePartial||e.usePartial,this.children[i]=e,this.useDepths=this.useDepths||e.useDepths,i},accept:function(t){if(!this[t.type])throw new l.default("Unknown type: "+t.type,t);this.sourceNode.unshift(t);var e=this[t.type](t);return this.sourceNode.shift(),e},Program:function(t){this.options.blockParams.unshift(t.blockParams);for(var e=t.body,i=e.length,n=0;n<i;n++)this.accept(e[n]);return this.options.blockParams.shift(),this.isSimple=1===i,this.blockParams=t.blockParams?t.blockParams.length:0,this},BlockStatement:function(t){d(t);var e=t.program,i=t.inverse;e=e&&this.compileProgram(e),i=i&&this.compileProgram(i);var n=this.classifySexpr(t);"helper"===n?this.helperSexpr(t,e,i):"simple"===n?(this.simpleSexpr(t),this.opcode("pushProgram",e),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("blockValue",t.path.original)):(this.ambiguousSexpr(t,e,i),this.opcode("pushProgram",e),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(t){var e=t.program&&this.compileProgram(t.program),i=this.setupFullMustacheParams(t,e,void 0),n=t.path;this.useDecorators=!0,this.opcode("registerDecorator",i.length,n.original)},PartialStatement:function(t){this.usePartial=!0;var e=t.program;e&&(e=this.compileProgram(t.program));var i=t.params;if(1<i.length)throw new l.default("Unsupported number of partial arguments: "+i.length,t);i.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):i.push({type:"PathExpression",parts:[],depth:0}));var n=t.name.original,s="SubExpression"===t.name.type;s&&this.accept(t.name),this.setupFullMustacheParams(t,e,void 0,!0);var o=t.indent||"";this.options.preventIndent&&o&&(this.opcode("appendContent",o),o=""),this.opcode("invokePartial",s,n,o),this.opcode("append")},PartialBlockStatement:function(t){this.PartialStatement(t)},MustacheStatement:function(t){this.SubExpression(t),t.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(t){this.DecoratorBlock(t)},ContentStatement:function(t){t.value&&this.opcode("appendContent",t.value)},CommentStatement:function(){},SubExpression:function(t){d(t);var e=this.classifySexpr(t);"simple"===e?this.simpleSexpr(t):"helper"===e?this.helperSexpr(t):this.ambiguousSexpr(t)},ambiguousSexpr:function(t,e,i){var n=t.path,s=n.parts[0],o=null!=e||null!=i;this.opcode("getContext",n.depth),this.opcode("pushProgram",e),this.opcode("pushProgram",i),n.strict=!0,this.accept(n),this.opcode("invokeAmbiguous",s,o)},simpleSexpr:function(t){var e=t.path;e.strict=!0,this.accept(e),this.opcode("resolvePossibleLambda")},helperSexpr:function(t,e,i){var n=this.setupFullMustacheParams(t,e,i),s=t.path,o=s.parts[0];if(this.options.knownHelpers[o])this.opcode("invokeKnownHelper",n.length,o);else{if(this.options.knownHelpersOnly)throw new l.default("You specified knownHelpersOnly, but used the unknown helper "+o,t);s.strict=!0,s.falsy=!0,this.accept(s),this.opcode("invokeHelper",n.length,s.original,r.default.helpers.simpleId(s))}},PathExpression:function(t){this.addDepth(t.depth),this.opcode("getContext",t.depth);var e=t.parts[0],i=r.default.helpers.scopedId(t),n=!t.depth&&!i&&this.blockParamIndex(e);n?this.opcode("lookupBlockParam",n,t.parts):e?t.data?(this.options.data=!0,this.opcode("lookupData",t.depth,t.parts,t.strict)):this.opcode("lookupOnContext",t.parts,t.falsy,t.strict,i):this.opcode("pushContext")},StringLiteral:function(t){this.opcode("pushString",t.value)},NumberLiteral:function(t){this.opcode("pushLiteral",t.value)},BooleanLiteral:function(t){this.opcode("pushLiteral",t.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(t){var e=t.pairs,i=0,n=e.length;for(this.opcode("pushHash");i<n;i++)this.pushParam(e[i].value);for(;i--;)this.opcode("assignToHash",e[i].key);this.opcode("popHash")},opcode:function(t){this.opcodes.push({opcode:t,args:s.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(t){t&&(this.useDepths=!0)},classifySexpr:function(t){var e=r.default.helpers.simpleId(t.path),i=e&&!!this.blockParamIndex(t.path.parts[0]),n=!i&&r.default.helpers.helperExpression(t),s=!i&&(n||e);if(s&&!n){var o=t.path.parts[0],a=this.options;a.knownHelpers[o]?n=!0:a.knownHelpersOnly&&(s=!1)}return n?"helper":s?"ambiguous":"simple"},pushParams:function(t){for(var e=0,i=t.length;e<i;e++)this.pushParam(t[e])},pushParam:function(t){var e=null!=t.value?t.value:t.original||"";if(this.stringParams)e.replace&&(e=e.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",e,t.type),"SubExpression"===t.type&&this.accept(t);else{if(this.trackIds){var i=void 0;if(!t.parts||r.default.helpers.scopedId(t)||t.depth||(i=this.blockParamIndex(t.parts[0])),i){var n=t.parts.slice(1).join(".");this.opcode("pushId","BlockParam",i,n)}else(e=t.original||e).replace&&(e=e.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",t.type,e)}this.accept(t)}},setupFullMustacheParams:function(t,e,i,n){var s=t.params;return this.pushParams(s),this.opcode("pushProgram",e),this.opcode("pushProgram",i),t.hash?this.accept(t.hash):this.opcode("emptyHash",n),s},blockParamIndex:function(t){for(var e=0,i=this.options.blockParams.length;e<i;e++){var n=this.options.blockParams[e],s=n&&c.indexOf(n,t);if(n&&0<=s)return[e,s]}}}},function(t,e,i){"use strict";var n=i(1).default;e.__esModule=!0;var s=i(4),m=n(i(6)),o=i(5),a=n(i(43));function l(t){this.value=t}function r(){}r.prototype={nameLookup:function(t,e){return r.isValidJavaScriptVariableName(e)?[t,".",e]:[t,"[",JSON.stringify(e),"]"]},depthedLookup:function(t){return[this.aliasable("container.lookup"),'(depths, "',t,'")']},compilerInfo:function(){var t=s.COMPILER_REVISION;return[t,s.REVISION_CHANGES[t]]},appendToBuffer:function(t,e,i){return o.isArray(t)||(t=[t]),t=this.source.wrap(t,e),this.environment.isSimple?["return ",t,";"]:i?["buffer += ",t,";"]:(t.appendToBuffer=!0,t)},initializeBuffer:function(){return this.quotedString("")},compile:function(t,e,i,n){this.environment=t,this.options=e,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!n,this.name=this.environment.name,this.isChild=!!i,this.context=i||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(t,e),this.useDepths=this.useDepths||t.useDepths||t.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||t.useBlockParams;var s=t.opcodes,o=void 0,a=void 0,r=void 0,l=void 0;for(r=0,l=s.length;r<l;r++)o=s[r],this.source.currentLocation=o.loc,a=a||o.loc,this[o.opcode].apply(this,o.args);if(this.source.currentLocation=a,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new m.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend("var decorators = container.decorators;\n"),this.decorators.push("return fn;"),this.decorators=n?Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators.merge()));var c=this.createFunctionContext(n);if(this.isChild)return c;var d={compiler:this.compilerInfo(),main:c};this.decorators&&(d.main_d=this.decorators,d.useDecorators=!0);var h=this.context,u=h.programs,p=h.decorators;for(r=0,l=u.length;r<l;r++)u[r]&&(d[r]=u[r],p[r]&&(d[r+"_d"]=p[r],d.useDecorators=!0));return this.environment.usePartial&&(d.usePartial=!0),this.options.data&&(d.useData=!0),this.useDepths&&(d.useDepths=!0),this.useBlockParams&&(d.useBlockParams=!0),this.options.compat&&(d.compat=!0),n?d.compilerOptions=this.options:(d.compiler=JSON.stringify(d.compiler),this.source.currentLocation={start:{line:1,column:0}},d=this.objectLiteral(d),e.srcName?(d=d.toStringWithSourceMap({file:e.destName})).map=d.map&&d.map.toString():d=d.toString()),d},preamble:function(){this.lastContext=0,this.source=new a.default(this.options.srcName),this.decorators=new a.default(this.options.srcName)},createFunctionContext:function(t){var e="",i=this.stackVars.concat(this.registers.list);0<i.length&&(e+=", "+i.join(", "));var n=0;for(var s in this.aliases){var o=this.aliases[s];this.aliases.hasOwnProperty(s)&&o.children&&1<o.referenceCount&&(e+=", alias"+ ++n+"="+s,o.children[0]="alias"+n)}var a=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&a.push("blockParams"),this.useDepths&&a.push("depths");var r=this.mergeSource(e);return t?(a.push(r),Function.apply(this,a)):this.source.wrap(["function(",a.join(","),") {\n  ",r,"}"])},mergeSource:function(t){var e=this.environment.isSimple,i=!this.forceBuffer,n=void 0,s=void 0,o=void 0,a=void 0;return this.source.each(function(t){t.appendToBuffer?(o?t.prepend("  + "):o=t,a=t):(o&&(s?o.prepend("buffer += "):n=!0,a.add(";"),o=a=void 0),s=!0,e||(i=!1))}),i?o?(o.prepend("return "),a.add(";")):s||this.source.push('return "";'):(t+=", buffer = "+(n?"":this.initializeBuffer()),o?(o.prepend("return buffer + "),a.add(";")):this.source.push("return buffer;")),t&&this.source.prepend("var "+t.substring(2)+(n?"":";\n")),this.source.merge()},blockValue:function(t){var e=this.aliasable("helpers.blockHelperMissing"),i=[this.contextName(0)];this.setupHelperArgs(t,0,i);var n=this.popStack();i.splice(1,0,n),this.push(this.source.functionCall(e,"call",i))},ambiguousBlockValue:function(){var t=this.aliasable("helpers.blockHelperMissing"),e=[this.contextName(0)];this.setupHelperArgs("",0,e,!0),this.flushInline();var i=this.topStack();e.splice(1,0,i),this.pushSource(["if (!",this.lastHelper,") { ",i," = ",this.source.functionCall(t,"call",e),"}"])},appendContent:function(t){this.pendingContent?t=this.pendingContent+t:this.pendingLocation=this.source.currentLocation,this.pendingContent=t},append:function(){if(this.isInline())this.replaceStack(function(t){return[" != null ? ",t,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var t=this.popStack();this.pushSource(["if (",t," != null) { ",this.appendToBuffer(t,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(t){this.lastContext=t},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(t,e,i,n){var s=0;n||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(t[s++])),this.resolvePath("context",t,s,e,i)},lookupBlockParam:function(t,e){this.useBlockParams=!0,this.push(["blockParams[",t[0],"][",t[1],"]"]),this.resolvePath("context",e,1)},lookupData:function(t,e,i){t?this.pushStackLiteral("container.data(data, "+t+")"):this.pushStackLiteral("data"),this.resolvePath("data",e,0,!0,i)},resolvePath:function(i,n,s,o,t){var a=this;if(this.options.strict||this.options.assumeObjects)this.push(function(t,e,i,n){var s=e.popStack(),o=0,a=i.length;t&&a--;for(;o<a;o++)s=e.nameLookup(s,i[o],n);return t?[e.aliasable("container.strict"),"(",s,", ",e.quotedString(i[o]),")"]:s}(this.options.strict&&t,this,n,i));else for(var e=n.length;s<e;s++)this.replaceStack(function(t){var e=a.nameLookup(t,n[s],i);return o?[" && ",e]:[" != null ? ",e," : ",t]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(t,e){this.pushContext(),this.pushString(e),"SubExpression"!==e&&("string"==typeof t?this.pushString(t):this.pushStackLiteral(t))},emptyHash:function(t){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(t?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var t=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(t.ids)),this.stringParams&&(this.push(this.objectLiteral(t.contexts)),this.push(this.objectLiteral(t.types))),this.push(this.objectLiteral(t.values))},pushString:function(t){this.pushStackLiteral(this.quotedString(t))},pushLiteral:function(t){this.pushStackLiteral(t)},pushProgram:function(t){null!=t?this.pushStackLiteral(this.programExpression(t)):this.pushStackLiteral(null)},registerDecorator:function(t,e){var i=this.nameLookup("decorators",e,"decorator"),n=this.setupHelperArgs(e,t);this.decorators.push(["fn = ",this.decorators.functionCall(i,"",["fn","props","container",n])," || fn;"])},invokeHelper:function(t,e,i){var n=this.popStack(),s=this.setupHelper(t,e),o=i?[s.name," || "]:"",a=["("].concat(o,n);this.options.strict||a.push(" || ",this.aliasable("helpers.helperMissing")),a.push(")"),this.push(this.source.functionCall(a,"call",s.callParams))},invokeKnownHelper:function(t,e){var i=this.setupHelper(t,e);this.push(this.source.functionCall(i.name,"call",i.callParams))},invokeAmbiguous:function(t,e){this.useRegister("helper");var i=this.popStack();this.emptyHash();var n=this.setupHelper(0,t,e),s=["(","(helper = ",this.lastHelper=this.nameLookup("helpers",t,"helper")," || ",i,")"];this.options.strict||(s[0]="(helper = ",s.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",s,n.paramsInit?["),(",n.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",n.callParams)," : helper))"])},invokePartial:function(t,e,i){var n=[],s=this.setupParams(e,1,n);t&&(e=this.popStack(),delete s.name),i&&(s.indent=JSON.stringify(i)),s.helpers="helpers",s.partials="partials",s.decorators="container.decorators",t?n.unshift(e):n.unshift(this.nameLookup("partials",e,"partial")),this.options.compat&&(s.depths="depths"),s=this.objectLiteral(s),n.push(s),this.push(this.source.functionCall("container.invokePartial","",n))},assignToHash:function(t){var e=this.popStack(),i=void 0,n=void 0,s=void 0;this.trackIds&&(s=this.popStack()),this.stringParams&&(n=this.popStack(),i=this.popStack());var o=this.hash;i&&(o.contexts[t]=i),n&&(o.types[t]=n),s&&(o.ids[t]=s),o.values[t]=e},pushId:function(t,e,i){"BlockParam"===t?this.pushStackLiteral("blockParams["+e[0]+"].path["+e[1]+"]"+(i?" + "+JSON.stringify("."+i):"")):"PathExpression"===t?this.pushString(e):"SubExpression"===t?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:r,compileChildren:function(t,e){for(var i=t.children,n=void 0,s=void 0,o=0,a=i.length;o<a;o++){n=i[o],s=new this.compiler;var r=this.matchExistingProgram(n);if(null==r){this.context.programs.push("");var l=this.context.programs.length;n.index=l,n.name="program"+l,this.context.programs[l]=s.compile(n,e,this.context,!this.precompile),this.context.decorators[l]=s.decorators,this.context.environments[l]=n,this.useDepths=this.useDepths||s.useDepths,this.useBlockParams=this.useBlockParams||s.useBlockParams,n.useDepths=this.useDepths,n.useBlockParams=this.useBlockParams}else n.index=r.index,n.name="program"+r.index,this.useDepths=this.useDepths||r.useDepths,this.useBlockParams=this.useBlockParams||r.useBlockParams}},matchExistingProgram:function(t){for(var e=0,i=this.context.environments.length;e<i;e++){var n=this.context.environments[e];if(n&&n.equals(t))return n}},programExpression:function(t){var e=this.environment.children[t],i=[e.index,"data",e.blockParams];return(this.useBlockParams||this.useDepths)&&i.push("blockParams"),this.useDepths&&i.push("depths"),"container.program("+i.join(", ")+")"},useRegister:function(t){this.registers[t]||(this.registers[t]=!0,this.registers.list.push(t))},push:function(t){return t instanceof l||(t=this.source.wrap(t)),this.inlineStack.push(t),t},pushStackLiteral:function(t){this.push(new l(t))},pushSource:function(t){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),t&&this.source.push(t)},replaceStack:function(t){var e=["("],i=void 0,n=void 0,s=void 0;if(!this.isInline())throw new m.default("replaceStack on non-inline");var o=this.popStack(!0);if(o instanceof l)e=["(",i=[o.value]],s=!0;else{n=!0;var a=this.incrStack();e=["((",this.push(a)," = ",o,")"],i=this.topStack()}var r=t.call(this,i);s||this.popStack(),n&&this.stackSlot--,this.push(e.concat(r,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var t=this.inlineStack;this.inlineStack=[];for(var e=0,i=t.length;e<i;e++){var n=t[e];if(n instanceof l)this.compileStack.push(n);else{var s=this.incrStack();this.pushSource([s," = ",n,";"]),this.compileStack.push(s)}}},isInline:function(){return this.inlineStack.length},popStack:function(t){var e=this.isInline(),i=(e?this.inlineStack:this.compileStack).pop();if(!t&&i instanceof l)return i.value;if(!e){if(!this.stackSlot)throw new m.default("Invalid stack pop");this.stackSlot--}return i},topStack:function(){var t=this.isInline()?this.inlineStack:this.compileStack,e=t[t.length-1];return e instanceof l?e.value:e},contextName:function(t){return this.useDepths&&t?"depths["+t+"]":"depth"+t},quotedString:function(t){return this.source.quotedString(t)},objectLiteral:function(t){return this.source.objectLiteral(t)},aliasable:function(t){var e=this.aliases[t];return e?e.referenceCount++:((e=this.aliases[t]=this.source.wrap(t)).aliasable=!0,e.referenceCount=1),e},setupHelper:function(t,e,i){var n=[];return{params:n,paramsInit:this.setupHelperArgs(e,t,n,i),name:this.nameLookup("helpers",e,"helper"),callParams:[this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})")].concat(n)}},setupParams:function(t,e,i){var n={},s=[],o=[],a=[],r=!i,l=void 0;r&&(i=[]),n.name=this.quotedString(t),n.hash=this.popStack(),this.trackIds&&(n.hashIds=this.popStack()),this.stringParams&&(n.hashTypes=this.popStack(),n.hashContexts=this.popStack());var c=this.popStack(),d=this.popStack();(d||c)&&(n.fn=d||"container.noop",n.inverse=c||"container.noop");for(var h=e;h--;)l=this.popStack(),i[h]=l,this.trackIds&&(a[h]=this.popStack()),this.stringParams&&(o[h]=this.popStack(),s[h]=this.popStack());return r&&(n.args=this.source.generateArray(i)),this.trackIds&&(n.ids=this.source.generateArray(a)),this.stringParams&&(n.types=this.source.generateArray(o),n.contexts=this.source.generateArray(s)),this.options.data&&(n.data="data"),this.useBlockParams&&(n.blockParams="blockParams"),n},setupHelperArgs:function(t,e,i,n){var s=this.setupParams(t,e,i);return s=this.objectLiteral(s),n?(this.useRegister("options"),i.push("options"),["options=",s]):i?(i.push(s),""):s}},function(){for(var t="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),e=r.RESERVED_WORDS={},i=0,n=t.length;i<n;i++)e[t[i]]=!0}(),r.isValidJavaScriptVariableName=function(t){return!r.RESERVED_WORDS[t]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(t)},e.default=r,t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0;var a=i(5),n=void 0;try{}catch(t){}function o(t,e,i){if(a.isArray(t)){for(var n=[],s=0,o=t.length;s<o;s++)n.push(e.wrap(t[s],i));return n}return"boolean"==typeof t||"number"==typeof t?t+"":t}function s(t){this.srcFile=t,this.source=[]}n||((n=function(t,e,i,n){this.src="",n&&this.add(n)}).prototype={add:function(t){a.isArray(t)&&(t=t.join("")),this.src+=t},prepend:function(t){a.isArray(t)&&(t=t.join("")),this.src=t+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),s.prototype={isEmpty:function(){return!this.source.length},prepend:function(t,e){this.source.unshift(this.wrap(t,e))},push:function(t,e){this.source.push(this.wrap(t,e))},merge:function(){var e=this.empty();return this.each(function(t){e.add(["  ",t,"\n"])}),e},each:function(t){for(var e=0,i=this.source.length;e<i;e++)t(this.source[e])},empty:function(){var t=this.currentLocation||{start:{}};return new n(t.start.line,t.start.column,this.srcFile)},wrap:function(t){var e=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return t instanceof n?t:(t=o(t,this,e),new n(e.start.line,e.start.column,this.srcFile,t))},functionCall:function(t,e,i){return i=this.generateList(i),this.wrap([t,e?"."+e+"(":"(",i,")"])},quotedString:function(t){return'"'+(t+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(t){var e=[];for(var i in t)if(t.hasOwnProperty(i)){var n=o(t[i],this);"undefined"!==n&&e.push([this.quotedString(i),":",n])}var s=this.generateList(e);return s.prepend("{"),s.add("}"),s},generateList:function(t){for(var e=this.empty(),i=0,n=t.length;i<n;i++)i&&e.add(","),e.add(o(t[i],this));return e},generateArray:function(t){var e=this.generateList(t);return e.prepend("["),e.add("]"),e}},e.default=s,t.exports=e.default}])}),define("scripts/models/home/HomeModel",["jquery","underscore","backbone"],function(t,e,i){return i.Model.extend({defaults:{username:sessionStorage.user?JSON.parse(sessionStorage.user).username:"",nickname:sessionStorage.user?JSON.parse(sessionStorage.user).nickname:"",game_notice:sessionStorage.user?JSON.parse(sessionStorage.user).game_notice:"暂无公告",balance:0,total_online:0,hall1_rtmp:"rtmp://live.hj8828.tv/live/time",hall1_hls:"http://eduh.jcx999.com/live/n30/index.m3u8",hall2_rtmp:"rtmp://live.hj8828.tv/live/time",hall2_hls:"http://eduh.jcx999.com/live/n30/index.m3u8"}})}),define("scripts/streams/SocketStream",["jquery","underscore","backbone","scripts/ShowInfo"],function(t,i,e,n){var s={};if(i.extend(s,e.Events),sessionStorage.user){var o=JSON.parse(sessionStorage.user);!function(){if(window.Lines=o.server_list,sessionStorage.SocketUrl){for(var t=0,e=Lines.length;t<e;t++)if(Lines[t].host==sessionStorage.SocketUrl)return;sessionStorage.SocketUrl=Lines[0].host}else sessionStorage.SocketUrl=Lines[0].host}();var a=sessionStorage.SocketUrl+"?session_id="+o.session_id;"undefined"!=typeof WebSocket?s.socket=new WebSocket(a):"undefined"!=typeof MozWebSocket?s.socket=new MozWebSocket(a):n.modal("您的浏览器不支持该游戏，请升级!",function(){location.href="http://www.goody.com.cn/2014/updatebrowser/"}),"true"==sessionStorage.enableMsgpack&&(s.socket.binaryType="arraybuffer"),s.on("send",function(t){"true"==sessionStorage.enableDebug&&console.log("send >>>>>>>>"+JSON.stringify(t));try{"true"==sessionStorage.enableMsgpack?s.socket.send(msgpack.encode(t)):s.socket.send(JSON.stringify(t))}catch(t){}});var r=setTimeout(function(){s.socket.close()},5e3);return s.socket.onopen=function(t){clearTimeout(r),sessionStorage.ReconnectCount=0,s.trigger("open",t)},s.socket.onmessage=function(t){try{if(t.data){var e=null;e="true"==sessionStorage.enableMsgpack?msgpack.decode(new Uint8Array(t.data)):JSON.parse(t.data),"true"==sessionStorage.enableDebug&&console.log("receive >>>>>>>>"+JSON.stringify(e)),e.pack_type&&(i.contains([4,5,6,7,8,13,27,28,30],e.pack_type)||11==e.pack_type&&e.data.cards?i.delay(function(){s.trigger("pack_type"+e.pack_type,e)},2e3):s.trigger("pack_type"+e.pack_type,e),3===e.data.result&&i.delay(function(){sessionStorage.removeItem("user"),location.href=sessionStorage.loginUrl||"login.html"},200))}}catch(t){console.log(t)}},s.socket.onclose=function(){for(var t=0,e=o.server_list.length;t<e;t++){if(o.server_list[t].host==sessionStorage.SocketUrl){t==o.server_list.length-1?sessionStorage.SocketUrl=o.server_list[0].host:sessionStorage.SocketUrl=o.server_list[t+1].host;break}sessionStorage.SocketUrl=o.server_list[0].host}sessionStorage.ReconnectCount||(sessionStorage.ReconnectCount=1),+sessionStorage.ReconnectCount<=2?(sessionStorage.ReconnectCount++,location.reload()):(sessionStorage.ReconnectCount=1,sessionStorage.removeItem("user"),location.href=sessionStorage.loginUrl||"login.html")},s.socket.onerror=function(){},s}location.href=sessionStorage.loginUrl||"login.html"}),define("text",["module"],function(t){"use strict";var c,s,a,r,l,n=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],i=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,o=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,d="undefined"!=typeof location&&location.href,h=d&&location.protocol&&location.protocol.replace(/\:/,""),u=d&&location.hostname,p=d&&(location.port||void 0),m={},f=t.config&&t.config()||{};function v(t,e){return void 0===t||""===t?e:t}return c={version:"2.0.15",strip:function(t){if(t){var e=(t=t.replace(i,"")).match(o);e&&(t=e[1])}else t="";return t},jsEscape:function(t){return t.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:f.createXhr||function(){var t,e,i;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(e=0;e<3;e+=1){i=n[e];try{t=new ActiveXObject(i)}catch(t){}if(t){n=[i];break}}return t},parseName:function(t){var e,i,n,s=!1,o=t.lastIndexOf("."),a=0===t.indexOf("./")||0===t.indexOf("../");return-1!==o&&(!a||1<o)?(e=t.substring(0,o),i=t.substring(o+1)):e=t,-1!==(o=(n=i||e).indexOf("!"))&&(s="strip"===n.substring(o+1),n=n.substring(0,o),i?i=n:e=n),{moduleName:e,ext:i,strip:s}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(t,e,i,n){var s,o,a,r=c.xdRegExp.exec(t);return!r||(s=r[2],a=(o=(o=r[3]).split(":"))[1],o=o[0],(!s||s===e)&&(!o||o.toLowerCase()===i.toLowerCase())&&(!a&&!o||function(t,e,i,n){if(e===n)return!0;if(t===i){if("http"===t)return v(e,"80")===v(n,"80");if("https"===t)return v(e,"443")===v(n,"443")}return!1}(s,a,e,n)))},finishLoad:function(t,e,i,n){i=e?c.strip(i):i,f.isBuild&&(m[t]=i),n(i)},load:function(e,t,i,n){if(n&&n.isBuild&&!n.inlineText)i();else{f.isBuild=n&&n.isBuild;var s=c.parseName(e),o=s.moduleName+(s.ext?"."+s.ext:""),a=t.toUrl(o),r=f.useXhr||c.useXhr;0!==a.indexOf("empty:")?!d||r(a,h,u,p)?c.get(a,function(t){c.finishLoad(e,s.strip,t,i)},function(t){i.error&&i.error(t)}):t([o],function(t){c.finishLoad(s.moduleName+"."+s.ext,s.strip,t,i)}):i()}},write:function(t,e,i,n){if(m.hasOwnProperty(e)){var s=c.jsEscape(m[e]);i.asModule(t+"!"+e,"define(function () { return '"+s+"';});\n")}},writeFile:function(i,t,e,n,s){var o=c.parseName(t),a=o.ext?"."+o.ext:"",r=o.moduleName+a,l=e.toUrl(o.moduleName+a)+".js";c.load(r,e,function(t){var e=function(t){return n(l,t)};e.asModule=function(t,e){return n.asModule(t,l,e)},c.write(i,r,e,s)},s)}},"node"===f.env||!f.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(s=require.nodeRequire("fs"),c.get=function(t,e,i){try{var n=s.readFileSync(t,"utf8");"\ufeff"===n[0]&&(n=n.substring(1)),e(n)}catch(t){i&&i(t)}}):"xhr"===f.env||!f.env&&c.createXhr()?c.get=function(n,s,o,t){var e,a=c.createXhr();if(a.open("GET",n,!0),t)for(e in t)t.hasOwnProperty(e)&&a.setRequestHeader(e.toLowerCase(),t[e]);f.onXhr&&f.onXhr(a,n),a.onreadystatechange=function(t){var e,i;4===a.readyState&&(399<(e=a.status||0)&&e<600?((i=new Error(n+" HTTP status: "+e)).xhr=a,o&&o(i)):s(a.responseText),f.onXhrComplete&&f.onXhrComplete(a,n))},a.send(null)}:"rhino"===f.env||!f.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?c.get=function(t,e){var i,n,s=new java.io.File(t),o=java.lang.System.getProperty("line.separator"),a=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),"utf-8")),r="";try{for(i=new java.lang.StringBuffer,(n=a.readLine())&&n.length()&&65279===n.charAt(0)&&(n=n.substring(1)),null!==n&&i.append(n);null!==(n=a.readLine());)i.append(o),i.append(n);r=String(i.toString())}finally{a.close()}e(r)}:("xpconnect"===f.env||!f.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(a=Components.classes,r=Components.interfaces,Components.utils.import("resource://gre/modules/FileUtils.jsm"),l="@mozilla.org/windows-registry-key;1"in a,c.get=function(t,e){var i,n,s,o={};l&&(t=t.replace(/\//g,"\\")),s=new FileUtils.File(t);try{(i=a["@mozilla.org/network/file-input-stream;1"].createInstance(r.nsIFileInputStream)).init(s,1,0,!1),(n=a["@mozilla.org/intl/converter-input-stream;1"].createInstance(r.nsIConverterInputStream)).init(i,"utf-8",i.available(),r.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),n.readString(i.available(),o),n.close(),i.close(),e(o.value)}catch(t){throw new Error((s&&s.path||"")+": "+t)}}),c}),define("text!scripts/templates/edit_nickname_dialog.html",[],function(){return'<div class="modal-dialog">\n  <div class="modal-content">\n    <div class="modal-header">\n      <button type="button" class="close" data-dismiss="modal" aria-label="Close"></button>\n    </div>\n    <div class="modal-body">\n      <div class="form">\n        <div class="form-group">\n          <label for="settings_nickname_input" class="control-label">昵称：</label>\n          <input type="text" class="form-control" id="settings_nickname_input" placeholder="请输入昵称">\n        </div>\n        <div class="form-group btns">\n          <a class="btn-ensure btn btn-default">确定</a>\n        </div>\n      </div>\n      <div class="form-tip">错误</div>\n    </div>\n  </div>\n</div>\n'}),define("scripts/views/main/EditNicknameDialogView",["jquery","underscore","backbone","handlebars","scripts/ShowInfo","text!scripts/templates/edit_nickname_dialog.html"],function(n,t,e,i,s,o){"use strict";return e.View.extend({attributes:{id:"modal_edit_nickname",class:"modal fade",tabindex:"-1",role:"dialog"},template:i.compile(o),events:{"hidden.bs.modal":"hidden_modal","click .btn-ensure":"click_ensure"},render:function(){return this.$el.html(this.template()),n("body").append(this.$el),this},show:function(t){return this.prev_nickname=t,this.$el.modal("show"),this.$("#settings_nickname_input").val(t),this},hide:function(){return this.$el.modal("hide"),this},showtip:function(t){this.$(".form-tip").html(t).show();var e=this;setTimeout(function(){e.$(".form-tip").hide()},4e3)},changePassword:function(){var e=this.$("#settings_nickname_input"),i=this;if(e.val()){var t={session_id:sessionStorage.getItem("user")?JSON.parse(sessionStorage.getItem("user")).session_id:"",nickname:e.val()};"true"==sessionStorage.enableDebug&&console.log("receive >>>>>>>>"+JSON.stringify(t)),n.ajax({type:"POST",url:sessionStorage.api+"/webapp/change_nickname",data:t,success:function(t){i.onChangeSuccess&&i.onChangeSuccess(e.val()),i.hide(),s.modal(t.err_msg)},error:function(){i.showtip("昵称修改失败, 请重试!")}})}else i.showtip("请输入昵称。")},hidden_modal:function(){this.remove()},click_ensure:function(){this.prev_nickname!=this.$("#settings_nickname_input").val()?this.changePassword():this.hide()}})}),define("text!scripts/templates/download/down_dialog.html",[],function(){return'<div class="modal-dialog">\n  <div class="modal-content">\n    <div class="modal-header">\n      <button type="button" class="close" data-dismiss="modal" aria-label="Close"></button>\n      <h4 class="modal-title">\n        <div class="left"><span class="icon-phone"></span>手机app下载</div>\n        <div class="right">用户名：{{username}}</div>\n      </h4>\n    </div>\n    <div class="modal-body">\n      <div class="left-container">\n        <div class="title">-如何下载-</div>\n        <div class="content">\n          <div class="content-title">步骤一</div>\n          <p>请选参考安装指南，然后扫描下方二维码，下载安装皇家国际App程序</p>\n          <div class="content-title">步骤二</div>\n          <p>打开皇家国际App程序，点击"手势登录"再次扫描下方的二维码来快速启动账号，登录畅玩。</p>\n          <p class="tip">二维码有效期10分钟</p>\n          <a class="refresh-qr">二维码已过期，点此刷新</a>\n          <div class="qr-cotainer">\n            <img class="qrcode"/>\n          </div>\n          <p class="down-tip">安卓与苹果</p>\n        </div>\n      </div>\n      <div class="right-container">\n        <div class="title">-安装指南-</div>\n        <ul class="nav nav-tabs" role="tablist">\n          <li role="presentation" class="active" tab-id="down_android"><a href="#down_android" aria-controls="down_android" role="tab" data-toggle="tab">安卓</a></li>\n          <li role="presentation" tab-id="down_ios"><a href="#down_ios" aria-controls="down_ios" role="tab" data-toggle="tab">苹果</a></li>\n          <li role="presentation" tab-id="down_html5"><a href="#down_html5" aria-controls="down_html5" role="tab" data-toggle="tab">手机H5</a></li>\n        </ul>\n        <div class="tab-content">\n          <div role="tabpanel" class="tab-pane active" id="down_android">\n            <div id="carousel_download_android" class="carousel slide" data-ride="carousel">\n              \x3c!-- Indicators --\x3e\n              <ol class="carousel-indicators">\n                <li data-target="#carousel_download_android" data-slide-to="0" class="active"></li>\n                <li data-target="#carousel_download_android" data-slide-to="1"></li>\n              </ol>\n\n              \x3c!-- Wrapper for slides --\x3e\n              <div class="carousel-inner" role="listbox">\n                <div class="item active">\n                  <img src="images/theme/default/download/banner.png">\n                </div>\n                <div class="item">\n                  <img src="images/theme/default/download/banner.png">\n                </div>\n              </div>\n\n              \x3c!-- Controls --\x3e\n              <a class="left carousel-control" href="#carousel_download_android" role="button" data-slide="prev">\n                <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>\n                <span class="sr-only">Previous</span>\n              </a>\n              <a class="right carousel-control" href="#carousel_download_android" role="button" data-slide="next">\n                <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>\n                <span class="sr-only">Next</span>\n              </a>\n            </div>\n          </div>\n          <div role="tabpanel" class="tab-pane" id="down_ios">\n            <div id="carousel_download_ios" class="carousel slide" data-ride="carousel">\n              \x3c!-- Indicators --\x3e\n              <ol class="carousel-indicators">\n                <li data-target="#carousel_download_ios" data-slide-to="0" class="active"></li>\n                <li data-target="#carousel_download_ios" data-slide-to="1"></li>\n              </ol>\n\n              \x3c!-- Wrapper for slides --\x3e\n              <div class="carousel-inner" role="listbox">\n                <div class="item active">\n                  <img src="images/theme/default/download/banner.png">\n                </div>\n                <div class="item">\n                  <img src="images/theme/default/download/banner.png">\n                </div>\n              </div>\n\n              \x3c!-- Controls --\x3e\n              <a class="left carousel-control" href="#carousel_download_ios" role="button" data-slide="prev">\n                <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>\n                <span class="sr-only">Previous</span>\n              </a>\n              <a class="right carousel-control" href="#carousel_download_ios" role="button" data-slide="next">\n                <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>\n                <span class="sr-only">Next</span>\n              </a>\n            </div>\n          </div>\n          <div role="tabpanel" class="tab-pane" id="down_html5">\n            <div id="carousel_download_html5" class="carousel slide" data-ride="carousel">\n              \x3c!-- Indicators --\x3e\n              <ol class="carousel-indicators">\n                <li data-target="#carousel_download_html5" data-slide-to="0" class="active"></li>\n                <li data-target="#carousel_download_html5" data-slide-to="1"></li>\n              </ol>\n\n              \x3c!-- Wrapper for slides --\x3e\n              <div class="carousel-inner" role="listbox">\n                <div class="item active">\n                  <img src="images/theme/default/download/banner.png">\n                </div>\n                <div class="item">\n                  <img src="images/theme/default/download/banner.png">\n                </div>\n              </div>\n\n              \x3c!-- Controls --\x3e\n              <a class="left carousel-control" href="#carousel_download_html5" role="button" data-slide="prev">\n                <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>\n                <span class="sr-only">Previous</span>\n              </a>\n              <a class="right carousel-control" href="#carousel_download_html5" role="button" data-slide="next">\n                <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>\n                <span class="sr-only">Next</span>\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'}),define("scripts/views/main/download/DownloadDialogView",["jquery","underscore","backbone","handlebars","text!scripts/templates/download/down_dialog.html"],function(i,t,e,n,s){"use strict";return e.View.extend({attributes:{id:"modal_download",class:"modal fade",tabindex:"-1",role:"dialog"},template:n.compile(s),events:{"hidden.bs.modal":"hidden_modal",'shown.bs.tab a[data-toggle="tab"]':"onshow_tab","click .refresh-qr, .qrcode":"click_refresh_qr"},render:function(){var t=JSON.parse(sessionStorage.user);return this.$el.html(this.template(t)),i("body").append(this.$el),this.refresh(),this.$(".carousel").carousel({interval:4e3}),this},refreshTip:function(){var t=this,e=10,i=t.$(".content .tip");clearInterval(this.timeThread),i.show(),this.timeThread=setInterval(function(){0<--e?i.html("二维码有效期"+e+"分钟"):(t.$(".refresh-qr").show(),i.hide(),clearInterval(this.timeThread))},6e4),i.html("二维码有效期"+e+"分钟")},show:function(){return this.$el.modal("show"),this},click_refresh_qr:function(){this.refresh()},refresh:function(){var e=this,t={session_id:sessionStorage.getItem("user")?JSON.parse(sessionStorage.getItem("user")).session_id:"",company_type:1};"true"==sessionStorage.enableDebug&&console.log("send >>>>>>>>"+JSON.stringify(t)),i.ajax({type:"POST",timeout:5e3,url:sessionStorage.api+"webapp/qr_code",data:t,success:function(t){e.$(".refresh-qr").hide(),e.refreshTip(),e.$(".qrcode").attr("src","data:image/png;base64, "+t.data.qr_code)},error:function(){}})},hide:function(){return this.$el.modal("hide"),clearInterval(this.timeThread),this},hidden_modal:function(){this.remove()}})}),define("text!scripts/templates/left/index.html",[],function(){return'<div class="logo"></div>\n<div class="user-info">\n  <div class="item user-name"><i class="icon-user"></i>&nbsp;<div class="val">{{nickname}}</div>&nbsp;&nbsp;<a\n    class="icon-edit"></a></div>\n  <div class="item user-money"><i class="icon-money"></i>&nbsp;<div class="val">{{balance}}</div>\n  </div>\n  \x3c!--<div class="up-down-money">--\x3e\n    \x3c!--<a class="item btn-chongzhi">快速充值</a>--\x3e\n    \x3c!--<a class="item btn-tikuang">快速提款</a>--\x3e\n  \x3c!--</div>--\x3e\n</div>\n<div class="nav-btns">\n  <a class="item nav-bjl" data-type="bjl" tab-type="1" game-id="1" href="#nav/nav_bjl1">极速点击区</a>\n  <a class="item nav-bjl" data-type="bjl" tab-type="1" game-id="3" href="#nav/nav_bjl2">现场点击区</a>\n  <a class="item nav-lh" data-type="lh" tab-type="1" game-id="2" href="#nav/nav_lhzb">龙虎区</a>\n  <a class="item nav-niuniu" data-type="niuniu" tab-type="1" game-id="4" href="#nav/nav_niuniu">牛牛区</a>\n  <a class="item nav-bjl" data-type="weitou" tab-type="1" game-id="5" href="#nav/nav_bjl3">勐拉微投区</a>\n  <a class="item nav-bjl" data-type="bjl" tab-type="1" game-id="6" href="#nav/nav_mbbjl">勐波百家乐微投区</a>\n  <a class="item nav-lh" data-type="lh" tab-type="1" game-id="7" href="#nav/nav_mblh">勐波龙虎微投区</a>\n  <a class="item nav-multiple" data-type="multiple" href="#multiple">多台游戏</a>\n  <a class="item nav-lh" data-type="lh" tab-type="2" game-id="2" href="#nav/nav_phone_lhzb">龙虎区</a>\n  <a class="item nav-bjl" data-type="bjl" tab-type="2" game-id="3" href="#nav/nav_phone_bjl2">百家乐一区</a>\n  <a class="item nav-bjl" data-type="bjl" tab-type="2" game-id="8" href="#nav/nav_phone_bjl3">百家乐二区</a>\n  <a class="item nav-bjl" data-type="bjl" tab-type="2" game-id="5" href="#nav/nav_phone_bjl1">勐拉微投区</a>\n  <a class="item nav-bjl" data-type="bjl" tab-type="2" game-id="6" href="#nav/nav_phone_mbbjl">勐波百家乐微投区</a>\n  <a class="item nav-lh" data-type="lh" tab-type="2" game-id="7" href="#nav/nav_phone_mblh">勐波龙虎微投区</a>\n</div>\n<div class="bottom">\n  <a class="app-down" title="扫描二维码下载APP"></a>\n  <div class="user-online">在线人数：\n    <div class="val">0</div>\n  </div>\n</div>\n'}),define("scripts/views/main/left/LeftView",["jquery","underscore","backbone","handlebars","scripts/ShowInfo","scripts/models/home/HomeModel","scripts/streams/SocketStream","scripts/views/main/EditNicknameDialogView","scripts/views/main/download/DownloadDialogView","text!scripts/templates/left/index.html"],function(o,a,t,e,n,i,s,r,l,c){"use strict";return t.View.extend({attributes:{id:"left_nav_container"},template:e.compile(c),model:new i,events:{"click .user-info .icon-edit":"click_edit_nickname","click .btn-chongzhi":"click_up_money","click .btn-tikuang":"click_down_money"},initialize:function(t){this.listenTo(s,"pack_type29",this.refresh_info),this.listenTo(this,"change_balance",this.refresh_balance),this.opts=t},render:function(){var t=this,e=JSON.parse(sessionStorage.user);this.$el.html(this.template(e)),this.$nick_name=this.$(".user-name .val"),this.$user_money=this.$(".user-money .val"),this.$user_total_online=this.$(".user-online .val");var n=JSON.parse(sessionStorage.getItem("user")).user_game_limit,s=JSON.parse(sessionStorage.getItem("user")).game_id_limit||[],i=this.$(".nav-btns .item");return o.each(i,function(t,e){var i=o(e);i.css("display",n[i.attr("tab-type")]&&a.contains(s,i.attr("game-id"))?"flex":"none")}),this.$(".nav-btns .nav-multiple").css("display","flex"),"#multiple"==window.location.hash?this.$(".nav-btns .item.nav-multiple").addClass("select"):this.$('.nav-btns .item[tab-type="'+(n[1]?1:2)+'"][game-id="'+this.opts.game_id+'"]').addClass("select"),this.refresh_thread=setInterval(function(){t.refresh_data()},5e3),this.refresh_data(),this},refresh_data:function(){s.trigger("send",{pack_type:29,data:{session_id:sessionStorage.getItem("user")?JSON.parse(sessionStorage.getItem("user")).session_id:""}})},refresh_info:function(t){this.model.set(t.data),this.$nick_name.html(t.data.nickname),this.$user_money.html(t.data.balance),this.$user_total_online.html(t.data.total_online)},refresh_balance:function(t){var e=JSON.parse(sessionStorage.user);e.balance=t.balance,sessionStorage.user=JSON.stringify(e),this.$user_money.html(t.balance)},click_up_money:function(){if("try"!=JSON.parse(sessionStorage.user).login_type){window.open("updown-money.html","upddownmoney","width="+screen.width+",height="+.88*screen.height+",location=no,directories=no,menubar=no,toolbar=no,scrollbars=no,status=yes,resizable=yes,left=0,top=0")}else n.modal("该功能不对试玩用户开放！")},click_down_money:function(){if("try"!=JSON.parse(sessionStorage.user).login_type){window.open("updown-money.html#down_money","upddownmoney","width="+screen.width+",height="+.88*screen.height+",location=no,directories=no,menubar=no,toolbar=no,scrollbars=no,status=yes,resizable=yes,left=0,top=0")}else n.modal("该功能不对试玩用户开放！")},click_edit_nickname:function(t){t.stopPropagation();var e=this;if("try"!=JSON.parse(sessionStorage.user).login_type){var i=new r;i.onChangeSuccess=function(t){e.$(".user-name .val").html(t),e.model.set("nickname",t)},i.render().show(this.model.get("nickname"))}else n.modal("试玩用户不能修改昵称！")},click_download:function(t){t.stopPropagation(),(new l).render().show()},exit:function(){return clearInterval(this.refresh_thread),this}})}),define("scripts/models/nav/NavRoomModel",["jquery","underscore","backbone"],function(t,e,i){return i.Model.extend({defaults:{table_id:"",table_name:"",game_type:"",game_top:"",game_period:"",up_limit:"",low_limit:""}})}),define("scripts/collections/nav/NavRoomsCollections",["jquery","underscore","backbone","scripts/models/nav/NavRoomModel"],function(t,e,i,n){return i.Collection.extend({model:n,initialize:function(t){}})}),function(t){"use strict";function h(t,e){var i=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(i>>16)<<16|65535&i}function r(t,e,i,n,s,o){return h((a=h(h(e,t),h(n,o)))<<(r=s)|a>>>32-r,i);var a,r}function u(t,e,i,n,s,o,a){return r(e&i|~e&n,t,e,s,o,a)}function p(t,e,i,n,s,o,a){return r(e&n|i&~n,t,e,s,o,a)}function m(t,e,i,n,s,o,a){return r(e^i^n,t,e,s,o,a)}function f(t,e,i,n,s,o,a){return r(i^(e|~n),t,e,s,o,a)}function l(t,e){var i,n,s,o,a;t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;var r=1732584193,l=-271733879,c=-1732584194,d=271733878;for(i=0;i<t.length;i+=16)l=f(l=f(l=f(l=f(l=m(l=m(l=m(l=m(l=p(l=p(l=p(l=p(l=u(l=u(l=u(l=u(s=l,c=u(o=c,d=u(a=d,r=u(n=r,l,c,d,t[i],7,-680876936),l,c,t[i+1],12,-389564586),r,l,t[i+2],17,606105819),d,r,t[i+3],22,-1044525330),c=u(c,d=u(d,r=u(r,l,c,d,t[i+4],7,-176418897),l,c,t[i+5],12,1200080426),r,l,t[i+6],17,-1473231341),d,r,t[i+7],22,-45705983),c=u(c,d=u(d,r=u(r,l,c,d,t[i+8],7,1770035416),l,c,t[i+9],12,-1958414417),r,l,t[i+10],17,-42063),d,r,t[i+11],22,-1990404162),c=u(c,d=u(d,r=u(r,l,c,d,t[i+12],7,1804603682),l,c,t[i+13],12,-40341101),r,l,t[i+14],17,-1502002290),d,r,t[i+15],22,1236535329),c=p(c,d=p(d,r=p(r,l,c,d,t[i+1],5,-165796510),l,c,t[i+6],9,-1069501632),r,l,t[i+11],14,643717713),d,r,t[i],20,-373897302),c=p(c,d=p(d,r=p(r,l,c,d,t[i+5],5,-701558691),l,c,t[i+10],9,38016083),r,l,t[i+15],14,-660478335),d,r,t[i+4],20,-405537848),c=p(c,d=p(d,r=p(r,l,c,d,t[i+9],5,568446438),l,c,t[i+14],9,-1019803690),r,l,t[i+3],14,-187363961),d,r,t[i+8],20,1163531501),c=p(c,d=p(d,r=p(r,l,c,d,t[i+13],5,-1444681467),l,c,t[i+2],9,-51403784),r,l,t[i+7],14,1735328473),d,r,t[i+12],20,-1926607734),c=m(c,d=m(d,r=m(r,l,c,d,t[i+5],4,-378558),l,c,t[i+8],11,-2022574463),r,l,t[i+11],16,1839030562),d,r,t[i+14],23,-35309556),c=m(c,d=m(d,r=m(r,l,c,d,t[i+1],4,-1530992060),l,c,t[i+4],11,1272893353),r,l,t[i+7],16,-155497632),d,r,t[i+10],23,-1094730640),c=m(c,d=m(d,r=m(r,l,c,d,t[i+13],4,681279174),l,c,t[i],11,-358537222),r,l,t[i+3],16,-722521979),d,r,t[i+6],23,76029189),c=m(c,d=m(d,r=m(r,l,c,d,t[i+9],4,-640364487),l,c,t[i+12],11,-421815835),r,l,t[i+15],16,530742520),d,r,t[i+2],23,-995338651),c=f(c,d=f(d,r=f(r,l,c,d,t[i],6,-198630844),l,c,t[i+7],10,1126891415),r,l,t[i+14],15,-1416354905),d,r,t[i+5],21,-57434055),c=f(c,d=f(d,r=f(r,l,c,d,t[i+12],6,1700485571),l,c,t[i+3],10,-1894986606),r,l,t[i+10],15,-1051523),d,r,t[i+1],21,-2054922799),c=f(c,d=f(d,r=f(r,l,c,d,t[i+8],6,1873313359),l,c,t[i+15],10,-30611744),r,l,t[i+6],15,-1560198380),d,r,t[i+13],21,1309151649),c=f(c,d=f(d,r=f(r,l,c,d,t[i+4],6,-145523070),l,c,t[i+11],10,-1120210379),r,l,t[i+2],15,718787259),d,r,t[i+9],21,-343485551),r=h(r,n),l=h(l,s),c=h(c,o),d=h(d,a);return[r,l,c,d]}function c(t){var e,i="",n=32*t.length;for(e=0;e<n;e+=8)i+=String.fromCharCode(t[e>>5]>>>e%32&255);return i}function d(t){var e,i=[];for(i[(t.length>>2)-1]=void 0,e=0;e<i.length;e+=1)i[e]=0;var n=8*t.length;for(e=0;e<n;e+=8)i[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return i}function n(t){var e,i,n="0123456789abcdef",s="";for(i=0;i<t.length;i+=1)e=t.charCodeAt(i),s+=n.charAt(e>>>4&15)+n.charAt(15&e);return s}function i(t){return unescape(encodeURIComponent(t))}function s(t){return c(l(d(e=i(t)),8*e.length));var e}function o(t,e){return function(t,e){var i,n,s=d(t),o=[],a=[];for(o[15]=a[15]=void 0,16<s.length&&(s=l(s,8*t.length)),i=0;i<16;i+=1)o[i]=909522486^s[i],a[i]=1549556828^s[i];return n=l(o.concat(d(e)),512+8*e.length),c(l(a.concat(n),640))}(i(t),i(e))}function e(t,e,i){return e?i?o(e,t):n(o(e,t)):i?s(t):n(s(t))}"function"==typeof define&&define.amd?define("md5",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:t.md5=e}(this),define("text!scripts/templates/change_user_password_dialog.html",[],function(){return'<div class="modal-dialog">\n  <div class="modal-content">\n    <div class="modal-header">\n      <button type="button" class="close" data-dismiss="modal" aria-label="Close"></button>\n      \x3c!--<h4 class="modal-title"><span class="glyphicon glyphicon-cog"></span>密码修改</h4>--\x3e\n    </div>\n    <div class="modal-body">\n      <div class="form">\n        <div class="form-group">\n          <label for="settings_password" class="control-label">原密码：</label>\n          <input type="password" class="form-control" id="settings_password" placeholder="请输入原密码">\n        </div>\n        <div class="form-group">\n          <label for="settings_new_password" class="control-label">新密码：</label>\n          <input type="password" class="form-control" id="settings_new_password" placeholder="请输入新密码">\n        </div>\n        <div class="form-group">\n          <label for="settings_new_confirm_password" class="control-label">确认密码：</label>\n          <input type="password" class="form-control" id="settings_new_confirm_password" placeholder="请输入确认密码">\n        </div>\n        <div class="form-group btns">\n          <a class="btn-cancel btn btn-default">取 消</a>\n          <a class="btn-ensure btn btn-default">确 定</a>\n        </div>\n      </div>\n      <div class="form-tip">密码错误</div>\n    </div>\n  </div>\n</div>\n'}),define("scripts/views/main/ChangeUserPasswordDialogView",["jquery","underscore","backbone","handlebars","md5","scripts/ShowInfo","text!scripts/templates/change_user_password_dialog.html"],function(e,t,i,n,a,r,s){"use strict";return i.View.extend({attributes:{id:"modal_modify_user_password",class:"modal fade",tabindex:"-1",role:"dialog"},template:n.compile(s),events:{"hidden.bs.modal":"hidden_modal","click .btn-ensure":"click_ensure","click .btn-cancel":"click_cancel"},render:function(){return this.$el.html(this.template()),e("body").append(this.$el),this},show:function(){return this.$el.modal("show"),this},hide:function(){return this.$el.modal("hide"),this},showtip:function(t){this.$(".form-tip").html(t).show();var e=this;setTimeout(function(){e.$(".form-tip").hide()},4e3)},changePassword:function(){var i=this.$("#settings_password"),n=this.$("#settings_new_password"),s=this.$("#settings_new_confirm_password"),o=this;if(i.val()&&n.val()&&s.val())if(s.val()==n.val()){var t={session_id:sessionStorage.getItem("user")?JSON.parse(sessionStorage.getItem("user")).session_id:"",username:sessionStorage.user?JSON.parse(sessionStorage.user).username:"",password:a(a(i.val())),new_password:a(a(n.val()))};"true"==sessionStorage.enableDebug&&console.log("receive >>>>>>>>"+JSON.stringify(t)),e.ajax({type:"POST",url:sessionStorage.api+"/webapp/change_password",data:t,success:function(t){var e=JSON.parse(sessionStorage.user);e.password_reset=1,sessionStorage.user=JSON.stringify(e),i.val(""),n.val(""),s.val(""),o.click_cancel(),r.modal(t.err_msg)},error:function(){o.showtip("密码修改失败, 请重试!")}})}else o.showtip("新密码确认密码不一致。");else o.showtip("请输入密码。")},hidden_modal:function(){this.remove()},click_ensure:function(){this.changePassword()},click_cancel:function(){this.hide()}})}),define("text!scripts/templates/winner/winner_list_dialog.html",[],function(){return'<div class="modal-dialog">\n  <div class="modal-content">\n    <div class="modal-header">\n      <button type="button" class="close" data-dismiss="modal" aria-label="Close"></button>\n      \x3c!--<h4 class="modal-title"><span class="glyphicon glyphicon-cog"></span>密码修改</h4>--\x3e\n    </div>\n    <div class="modal-body">\n      <div class="top">\n        <ul class="nav nav-tabs" role="tablist" id="winner_list_tab">\n          <li role="presentation" tab-id="winner_tab"><a href="#winner_tab" aria-controls="winner_tab" role="tab"\n                                                         data-toggle="tab">今日盈利榜</a></li>\n        </ul>\n      </div>\n      <div class="content">\n        <div class="tab-content">\n          <div role="tabpanel" class="tab-pane" id="winner_tab">\n            <div class="pane-warpper"></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'}),define("text!scripts/templates/winner/list.html",[],function(){return'<div class="table-header">\n  <div class="index">排名</div>\n  <div class="nickname">昵称</div>\n  <div class="profit">盈利</div>\n</div>\n<div class="table-body">\n  {{#winner_list}}\n  <div class="table-row">\n    <div class="index">{{addOne @index}}</div>\n    <div class="nickname">{{nickname}}</div>\n    <div class="profit">{{profit}}</div>\n  </div>\n  {{/winner_list}}\n</div>\n'}),define("scripts/views/main/winner/WinnerListDialogView",["jquery","underscore","backbone","handlebars","scripts/ShowInfo","text!scripts/templates/winner/winner_list_dialog.html","text!scripts/templates/winner/list.html"],function(i,t,e,n,s,o,a){"use strict";return e.View.extend({attributes:{id:"modal_winner_list",class:"modal fade",tabindex:"-1",role:"dialog"},template:n.compile(o),listTemplate:n.compile(a),events:{"hidden.bs.modal":"hidden_modal",'shown.bs.tab a[data-toggle="tab"]':"onshow_tab"},render:function(){return this.$el.html(this.template()),i("body").append(this.$el),this},show:function(){return this.$el.modal("show"),this.$("#winner_list_tab a:first").tab("show"),this},hide:function(){return this.$el.modal("hide"),this},refresh:t.debounce(function(){var e=this,t={session_id:sessionStorage.getItem("user")?JSON.parse(sessionStorage.getItem("user")).session_id:""};"true"==sessionStorage.enableDebug&&console.log("send >>>>>>>>"+JSON.stringify(t)),e.$("#winner_tab .pane-warpper").html("排行查询中，请稍等..."),i.ajax({type:"POST",timeout:4e3,url:sessionStorage.api+"/webapp/winner_list",data:t,success:function(t){"winner_tab"==e.currentTab&&e.$("#winner_tab .pane-warpper").html(e.listTemplate(t.data))},error:function(){"winner_tab"==e.currentTab&&e.$("#winner_tab .pane-warpper").html("总输赢排行查询失败, 请重试!")}})},300),hidden_modal:function(){this.remove()},onshow_tab:function(t){var e=i(t.target);this.currentTab=e.attr("aria-controls"),this.refresh()}})}),define("text!scripts/templates/nav/room.html",[],function(){return'<div class="content_main_item_row1">\n  <div class="left">\n    <div class="time">\n      <div class="count">{{rest_time}}</div>\n    </div>\n    <div><h3>{{table_name}}</h3></div>\n  </div>\n  <div><h5>限红 {{low_limit}}~{{up_limit}}</h5></div>\n  <div><h5>桌上筹码：{{total_amount}}</h5></div>\n  <div>总人数：{{room_online}}</div>\n</div>\n<div class="content_main_item_row2">\n  <div class="winner-container">\n    {{#generate_dl winners 70 game_type}}{{/generate_dl}}\n  </div>\n</div>\n<div class="content_main_item_row3">\n  {{#if game_type}}\n  {{#eq game_type 90001}}\n  <div><div class="title">庄：</div><div class="val">{{total_zhuang}}</div></div>\n  <div><div class="title">闲：</div><div class="val">{{total_xian}}</div></div>\n  {{else}}\n  <div><div class="title">龙：</div><div class="val">{{total_zhuang}}</div></div>\n  <div><div class="title">虎：</div><div class="val">{{total_xian}}</div></div>\n  {{/eq}}\n  {{/if}}\n  <div><div class="title">和：</div><div class="val">{{total_he}}</div></div>\n  <div class="start">开始游戏</div>\n</div>\n'}),define("scripts/views/main/nav/RoomView",["jquery","underscore","backbone","bootstrap","handlebars","text!scripts/templates/nav/room.html","scripts/streams/SocketStream"],function(t,e,i,n,s,o,a){"use strict";return i.View.extend({attributes:{class:"item"},template:s.compile(o),events:{click:"enterRoom","click .content_main_item_row2_table_btnmove .glyphicon-chevron-left":"clickbtnprev","click .content_main_item_row2_table_btnmove .glyphicon-chevron-right":"clickbtnnext"},initialize:function(t){this.opts=t.opts,this.listenTo(a,"pack_type13",this.refreshroom),this.listenTo(this.model,"remove",this.clear),this.listenTo(this.model,"change",this.render)},render:function(){this.$el.addClass("animated fadeIn"),this.$el.html(this.template(this.model.toJSON())),this.$el.data("table_id",this.model.get("table_id")),this.$el.data("recommend",this.model.get("recommend")),this.winnerstable=this.$("table.dl"),this.winnerstable_container=this.winnerstable.closest(".winner-container");var t=this;return e.delay(function(){t.$winnerstable_td_width=t.winnerstable.width()/70,t.winnerstable_container.width()<(t.winnerstable.data("last-col")+2)*t.$winnerstable_td_width&&t.winnerstable.css({left:t.winnerstable_container.width()-(t.winnerstable.data("last-col")+2)*t.$winnerstable_td_width+"px"})},0),this.starttime(),this},clickbtnnext:function(t){t.stopPropagation(),this.winnerstable.css({left:this.winnerstable.position().left-16+"px"})},clickbtnprev:function(t){t.stopPropagation(),this.winnerstable.position().left<0&&this.winnerstable.css({left:this.winnerstable.position().left+16+"px"})},starttime:function(){var t=this,e=this.model.get("rest_time"),i=this.$(".content_main_item_row2 .time");if(0<e){var n=this.$(".content_main_item_row1 .time .count")[0];this.thread&&clearInterval(this.thread),i.addClass("start"),this.thread=setInterval(function(){0===e&&(clearInterval(t.thread),i.removeClass("start")),n.innerHTML=e,e--},1e3)}else i.removeClass("start")},refreshroom:function(t){this.model.get("game_type")==t.data.game_type&&this.model.get("table_id")==t.data.table_id&&this.model.set(t.data)},enterRoom:function(){window.workspace.navigate(this.opts.navconfig.url+this.model.get("table_id"),{trigger:!0})},clear:function(){this.remove()}})}),define("text!scripts/templates/nav/niuniuroom.html",[],function(){return'<div class="content_main_item_row1">\n  <div class="left">\n    <div class="time">\n      <div class="count">{{rest_time}}</div>\n    </div>\n    <div><h3>{{table_name}}</h3></div>\n  </div>\n  <div><h5>限红 {{low_limit}}~{{up_limit}}</h5></div>\n  <div><h5>桌上筹码：{{total_amount}}</h5></div>\n  <div>总人数：{{room_online}}</div>\n</div>\n<div class="content_main_item_row2">\n  <div class="winner-container">\n    <div class="header">\n      <div class="zhuang">庄</div>\n      <div class="xian">闲1</div>\n      <div class="xian">闲2</div>\n      <div class="xian">闲3</div>\n    </div>\n    <div class="content">\n      {{#generate_niuniu winners 6}}{{/generate_niuniu}}\n    </div>\n  </div>\n</div>\n<div class="content_main_item_row3">\n  <div>闲1：{{total_xian1}}</div>\n  <div>闲2：{{total_xian2}}</div>\n  <div>闲3：{{total_xian3}}</div>\n  <div class="start">开始游戏</div>\n</div>\n'}),define("scripts/views/main/nav/NiuniuRoomView",["jquery","underscore","backbone","bootstrap","handlebars","text!scripts/templates/nav/niuniuroom.html","scripts/streams/SocketStream"],function(t,e,i,n,s,o,a){"use strict";return i.View.extend({attributes:{class:"item niuniu"},template:s.compile(o),events:{click:"enterRoom"},initialize:function(t){this.opts=t.opts,this.listenTo(a,"pack_type13",this.refreshroom),this.listenTo(this.model,"remove",this.clear),this.listenTo(this.model,"change",this.render)},render:function(){return this.$el.addClass("animated fadeIn"),this.$el.html(this.template(this.model.toJSON())),this.starttime(),this},starttime:function(){var t=this,e=this.model.get("rest_time"),i=this.$(".content_main_item_row2 .time");if(0<e){var n=this.$(".content_main_item_row1 .time .count")[0];this.thread&&clearInterval(this.thread),i.addClass("start"),this.thread=setInterval(function(){0===e&&(clearInterval(t.thread),i.removeClass("start")),n.innerHTML=e,e--},1e3)}else i.removeClass("start")},refreshroom:function(t){this.model.get("game_type")==t.data.game_type&&this.model.get("table_id")==t.data.table_id&&this.model.set(t.data)},enterRoom:function(){window.workspace.navigate(this.opts.navconfig.url+this.model.get("table_id"),{trigger:!0})},clear:function(){this.remove()}})}),define("text!scripts/templates/system_setting_dialog.html",[],function(){return'<div class="modal-dialog">\n  <div class="modal-content">\n    <div class="modal-header">\n      <button type="button" class="close" data-dismiss="modal" aria-label="Close"></button>\n      \x3c!--<h4 class="modal-title"><span class="glyphicon glyphicon-cog"></span>密码修改</h4>--\x3e\n    </div>\n    <div class="modal-body">\n      <div class="form">\n        <div class="form-group">\n          <label class="control-label">声音设置</label>\n          <div class="btn-item">\n            <a class="btn-volume btn btn-switch"></a>\n          </div>\n        </div>\n        <div class="form-group">\n          <label class="control-label">背景声音</label>\n          <div class="btn-item bg-audio-list">\n            <div class="title">\n              <div class="val">背景音乐1</div>&nbsp;<i class="icon-arrow-down"></i></div>\n            <div class="list">\n              <div class="item" data-value="game_bg1.mp3">背景音乐1</div>\n              <div class="item" data-value="game_bg2.mp3">背景音乐2</div>\n            </div>\n          </div>\n        </div>\n        <div class="form-group">\n          <label class="control-label">游戏视频</label>\n          <div class="btn-item">\n            <a class="btn-video btn btn-switch"></a>\n          </div>\n        </div>\n        \x3c!--<div class="form-group">--\x3e\n          \x3c!--<label class="control-label">聊天功能</label>--\x3e\n          \x3c!--<div class="btn-item">--\x3e\n            \x3c!--<a class="btn-chat btn btn-switch"></a>--\x3e\n          \x3c!--</div>--\x3e\n        \x3c!--</div>--\x3e\n      </div>\n    </div>\n  </div>\n</div>\n'}),define("scripts/views/main/SystemSettingDialogView",["jquery","underscore","backbone","handlebars","scripts/ShowInfo","scripts/views/main/AudioPlayer","text!scripts/templates/system_setting_dialog.html"],function(o,t,e,i,n,s,a){"use strict";return e.View.extend({attributes:{id:"modal_system_setting",class:"modal fade",tabindex:"-1",role:"dialog"},template:i.compile(a),events:{"hidden.bs.modal":"hidden_modal","click .btn-switch":"click_switch","click .bg-audio-list":"click_bg_list","click .bg-audio-list .list .item":"click_select_bg"},render:function(){this.$el.html(this.template()),o("body").append(this.$el);var t=SystemStorage.getValue("enable_volume"),e=SystemStorage.getValue("current_bg_audio"),i=SystemStorage.getValue("enable_chat_barrage"),n=SystemStorage.getValue("enable_video");return t&&"true"!=t||this.$(".btn-volume").addClass("on"),n&&"true"!=n||this.$(".btn-video").addClass("on"),i&&"true"!=i||this.$(".btn-chat").addClass("on"),e?this.$('.bg-audio-list .list .item[data-value="'+e+'"]').trigger("click"):this.$(".bg-audio-list .list .item:eq(0)").trigger("click"),this},show:function(){return this.$el.modal("show"),this},hide:function(){return this.$el.modal("hide"),this},hidden_modal:function(){this.onFinish&&this.onFinish(),this.remove()},click_switch:function(t){var e=o(t.currentTarget);if(t.stopPropagation(),e.hasClass("btn-volume")){var i=SystemStorage.getValue("enable_volume");i&&"true"!=i?SystemStorage.setValue("enable_volume","true"):SystemStorage.setValue("enable_volume","false")}else if(e.hasClass("btn-video")){var n=SystemStorage.getValue("enable_video");n&&"true"!=n?SystemStorage.setValue("enable_video","true"):SystemStorage.setValue("enable_video","false")}else if(e.hasClass("btn-chat")){var s=SystemStorage.getValue("enable_chat_barrage");s&&"true"!=s?SystemStorage.setValue("enable_chat_barrage","true"):SystemStorage.setValue("enable_chat_barrage","false")}e.toggleClass("on")},click_bg_list:function(t){t.stopPropagation(),this.$(".bg-audio-list .list").fadeToggle()},click_select_bg:function(t){t.stopPropagation();var e=o(t.currentTarget);SystemStorage.setValue("current_bg_audio",e.data("value")),this.$(".bg-audio-list .list .item.select").removeClass("select"),this.$(".bg-audio-list .title .val").text(e.html()),e.addClass("select"),this.$(".bg-audio-list .list").fadeOut(),document.querySelector("#bg_audio").paused||s.play_bg_audio()}})}),define("text!scripts/templates/history/history_dialog.html",[],function(){return'<div class="modal-dialog">\n  <div class="modal-content">\n    <div class="modal-header">\n      <button type="button" class="close" data-dismiss="modal" aria-label="Close"></button>\n      \x3c!--<h4 class="modal-title"><span class="glyphicon glyphicon-cog"></span>密码修改</h4>--\x3e\n    </div>\n    <div class="modal-body">\n      <div class="top">\n        <ul class="nav nav-tabs" role="tablist" id="historytab">\n          <li role="presentation" tab-id="history_xiazhu"><a href="#history_xiazhu" aria-controls="history_xiazhu" role="tab" data-toggle="tab">下注记录</a></li>\n          <li role="presentation" tab-id="history_zijing"><a href="#history_zijing" aria-controls="history_zijing" role="tab" data-toggle="tab">资金记录</a></li>\n          <li role="presentation" tab-id="history_reward"><a href="#history_reward" aria-controls="history_reward" role="tab" data-toggle="tab">打赏记录</a></li>\n        </ul>\n        <div class="btns-filter btn-group" role="group">\n          <button type="button" class="btn btn-today select" data-type="1">今日记录</button>\n          <button type="button" class="btn btn-yesterday" data-type="2">昨日记录</button>\n          <button type="button" class="btn btn-week" data-type="3">本周记录</button>\n        </div>\n      </div>\n      <div class="content">\n        <div class="tab-content">\n          <div role="tabpanel" class="tab-pane" id="history_xiazhu">\n            <div class="pane-warpper"></div>\n          </div>\n          <div role="tabpanel" class="tab-pane" id="history_zijing">\n            <div class="pane-warpper"></div>\n          </div>\n          <div role="tabpanel" class="tab-pane" id="history_reward">\n            <div class="pane-warpper"></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'}),define("text!scripts/templates/history/xiazhu_list.html",[],function(){return'<div class="table-header">\n  <div class="index">注单号</div>\n  <div class="type">类别</div>\n  <div class="result">结果</div>\n  <div class="play">玩法</div>\n  <div class="time">下注时间</div>\n  <div class="amount">交易前余额</div>\n  <div class="amount">投注金额</div>\n  <div class="amount">输赢</div>\n  {{#equal user_level \'1\'}}\n  <div class="amount">洗码量</div>\n  {{/equal}}\n</div>\n<div class="table-body">\n  {{#bet_list}}\n  <div class="table-row">\n    <div class="index">{{record_id}}</div>\n    <div class="type">{{table_name}} ({{period_info}})</div>\n    <div class="result">{{game_result}}</div>\n    <div class="play">{{bet_record}}</div>\n    <div class="time">{{bet_time}}</div>\n    <div class="amount">{{balance_before}}</div>\n    <div class="amount">{{bet_amount}}</div>\n    <div class="amount">{{profit}}</div>\n    {{#equal ../user_level \'1\'}}\n    <div class="amount">{{xima}}</div>\n    {{/equal}}\n  </div>\n  {{/bet_list}}\n</div>\n<div class="bottom">\n  <div>共 {{total}} 条</div>\n  <div>第 {{page_index}} 页</div>\n  {{#if page_index}}{{#gt page_index 1}}\n  <a class="page-up">上一页</a>\n  {{/gt}}{{/if}}\n  {{#if total_page}}{{#lt page_index total_page}}\n  <a class="page-down">下一页</a>\n  {{/lt}}{{/if}}\n  <div>总投注：{{total_amount}}</div>\n  <div>总输赢：{{total_profit}}</div>\n  {{#equal user_level \'1\'}}\n  <div>总洗码：{{total_xima}}</div>\n  {{/equal}}\n</div>\n'}),define("text!scripts/templates/history/zijing_list.html",[],function(){return'<div class="table-header">\n  <div class="index">单号</div>\n  <div class="type">类别</div>\n  <div class="time">操作时间</div>\n  <div class="amount">交易前余额</div>\n  <div class="amount">交易后余额</div>\n  <div class="amount">交易金额</div>\n</div>\n<div class="table-body">\n  {{#jiaoyi_list}}\n  <div class="table-row">\n    <div class="index">{{id}}</div>\n    <div class="type">{{opt_type}}</div>\n    <div class="time">{{opt_time}}</div>\n    <div class="amount">{{balance_before}}</div>\n    <div class="amount">{{balance_after}}</div>\n    <div class="amount">{{amount}}</div>\n  </div>\n  {{/jiaoyi_list}}\n</div>\n<div class="bottom">\n  <div>共 {{total}} 条</div>\n  <div>第 {{page_index}} 页</div>\n  {{#if page_index}}{{#gt page_index 1}}\n  <a class="page-up">上一页</a>\n  {{/gt}}{{/if}}\n  {{#if total_page}}{{#lt page_index total_page}}\n  <a class="page-down">下一页</a>\n  {{/lt}}{{/if}}\n  <div>总计：{{total_amount}}</div>\n</div>\n'}),define("text!scripts/templates/history/reward_list.html",[],function(){return'<div class="table-header">\n  <div class="type">台桌名称</div>\n  <div class="time">打赏时间</div>\n  <div class="amount">礼物名称</div>\n  <div class="amount">礼物价格</div>\n</div>\n<div class="table-body">\n  {{#gift_list}}\n  <div class="table-row">\n    <div class="type">{{table_name}}</div>\n    <div class="time">{{opt_time}}</div>\n    <div class="amount">{{gift_name}}</div>\n    <div class="amount">{{gift_price}}</div>\n  </div>\n  {{/gift_list}}\n</div>\n<div class="bottom">\n  <div>共 {{total}} 条</div>\n  <div>第 {{page_index}} 页</div>\n  {{#if page_index}}{{#gt page_index 1}}\n  <a class="page-up">上一页</a>\n  {{/gt}}{{/if}}\n  {{#if total_page}}{{#lt page_index total_page}}\n  <a class="page-down">下一页</a>\n  {{/lt}}{{/if}}\n  <div>总计：{{total_amount}}</div>\n</div>\n'}),define("scripts/views/main/history/HistoryDialogView",["jquery","underscore","backbone","handlebars","scripts/ShowInfo","text!scripts/templates/history/history_dialog.html","text!scripts/templates/history/xiazhu_list.html","text!scripts/templates/history/zijing_list.html","text!scripts/templates/history/reward_list.html"],function(o,t,e,i,n,s,a,r,l){"use strict";return e.View.extend({attributes:{id:"modal_select_history",class:"modal fade",tabindex:"-1",role:"dialog"},template:i.compile(s),xiazhuListTemplate:i.compile(a),jijingTemplate:i.compile(r),rewardTemplate:i.compile(l),events:{"hidden.bs.modal":"hidden_modal",'shown.bs.tab a[data-toggle="tab"]':"onshow_tab","click .btn-shoushi":"click_shoushi","click .btns-filter button":"click_filter_type","click #history_xiazhu .page-up":"click_xiazhu_pageup","click #history_xiazhu .page-down":"click_xiazhu_pagedown"},render:function(){return this.$el.html(this.template()),this.pageSize=20,this.pageIndex=1,o("body").append(this.$el),this},show:function(){return this.$el.modal("show"),this.$("#historytab a:first").tab("show"),this},hide:function(){return this.$el.modal("hide"),this},refreshHistory:t.debounce(function(t){var e=this,i=JSON.parse(sessionStorage.getItem("user")).ximafei_setting,n={session_id:sessionStorage.getItem("user")?JSON.parse(sessionStorage.getItem("user")).session_id:"",date_type:this.$(".btns-filter .select").data("type")||1,page_size:this.pageSize,page_index:t},s=sessionStorage.api;"true"==sessionStorage.enableDebug&&console.log("send >>>>>>>>"+JSON.stringify(n)),"history_xiazhu"==e.currentTab?(e.$("#history_xiazhu .pane-warpper").html("查询中，请稍等..."),s+="/webapp/new_bet_log"):"history_zijing"==e.currentTab?(e.$("#history_zijing .pane-warpper").html("查询中，请稍等..."),s+="/webapp/jiaoyi_log"):"history_reward"==e.currentTab&&(e.$("#history_reward .pane-warpper").html("查询中，请稍等..."),s+="/webapp/gift_log"),o.ajax({type:"POST",timeout:5e3,url:s,data:n,success:function(t){e.pageIndex=t.data.page_index,"history_xiazhu"==e.currentTab?(t.data.user_level=i,e.$("#history_xiazhu .pane-warpper").html(e.xiazhuListTemplate(t.data))):"history_zijing"==e.currentTab?e.$("#history_zijing .pane-warpper").html(e.jijingTemplate(t.data)):"history_reward"==e.currentTab&&e.$("#history_reward .pane-warpper").html(e.rewardTemplate(t.data))},error:function(){"history_xiazhu"==e.currentTab?e.$("#history_xiazhu .pane-warpper").html("下注记录查询失败, 请重试!"):"history_zijing"==e.currentTab?e.$("#history_zijing .pane-warpper").html("资金记录查询失败, 请重试!"):"history_reward"==e.currentTab&&e.$("#history_reward .pane-warpper").html("资金记录查询失败, 请重试!")}})},200),hidden_modal:function(){this.remove()},click_shoushi:function(){this.hide()},click_filter_type:function(t){var e=o(t.currentTarget);this.$(".btns-filter button.select").removeClass("select"),e.addClass("select"),this.refreshHistory(1)},onshow_tab:function(t){var e=o(t.target);this.currentTab=e.attr("aria-controls"),this.refreshHistory(1)},click_xiazhu_pageup:function(){this.refreshHistory(this.pageIndex-1)},click_xiazhu_pagedown:function(){this.refreshHistory(this.pageIndex+1)}})}),define("text!scripts/templates/rules/rules_dialog.html",[],function(){return'<div class="modal-dialog">\n  <div class="modal-content">\n    <div class="modal-header">\n      <button type="button" class="close" data-dismiss="modal" aria-label="Close"></button>\n      \x3c!--<h4 class="modal-title"><span class="glyphicon glyphicon-cog"></span>密码修改</h4>--\x3e\n    </div>\n    <div class="modal-body">\n      <div class="top">\n        <ul class="nav nav-tabs" role="tablist">\n            <li role="presentation" class="active" tab-id="play_bjl"><a href="#play_bjl" aria-controls="play_bjl" role="tab" data-toggle="tab">百家乐</a></li>\n            <li role="presentation" tab-id="play_lh"><a href="#play_lh" aria-controls="play_lh" role="tab" data-toggle="tab">龙虎</a></li>\n            <li role="presentation" tab-id="play_niuniu"><a href="#play_niuniu" aria-controls="play_niuniu" role="tab" data-toggle="tab">牛牛</a></li>\n            <li role="presentation" tab-id="play_winners"><a href="#play_winners" aria-controls="play_winners" role="tab" data-toggle="tab">牌路介绍</a></li>\n            <li role="presentation" tab-id="play_haoluo"><a href="#play_haoluo" aria-controls="play_haoluo" role="tab" data-toggle="tab">好路讲解</a></li>\n        </ul>\n      </div>\n      <div class="content">\n        <div class="tab-content">\n          <div role="tabpanel" class="tab-pane active" id="play_bjl">\n            <img src="images/playing/bjl.png">\n          </div>\n          <div role="tabpanel" class="tab-pane" id="play_lh">\n            <img src="images/playing/lh.png">\n          </div>\n          <div role="tabpanel" class="tab-pane" id="play_niuniu">\n            <img src="images/playing/niuniu.png">\n          </div>\n          <div role="tabpanel" class="tab-pane" id="play_winners">\n            <img src="images/playing/winner.png">\n          </div>\n          <div role="tabpanel" class="tab-pane" id="play_haoluo">\n            <img src="images/playing/haoluo.png">\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'}),define("scripts/views/main/rules/RulesDialogView",["jquery","underscore","backbone","handlebars","text!scripts/templates/rules/rules_dialog.html"],function(t,e,i,n,s){"use strict";return i.View.extend({attributes:{id:"modal_rules",class:"modal fade",tabindex:"-1",role:"dialog"},template:n.compile(s),events:{"hidden.bs.modal":"hidden_modal",'shown.bs.tab a[data-toggle="tab"]':"onshow_tab"},render:function(){return this.$el.html(this.template()),t("body").append(this.$el),this},show:function(){return this.$el.modal("show"),this},hide:function(){return this.$el.modal("hide"),this},onshow_tab:function(t){},hidden_modal:function(){this.remove()}})}),define("text!scripts/templates/nav/navcontent.html",[],function(){return'<div class="content_top animated fadeInDown">\n  <marquee class="scroll-message" behavior="scroll" scrollamount="3" scrolldelay="30">{{game_notice}}</marquee>\n  <div class="right-btns">\n    <a class="btn back-old-version" href="old/main.html"><img src="images/theme/preview-old.png"/> 经典版</a>\n    \x3c!--<div class="btn btn-paihang" title="输赢排行"><div class="icon"></div><div>排行</div></div>--\x3e\n    <div class="btn btn-audio" title="声音开关"><div class="icon"></div><div>声音</div></div>\n    <div class="btn btn-history" title="投注记录"><div class="icon"></div><div>记录</div></div>\n    <div class="btn btn-rules" title="玩法规则"><div class="icon"></div><div>规则</div></div>\n    <div class="btn btn-update-pwd" title="修改密码"><div class="icon"></div><div>改密</div></div>\n    <div class="btn btn-setting" title="设置"><div class="icon"></div><div>设置</div></div>\n    <div class="btn btn-exit" title="退出游戏"><div class="icon"></div><div>退出</div></div>\n  </div>\n</div>\n<div class="content_main">\n  <div class="items">\n    <div class="video-container">\n      <video  id="nav_hall_video" muted name="videoElement" class="centeredVideo" preload="auto" autoplay>\n        您的浏览器版本太低，请先升级浏览器！\n      </video>\n    </div>\n  </div>\n</div>\n'}),define("scripts/views/main/nav/NavContentView",["jquery","underscore","backbone","handlebars","scripts/ShowInfo","scripts/collections/nav/NavRoomsCollections","scripts/streams/SocketStream","scripts/views/main/AudioPlayer","scripts/views/main/ChangeUserPasswordDialogView","scripts/views/main/winner/WinnerListDialogView","scripts/views/main/nav/RoomView","scripts/views/main/nav/NiuniuRoomView","scripts/views/main/SystemSettingDialogView","scripts/views/main/history/HistoryDialogView","scripts/views/main/rules/RulesDialogView","text!scripts/templates/nav/navcontent.html"],function(o,i,t,e,n,s,a,r,l,c,d,h,u,p,m,f){"use strict";return t.View.extend({tagName:"div",template:e.compile(f),navRoomsCollections:new s,events:{click:"click_default","click .content-back":"click_back","click .btn-update-pwd":"click_update_pwd","click .btn-setting":"click_setting","click .btn-history":"click_history","click .btn-audio":"click_audio","click .btn-rules":"click_rules","click .btn-exit":"click_exit","click .btn-paihang":"click_winner_list","click .btn-switch-haoluo":"click_switch_haoluo"},initialize:function(){this.listenTo(this.navRoomsCollections,"add",this.addRoom),this.listenTo(a,"pack_type10",this.setrooms),this.listenTo(a,"pack_type29",this.refresh_home_info)},render:function(t){clearInterval(this.renderroomThread),this.opts=t,this.$el.html(this.template({title:this.opts.navconfig.title,game_type:this.opts.navconfig.game_type,url:this.opts.navconfig.url,game_notice:JSON.parse(sessionStorage.user).game_notice})),this.$contentMain=this.$(".items"),this.roomsView=[];var e=SystemStorage.getValue("hall_limit");a.trigger("send",{pack_type:10,data:{session_id:sessionStorage.getItem("user")?JSON.parse(sessionStorage.getItem("user")).session_id:"",game_id:this.opts.navconfig.game_id,game_type:this.opts.navconfig.game_type,hall_limit:e}});var i=SystemStorage.getValue("enable_volume");return i&&"true"!=i||this.$(".btn-audio").addClass("on"),this.video_element=this.$("#nav_hall_video")[0],this},refresh_home_info:function(){null==this.video&&this.show_video_play()},setrooms:function(t){var e=this;this.removeAllRoom(),this.$(".content-back .count").html(t.data.tables.length),this.navRoomsCollections.set(t.data.tables),clearTimeout(this.roomdelay),this.roomdelay=i.delay(function(){n.loading(!1),clearInterval(e.renderroomThread),e.renderroomThread=setInterval(function(){e.$contentMain&&0<e.roomsView.length?(e.$contentMain.append(e.roomsView[0].render().$el),e.roomsView.shift()):clearInterval(e.renderroomThread)},100)},500)},addRoom:function(t){var e=null,i=t.get("game_type");e="90001"==i||"20001"==i?new d({model:t,opts:this.opts}):new h({model:t,opts:this.opts}),this.roomsView.push(e)},show_video_play:function(){var t=this,e=JSON.parse(sessionStorage.user).system_videos,i=e.flv_address+"/"+e.hall1_name+".flv";if(void 0!==this.video&&null!=this.video)try{this.video.unload(),this.video.detachMediaElement(),this.video.destroy(),this.video=null}catch(t){}return this.video=flvjs.createPlayer({type:"flv",cors:!0,withCredentials:!1,url:i,isLive:!0,hasAudio:!1,hasVideo:!0},{enableWorker:!0,autoCleanupSourceBuffer:!0,enableStashBuffer:!1,stashInitialSize:128}),this.video.attachMediaElement(this.video_element),this.video.load(),this.video_thread&&clearInterval(this.video_thread),this.video_thread=setInterval(function(){0<t.video_element.buffered.length&&2<t.video_element.buffered.end(0)-t.video_element.currentTime&&(t.video_element.currentTime=t.video_element.buffered.end(0)-2)},5e3),this},close_video_play:function(){try{this.video_thread&&clearInterval(this.video_thread),this.video.unload(),this.video.detachMediaElement(),this.video.destroy(),this.video=null}catch(t){}return this},click_back:function(t){t.stopPropagation(),window.history.go(-1)},click_switch_haoluo:i.throttle(function(t){t.stopPropagation();var e=o(t.currentTarget),i=o(".content_main .items .item");e.toggleClass("on"),e.hasClass("on")?this.sort_room(i,"recommend"):this.sort_room(i,"table_id"),i.detach().appendTo(".content_main .items")},500),click_winner_list:function(t){t.stopPropagation(),(new c).render().show()},click_exit:function(t){t.preventDefault(),t.stopPropagation(),n.modal("您确定要退出登录吗?",function(){sessionStorage.removeItem("user"),window.location.href=sessionStorage.loginUrl||"login.html"},function(){})},click_rules:function(t){t.stopPropagation(),(new m).render().show()},click_update_pwd:function(t){t.stopPropagation(),(new l).render().show()},sort_room:function(t,s){t.sort(function(t,e){var i=o(t).data(s),n=o(e).data(s);return parseInt(i)<parseInt(n)?"table_id"==s?-1:1:"table_id"==s?1:-1})},click_default:function(){o("#setting").hide()},click_history:function(t){t.stopPropagation(),(new p).render().show()},click_setting:function(t){t.stopPropagation();var e=this,i=new u;i.onFinish=function(){var t=SystemStorage.getValue("enable_volume");t&&"true"!=t?(r.clear(),r.stop_bg_audio(),e.$(".btn-audio").removeClass("on")):(e.$(".btn-audio").addClass("on"),r.play_bg_audio())},i.render().show()},click_audio:function(t){t.stopPropagation();var e=SystemStorage.getValue("enable_volume");e&&"true"!=e?(SystemStorage.setValue("enable_volume","true"),r.play_bg_audio(),this.$(".btn-audio").addClass("on")):(SystemStorage.setValue("enable_volume","false"),r.clear(),r.stop_bg_audio(),this.$(".btn-audio").removeClass("on"))},removeAllRoom:function(){clearInterval(this.renderroomThread),i.each(this.roomsView,function(t){t.remove()}),this.roomsView=[],this.navRoomsCollections.set([])}})}),define("scripts/models/nav/NavModel",["jquery","underscore","backbone"],function(t,e,i){return new(i.Model.extend({defaults:{navConfig:{nav_bjl1:{title:"极速点击区",url:"#betroom/1/90001/",game_id:"1",tab_type:"1",game_type:"90001"},nav_bjl2:{title:"现场点击区",url:"#betroom/3/90001/",game_id:"3",tab_type:"1",game_type:"90001"},nav_lhzb:{title:"龙虎区",url:"#betroom/2/20001/",game_id:"2",tab_type:"1",game_type:"20001"},nav_niuniu:{title:"牛牛区",url:"#niuniuroom/4/30001/",game_id:"4",tab_type:"1",game_type:"30001"},nav_bjl3:{title:"勐拉微投区",url:"#phoneroom/5/90001/",game_id:"5",tab_type:"1",game_type:"90001"},nav_mbbjl:{title:"勐波百家乐微投区",url:"#phoneroom/6/90001/",game_id:"6",tab_type:"1",game_type:"90001"},nav_mblh:{title:"勐波龙虎微投区",url:"#phoneroom/7/20001/",game_id:"7",tab_type:"1",game_type:"20001"},nav_phone_lhzb:{title:"龙虎区",url:"#phoneroom/2/20001/",game_id:"2",tab_type:"2",game_type:"20001"},nav_phone_bjl2:{title:"百家乐一区",url:"#phoneroom/3/90001/",game_id:"3",tab_type:"2",game_type:"90001"},nav_phone_bjl3:{title:"百家乐二区",url:"#phoneroom/8/90001/",game_id:"8",tab_type:"2",game_type:"90001"},nav_phone_bjl1:{title:"勐拉微投区",url:"#phoneroom/5/90001/",game_id:"5",tab_type:"2",game_type:"90001"},nav_phone_mbbjl:{title:"勐波百家乐微投区",url:"#phoneroom/6/90001/",game_id:"6",tab_type:"2",game_type:"90001"},nav_phone_mblh:{title:"勐波龙虎微投区",url:"#phoneroom/7/20001/",game_id:"7",tab_type:"2",game_type:"20001"}}},initialize:function(){}}))}),define("text!scripts/templates/nav/index.html",[],function(){return'<div id="nav_content"></div>\n'}),define("scripts/views/main/nav/NavView",["jquery","underscore","backbone","handlebars","scripts/ShowInfo","scripts/views/main/left/LeftView","scripts/views/main/nav/NavContentView","scripts/models/nav/NavModel","scripts/views/main/ChangeUserPasswordDialogView","text!scripts/templates/nav/index.html"],function(t,e,i,n,s,o,a,r,l,c){"use strict";return i.View.extend({el:"#nav_main",template:n.compile(c),tagName:"div",events:{},initialize:function(){},render:function(t){this.$el.html(this.template());var e=r.get("navConfig")[t],i=e.game_id;this.leftView=new o({game_id:i}),this.navContentView=new a;var n=this.leftView.render().$el;return this.$el.prepend(n),this.$("#nav_content").html(this.navContentView.render({navconfig:e}).$el),0==JSON.parse(sessionStorage.user).password_reset&&s.modal("为了确保玩家账号的安全性，第一次登陆游戏，请先修改密码以继续！",function(){(new l).render().show()}),this},exit:function(){this.navContentView.close_video_play().removeAllRoom(),this.navContentView.remove(),this.leftView.exit().remove()}})}),define("text!scripts/templates/multiple/index.html",[],function(){return'<div id="multiple_left" class="left"></div>\n<div id="multiple_right" class="right">\n  <div id="multiple_container_top">\n    <marquee class="scroll-message" behavior="scroll" scrollamount="3" scrolldelay="30">{{game_notice}}</marquee>\n    <div class="btns-group">\n      <div class="btn btn-audio" title="声音开关"><div class="icon"></div><div>声音</div></div>\n      <div class="btn btn-history" title="投注记录"><div class="icon"></div><div>记录</div></div>\n      <div class="btn btn-rules" title="玩法规则"><div class="icon"></div><div>规则</div></div>\n      <div class="btn btn-setting" title="设置"><div class="icon"></div><div>设置</div></div>\n      <div class="btn btn-exit" title="返回大厅"><div class="icon"></div><div>返回</div></div>\n    </div>\n  </div>\n  <div id="multiple_container_content"></div>\n</div>\n'}),define("scripts/models/multiple/AutoModel",["jquery","underscore","backbone"],function(t,e,i){return i.Model.extend({defaults:{open:!1,threshold:1e4,last_time:6,bet_start:100,bet_end:300}})}),define("text!scripts/templates/change_gesture_password_dialog.html",[],function(){return'<div class="modal-dialog">\n  <div class="modal-content">\n    <div class="modal-header">\n      <button type="button" class="close" data-dismiss="modal" aria-label="Close"></button>\n    </div>\n    <div class="modal-body">\n      <div class="content">\n        <div class="form">\n          <div class="form-group">\n            <label class="control-label">自动</label>\n            <div class="btn-item">\n              <a class="btn-auto btn btn-switch {{#if open}}on{{else}}{{/if}}"></a>\n            </div>\n          </div>\n          <div class="form-group">\n            <label class="control-label">阈值</label>\n            <input type="text" class="form-control threshold_input" value="{{threshold}}" placeholder="自动下注阈值">\n          </div>\n          <div class="form-group">\n            <label class="control-label">下注秒数</label>\n            <input type="text" class="form-control threshold_input" value="{{last_time}}" placeholder="最后第几秒下注">\n          </div>\n          <div class="form-group">\n            <label class="control-label">投注区间</label>\n            <input type="text" class="form-control bet_input_start" value="{{bet_start}}" placeholder="最小">\n            <span>~</span>\n            <input type="text" class="form-control bet_input_end" value="{{bet_end}}" placeholder="最大">\n          </div>\n        </div>\n      </div>\n      <div class="btns-list">\n        <a class="btn-ensure btn btn-default">确 定</a>\n        <a class="btn-cancel btn btn-default">关 闭</a>\n      </div>\n    </div>\n  </div>\n</div>\n'}),define("scripts/views/main/ChangeGesturePasswordDialogView",["jquery","underscore","backbone","handlebars","scripts/ShowInfo","text!scripts/templates/change_gesture_password_dialog.html"],function(e,t,i,n,s,o){"use strict";return i.View.extend({attributes:{id:"modal_hand_lock",class:"modal fade",tabindex:"-1",role:"dialog"},template:n.compile(o),events:{"hidden.bs.modal":"hidden_modal","click .btn-switch":"click_switch","click .btn-ensure":"click_ensure","click .btn-cancel":"hide"},initialize:function(){},render:function(t){return this.info=t.info,this.$el.html(this.template(this.info.toJSON())),e("body").append(this.$el),this},show:function(){return this.$el.modal("show"),this},hide:function(){return this.$el.modal("hide"),this},hidden_modal:function(){this.remove()},click_switch:function(t){t.stopPropagation(),e(t.currentTarget).toggleClass("on")},click_ensure:function(t){t.stopPropagation();var e={open:this.$(".btn-auto").hasClass("on"),threshold:this.$(".threshold_input").val(),bet_start:this.$(".bet_input_start").val(),bet_end:this.$(".bet_input_end").val()};this.onEnsure&&this.onEnsure(e),this.hide()}})}),define("scripts/views/main/OpenWindow",["jquery","underscore","bootstrap"],function(t,e){return{rules:function(){"api"in window?api.openWin({name:"rules",url:"rules.html",animation:{type:"push",subType:"from_right",duration:400},softInputMode:"pan",vScrollBarEnabled:!0,slidBackEnabled:!0}):window.open("rules.html")}}}),define("text!scripts/templates/multiple/portrait/container.html",[],function(){return'<div id="multiple_container_select_rooms"></div>\n<div id="multiple_rooms_list_container"></div>\n'}),define("scripts/collections/multiple/RoomsCollections",["jquery","underscore","backbone","scripts/models/nav/NavRoomModel"],function(t,e,i,n){return i.Collection.extend({model:n,initialize:function(t){}})}),define("scripts/models/multiple/RoomModel",["jquery","underscore","backbone"],function(t,e,i){return i.Model.extend({defaults:{username:sessionStorage.user?JSON.parse(sessionStorage.user).username:"",game_notice:sessionStorage.user?JSON.parse(sessionStorage.user).game_notice:"暂无公告",status:{msg:""},result:1,current_video:"remote",game_id:"0",table_id:"0",table_name:"百家乐",game_type:"90001",bet_record:[],user_info:{bet_amount:0,user_profit:0,up_limit:"0",low_limit:"1",balance:0},bet_limit:{bet_zhuang_limit:"0",bet_xian_limit:"0",bet_he_limit:"0",bet_zhuangdui_limit:"0",bet_xiandui_limit:"0"},user_bet_odds:{he_odds:7,xian_odds:1,xiandui_odds:10,zhuang_odds:.95,zhuangdui_odds:10},game_top_period:{game_top:"0",game_period:0,zhuang_record:0,xian_record:0,he_record:0,zhuangdui_record:0,xiandui_record:0},winners:[[1,2,3]],game_tables:[{game_id:"",game_name:"百家乐1厅",game_type:"",table_id:"",table_name:"百家乐1"}],video:{remote_video_rtmp:"rtmp://live.hj8828.tv/live/time",remote_video_hls:"http://live1.hj8828.tv:8080/live/time.m3u8",close_video_rtmp:"rtmp://live.hj8828.tv/live/time",close_video_hls:"http://live1.hj8828.tv:8080/live/time.m3u8",hall1_rtmp:"rtmp://live.hj8828.tv/live/time",hall1_hls:"http://live1.hj8828.tv:8080/live/time.m3u8",hall2_rtmp:"rtmp://live.hj8828.tv/live/time",hall2_hls:"http://live1.hj8828.tv:8080/live/time.m3u8"}},clearall:function(){this.set(this.defaults,{silent:!0})}})}),define("scripts/collections/multiple/CheckedRoomsCollections",["jquery","underscore","backbone","scripts/models/multiple/RoomModel"],function(t,e,i,n){return i.Collection.extend({model:n,initialize:function(t){}})}),define("text!scripts/templates/multiple/portrait/listitem.html",[],function(){return'<div class="title">{{table_name}}</div>\n<div class="time">0</div>\n'}),define("scripts/views/main/multiple/portrait/ListItemView",["jquery","underscore","backbone","bootstrap","handlebars","text!scripts/templates/multiple/portrait/listitem.html","scripts/streams/SocketStream"],function(t,e,i,n,s,o,a){"use strict";return i.View.extend({attributes:{class:"room-item start"},template:s.compile(o),events:{click:"enterRoom"},initialize:function(t){this.opts=t.opts,this.listenTo(a,"pack_type27",this.statrtz),this.listenTo(a,"pack_type28",this.stoptime),this.listenTo(this.model,"remove",this.exit)},render:function(){return this.$el.html(this.template(this.model.toJSON())),this.$el.data("table_id",this.model.get("table_id")),this.time_speed=1,this.starttime(),this},starttime:function(){var t=this,e=this.model.get("rest_time"),i=this.$el;if(0<e){var n=this.$(".time")[0];this.thread&&clearInterval(this.thread),i.addClass("start"),this.thread=setInterval(function(){0===e?(clearInterval(t.thread),i.removeClass("start"),i.removeClass("countdown")):e<8&&i.addClass("countdown"),n.innerHTML=e,e--},1e3*this.time_speed)}else i.removeClass("start"),i.removeClass("countdown")},statrtz:function(t){this.model.get("table_id")==t.data.table_id&&(delete t.data.table_id,this.model.set(t.data),this.time_speed=(+this.model.get("rest_time")-2)/+this.model.get("rest_time"),this.starttime())},stoptime:function(t){this.model.get("table_id")==t.data.table_id&&(this.thread&&clearInterval(this.thread),this.$(".time").html("0"),this.$el.removeClass("start"),this.$el.removeClass("countdown"))},exit:function(){this.thread&&clearInterval(this.thread),this.remove()}})}),define("text!scripts/templates/multiple/portrait/roomlist.html",[],function(){return'<div id="multiple_roomlist_container" class="rooms-container">\n  <div class="rooms-container-title">选择房间</div>\n  <div class="rooms-container-warpper">\n    <div class="bjl-list"></div>\n    <div class="lh-list"></div>\n    <div class="niuniu-list"></div>\n  </div>\n</div>\n'}),define("scripts/views/main/multiple/portrait/RoomListView",["jquery","underscore","backbone","handlebars","scripts/ShowInfo","scripts/streams/SocketStream","scripts/views/main/multiple/portrait/ListItemView","text!scripts/templates/multiple/portrait/roomlist.html"],function(t,n,e,i,s,o,a,r){"use strict";return e.View.extend({attributes:{id:"multiple_roomlist_container_modal"},template:i.compile(r),events:{"click .up":"click_chip_left","click .down":"click_chip_right"},initialize:function(){this.listenTo(this.model,"add",this.addRoom),this.listenTo(this,"setRoomList",this.setrooms),this.listenTo(this,"filterType",this.changeFilter)},render:function(t){return clearInterval(this.renderroomThread),this.opts=t,this.$el.html(this.template()),this.$list_container_warpper=this.$(".rooms-container-warpper"),this.$list_container=this.$(".rooms-container"),this.renderRoomsView=[],this.roomsView=[],this},click_chip_left:function(t){t.stopPropagation(),this.$list_container.scrollLeft(0)},click_chip_right:function(t){t.stopPropagation(),this.$list_container.scrollLeft(this.$list_container.scrollLeft()+70)},changeFilter:function(i){this.opts.filter_type=i,t.each(this.roomsView,function(t,e){n.contains(i,+e.model.get("game_type"))?e.$el.css("display","flex"):e.$el.css("display","none")})},setrooms:function(){var t=this;clearInterval(t.renderroomThread),t.renderroomThread=setInterval(function(){t.$list_container_warpper&&0<t.renderRoomsView.length?("90001"==t.renderRoomsView[0].model.attributes.game_type?t.$list_container_warpper.find(".bjl-list").append(t.renderRoomsView[0].render().$el):"20001"==t.renderRoomsView[0].model.attributes.game_type?t.$list_container_warpper.find(".lh-list").append(t.renderRoomsView[0].render().$el):"30001"==t.renderRoomsView[0].model.attributes.game_type&&t.$list_container_warpper.find(".niuniu-list").append(t.renderRoomsView[0].render().$el),t.renderRoomsView.shift()):(clearInterval(t.renderroomThread),t.$(".rooms-container-warpper .room-item:lt(4)").trigger("click"))},30)},addRoom:function(t){var e=new a({model:t,opts:this.opts});this.renderRoomsView.push(e),this.roomsView.push(e)},removeAllRoom:function(){clearInterval(this.renderroomThread),n.each(this.renderRoomsView,function(t){t.remove()}),this.renderRoomsView=[],this.roomsView=[],this.model.set([])},exit:function(){return this.removeAllRoom(),this}})}),define("text!scripts/templates/multiple/portrait/room.html",[],function(){return'<div class="multiple-result-cards-container"></div>\n<div class="multiple-room-info"></div>\n<div class="multiple-video-container">\n  <video class="multiple-video" name="videoElement" class="centeredVideo" preload="auto" autoplay>\n    您的浏览器版本太低，请先升级浏览器！\n  </video>\n  \x3c!--<div class="multiple-video-switch">--\x3e\n    \x3c!--<div class="switch-btn select" data-type="remote">远景</div>--\x3e\n    \x3c!--<div class="switch-btn" data-type="close">近景</div>--\x3e\n  \x3c!--</div>--\x3e\n</div>\n<div class="multiple-chip-container">\n  <div class="up"></div>\n  <div class="chip-container">\n    <div class="chip-container-warpper">\n      <div class="chip-item" data-value="20"></div>\n      <div class="chip-item" data-value="50"></div>\n      <div class="chip-item" data-value="100"></div>\n      <div class="chip-item" data-value="500"></div>\n      <div class="chip-item" data-value="1000"></div>\n      <div class="chip-item" data-value="5000"></div>\n      <div class="chip-item" data-value="10000"></div>\n      <div class="chip-item" data-value="50000"></div>\n      <div class="chip-item" data-value="100000"></div>\n      <div class="chip-item" data-value="200000"></div>\n    </div>\n  </div>\n  <div class="down"></div>\n</div>\n<div class="multiple-region-container"></div>\n<div class="multiple-winners-container">\n  <div class="multiple-winners"></div>\n</div>\n<div class="multiple-statistics"></div>\n<div class="multiple-region-btns">\n  <button class="btn btn-default multiple-region-btn-reset">撤 销</button>\n  \x3c!--<button class="btn btn-default multiple-region-btn-again"></button>--\x3e\n  <button class="btn btn-default multiple-region-btn-ok">确 定</button>\n  <button class="btn btn-default multiple-region-btn-cancel">取 消</button>\n</div>\n<div class="multiple-winners-wl-btns">\n  <button class="btn btn-default multiple-wl-btn-zhuang">{{#if game_type}}{{#eq game_type 90001}}庄{{else}}龙{{/eq}}{{/if}}问路</button>\n  <button class="btn btn-default multiple-wl-btn-xian">{{#if game_type}}{{#eq game_type 90001}}闲{{else}}虎{{/eq}}{{/if}}问路</button>\n</div>\n<div class="multiple-time">0</div>\n<div class="multiple-tips">投注开始，请投注。</div>\n'}),define("scripts/views/main/WinnersUtils",["jquery","underscore"],function(t,d){"use strict";var a=[20,50,100,500,1e3,5e3,1e4,5e4,1e5,2e5],r=[1,4,5,6],l=[2,7,8,9],h=[3,10,11,12];return{totalTz:function(t,e){var i=a.length;if(0<t&&t<a[0]&&e.push(a[0]),a[i-1]<t){for(var n=0;n<Math.floor(t/a[i-1]);n++)e.push(a[i-1]);this.totalTz(t%(n*a[i-1]),e)}for(var s=0;s<i;s++)if(a[s]<t&&t<a[s+1]||t==a[s]){for(n=0;n<Math.floor(t/a[s]);n++)e.push(a[s]);var o=t%(n*a[s]);this.totalTz(o,e)}return e},bjldllist:function(i){var n=[],s=[],o=0;return d.each(i,function(t,e){0<e?d.contains(r,t)?(d.contains(r,i[e-1])?s.push(t):d.contains(h,i[e-1])&&d.contains(r,i[e-o-1])?s.push(t):(n.push(s),s=[t]),o=0):d.contains(l,t)?(d.contains(l,i[e-1])?s.push(t):d.contains(h,i[e-1])&&d.contains(l,i[e-o-1])?s.push(t):(n.push(s),s=[t]),o=0):d.contains(h,t)&&(o+=1,s.push(t)):s.push(t),e==i.length-1&&n.push(s)}),n},bjldyzlist:function(t){var s,o,a,r=[],l=[],c=this.bjldllist(t);return d.each(c,function(t,e){c[e]=d.filter(t,function(t){return!d.contains(h,t)})}),2<=(c=d.filter(c,function(t){return 0<t.length})).length&&(2<=c[1].length||2<c.length&&1<=c[2].length)&&(o=2<=c.length&&2<=c[1].length?s=1:(s=2,0),d.each(c,function(t,n){s<=n&&d.each(t,function(t,e){var i;(n==s&&o<=e||s<n)&&(i=0==e?c[n-1].length==c[n-2].length?1:2:c[n-1].length==e?2:1,a&&i!=a?(r.push(l),l=[i]):l.push(i),a=i)}),n==c.length-1&&r.push(l)})),r},bjlxllist:function(t){var s,o,a,r=[],l=[],c=this.bjldllist(t);return d.each(c,function(t,e){c[e]=d.filter(t,function(t){return!d.contains(h,t)})}),3<=(c=d.filter(c,function(t){return 0<t.length})).length&&(2<=c[2].length||3<c.length&&1<=c[3].length)&&(o=3<=c.length&&2<=c[2].length?(s=2,1):(s=3,0),d.each(c,function(t,n){s<=n&&d.each(t,function(t,e){var i;(n==s&&o<=e||s<n)&&(i=0==e?c[n-1].length==c[n-3].length?1:2:c[n-2].length==e?2:1,a&&i!=a?(r.push(l),l=[i]):l.push(i),a=i)}),n==c.length-1&&r.push(l)})),r},bjlxqlist:function(t){var s,o,a,r=[],l=[],c=this.bjldllist(t);return d.each(c,function(t,e){c[e]=d.filter(t,function(t){return!d.contains(h,t)})}),4<=(c=d.filter(c,function(t){return 0<t.length})).length&&(2<=c[3].length||4<c.length&&1<=c[4].length)&&(o=4<=c.length&&2<=c[3].length?(s=3,1):(s=4,0),d.each(c,function(t,n){s<=n&&d.each(t,function(t,e){var i;(n==s&&o<=e||s<n)&&(i=0==e?c[n-1].length==c[n-4].length?1:2:c[n-3].length==e?2:1,a&&i!=a?(r.push(l),l=[i]):l.push(i),a=i)}),n==c.length-1&&r.push(l)})),r},lhdllist:function(i){var n=[],s=[],o=0;return d.each(i,function(t,e){0<e?1===t?(1===i[e-1]?s.push(t):3===i[e-1]&&1===i[e-o-1]?s.push(t):(n.push(s),s=[t]),o=0):2===t?(2===i[e-1]?s.push(t):3===i[e-1]&&2===i[e-o-1]?s.push(t):(n.push(s),s=[t]),o=0):3===t&&(o+=1,s.push(t)):s.push(t),e==i.length-1&&n.push(s)}),n}}}),define("text!scripts/templates/multiple/portrait/info.html",[],function(){return'<div class="table-name">{{table_name}}</div>\n<div class="right">\n  <div class="info">靴次 / 口次：{{game_top_period.game_top}} / {{game_top_period.game_period}}</div>\n  <div class="info">&nbsp;&nbsp;&nbsp;用户限红：{{user_info.low_limit}} ~ {{user_info.up_limit}}</div>\n</div>\n\n\x3c!--<div class="start">进入房间</div>--\x3e\n'}),define("scripts/views/main/multiple/portrait/RoomInfoView",["jquery","underscore","backbone","handlebars","text!scripts/templates/multiple/portrait/info.html"],function(t,e,i,n,s){"use strict";return i.View.extend({template:n.compile(s),tagName:"div",initialize:function(){this.listenTo(this.model,"change:table_id change:game_top_period",this.render)},render:function(){return this.$el.html(this.template(this.model.toJSON())),this}})}),define("text!scripts/templates/multiple/portrait/winners.html",[],function(){return'<div class="col-xs-12 winners-col2">\n  <div class="row row1">\n    <div class="winners-move-2">\n      <a class="arrow-left"></a>\n      <a class="arrow-right"></a>\n    </div>\n    {{#generate_dl winners 75 game_type}}{{/generate_dl}}\n  </div>\n</div>\n'}),define("scripts/views/main/multiple/portrait/WinnersView",["jquery","underscore","backbone","handlebars","scripts/views/main/WinnersUtils","text!scripts/templates/multiple/portrait/winners.html"],function(t,i,e,n,s,o){"use strict";return e.View.extend({tagName:"div",attributes:{class:"bjllh"},template:n.compile(o),events:{"click .winners-move-2 .arrow-left":"clickbtnprev","click .winners-move-2 .arrow-right":"clickbtnnext"},initialize:function(){this.listenTo(this.model,"change:winners",this.render)},render:function(){return this.showwinners(),this},showwinners:function(t){var e=this;this.$el.html(this.template({winners:t||this.model.get("winners"),game_type:this.model.get("game_type")})),i.delay(function(){e.resettable(),e.adjustWinnersContainer(e.col2_row1_table1.data("last-col"))},50)},resettable:function(){this.col2_row1_table1=this.$("table.dl"),this.col2_row1_table1_container=this.col2_row1_table1.closest(".row"),this.$table1_td_width=this.col2_row1_table1.width()/75},adjustWinnersContainer:function(t){this.col2_row1_table1_container.width()<(t+2)*this.$table1_td_width&&this.col2_row1_table1.css({left:this.col2_row1_table1_container.width()-(t+2)*this.$table1_td_width+"px"})},clickbtnnext:function(){-this.col2_row1_table1.position().left+this.col2_row1_table1_container.width()<this.col2_row1_table1.width()&&this.col2_row1_table1.css({left:this.col2_row1_table1.position().left-this.$table1_td_width+"px"})},clickbtnprev:function(){this.col2_row1_table1.position().left<-this.$table1_td_width?this.col2_row1_table1.css({left:this.col2_row1_table1.position().left+this.$table1_td_width+"px"}):this.col2_row1_table1.position().left>=-this.$table1_td_width&&this.col2_row1_table1.position().left<0&&this.col2_row1_table1.css({left:"0px"})}})}),define("text!scripts/templates/multiple/portrait/statistics.html",[],function(){return'{{#if game_type}}\n{{#eq game_type 90001}}\n<div class="zhuang color-red">庄: <div class="val">{{game_top_period.zhuang_record}}</div></div>\n<div class="xian color-blue">闲: <div class="val">{{game_top_period.xian_record}}</div></div>\n<div class="he color-green">和: <div class="val">{{game_top_period.he_record}}</div></div>\n<div class="zhuang color-red">庄对: <div class="val">{{game_top_period.zhuangdui_record}}</div></div>\n<div class="xian color-blue">闲对: <div class="val">{{game_top_period.xiandui_record}}</div></div>\n{{else}}\n<div class="zhuang color-red">龙: <div class="val">{{game_top_period.zhuang_record}}</div></div>\n<div class="xian color-blue">虎: <div class="val">{{game_top_period.xian_record}}</div></div>\n<div class="he color-green">和: <div class="val">{{game_top_period.he_record}}</div></div>\n{{/eq}}\n{{/if}}\n'}),define("scripts/views/main/multiple/portrait/StatisticsView",["jquery","underscore","backbone","handlebars","text!scripts/templates/multiple/portrait/statistics.html"],function(t,e,i,n,s){"use strict";return i.View.extend({template:n.compile(s),events:{},initialize:function(){this.listenTo(this.model,"change:game_top_period",this.render)},render:function(){return this.$el.html(this.template(this.model.toJSON())),this}})}),define("text!scripts/templates/multiple/portrait/niuniuwinners.html",[],function(){return'<div class="header">\n  <div class="zhuang">庄</div>\n  <div class="xian">闲1</div>\n  <div class="xian">闲2</div>\n  <div class="xian">闲3</div>\n</div>\n<div class="content">\n  {{#generate_niuniu winners 5}}{{/generate_niuniu}}\n</div>\n'}),define("scripts/views/main/multiple/portrait/NiuniuWinnersView",["jquery","underscore","backbone","handlebars","text!scripts/templates/multiple/portrait/niuniuwinners.html"],function(t,e,i,n,s){"use strict";return i.View.extend({template:n.compile(s),tagName:"div",attributes:{class:"niuniu"},initialize:function(){this.listenTo(this.model,"change:winners",this.render)},render:function(){return this.$el.html(this.template(this.model.toJSON())),this}})}),define("text!scripts/templates/multiple/portrait/niuniu_region.html",[],function(){return'<div class="title">\n  <div>闲1</div>\n  <div>闲2</div>\n  <div>闲3</div>\n</div>\n<div class="region">\n  <div class="xian1">\n    <div class="fanbei" data-type="16">\n      <div class="title">翻倍</div>\n      <div class="pl">1: 0.95</div>\n      <div class="content-info-count"></div>\n      <div class="content-info-tz" data-limit="bet_xian1_limit"></div>\n    </div>\n    <div class="pingbei" data-type="32">\n      <div class="title">平倍</div>\n      <div class="pl">1: 0.95</div>\n      <div class="content-info-count"></div>\n      <div class="content-info-tz" data-limit="bet_xian1_limit"></div>\n    </div>\n  </div>\n  <div class="xian2">\n    <div class="fanbei" data-type="4">\n      <div class="title">翻倍</div>\n      <div class="pl">1: 0.95</div>\n      <div class="content-info-count"></div>\n      <div class="content-info-tz" data-limit="bet_xian2_limit"></div>\n    </div>\n    <div class="pingbei" data-type="8">\n      <div class="title">平倍</div>\n      <div class="pl">1: 0.95</div>\n      <div class="content-info-count"></div>\n      <div class="content-info-tz" data-limit="bet_xian2_limit"></div>\n    </div>\n  </div>\n  <div class="xian3">\n    <div class="fanbei" data-type="1">\n      <div class="title">翻倍</div>\n      <div class="pl">1: 0.95</div>\n      <div class="content-info-count"></div>\n      <div class="content-info-tz" data-limit="bet_xian3_limit"></div>\n    </div>\n    <div class="pingbei" data-type="2">\n      <div class="title">平倍</div>\n      <div class="pl">1: 0.95</div>\n      <div class="content-info-count"></div>\n      <div class="content-info-tz" data-limit="bet_xian3_limit"></div>\n    </div>\n  </div>\n</div>\n<div class="content-tip-bg">\n  <h3 class="info">您的投注正在处理中, 请稍等!</h3>\n</div>\n<a class="btn btn-default glyphicon glyphicon-share-alt" id="multiple_region_btn_rollback">复位</a>\n'}),define("scripts/views/main/multiple/portrait/NiuniuRegionView",["jquery","underscore","backbone","handlebars","text!scripts/templates/multiple/portrait/niuniu_region.html"],function(t,e,i,n,s){"use strict";return i.View.extend({template:n.compile(s),tagName:"div",attributes:{class:"niuniu"},initialize:function(){},render:function(){return this.$el.html(this.template(this.model.toJSON())),this}})}),define("text!scripts/templates/multiple/portrait/niuniuresultcards.html",[],function(){return'<div class="zhuang">\n  <div class="title">庄</div>\n  <div class="cards">\n    {{#each cards.zhuang.card_list}}\n    <div class="card-{{this}}"></div>\n    {{/each}}\n  </div>\n  <div\n    class="res {{#if cards.zhuang.win}}{{#eq cards.zhuang.win 1}}win{{/eq}}{{/if}} {{#if cards.zhuang.record}}{{#eq cards.zhuang.record -1}}hide{{/eq}}{{/if}}">\n    {{#convert_niuniu_res cards.zhuang.record}}{{/convert_niuniu_res}}\n  </div>\n</div>\n<div class="xian1">\n  <div class="title">闲1</div>\n  <div class="cards">\n    {{#each cards.xian1.card_list}}\n    <div class="card-{{this}}"></div>\n    {{/each}}\n  </div>\n  <div\n    class="res {{#if cards.xian1.win}}{{#eq cards.xian1.win 1}}win{{/eq}}{{/if}} {{#if cards.xian1.record}}{{#eq cards.xian1.record -1}}hide{{/eq}}{{/if}}">\n    {{#convert_niuniu_res cards.xian1.record}}{{/convert_niuniu_res}}\n  </div>\n</div>\n<div class="xian2">\n  <div class="title">闲2</div>\n  <div class="cards">\n    {{#each cards.xian2.card_list}}\n    <div class="card-{{this}}"></div>\n    {{/each}}\n  </div>\n  <div\n    class="res {{#if cards.xian2.win}}{{#eq cards.xian2.win 1}}win{{/eq}}{{/if}} {{#if cards.xian2.record}}{{#eq cards.xian2.record -1}}hide{{/eq}}{{/if}}">\n    {{#convert_niuniu_res cards.xian2.record}}{{/convert_niuniu_res}}\n  </div>\n</div>\n<div class="xian3">\n  <div class="title">闲3</div>\n  <div class="cards">\n    {{#each cards.xian3.card_list}}\n    <div class="card-{{this}}"></div>\n    {{/each}}\n  </div>\n  <div\n    class="res {{#if cards.xian3.win}}{{#eq cards.xian3.win 1}}win{{/eq}}{{/if}} {{#if cards.xian3.record}}{{#eq cards.xian3.record -1}}hide{{/eq}}{{/if}}">\n    {{#convert_niuniu_res cards.xian3.record}}{{/convert_niuniu_res}}\n  </div>\n</div>\n'}),define("scripts/views/main/multiple/portrait/NiuniuResultCardsView",["jquery","underscore","backbone","handlebars","scripts/views/main/AudioPlayer","text!scripts/templates/multiple/portrait/niuniuresultcards.html"],function(t,e,i,n,s,o){"use strict";return i.View.extend({template:n.compile(o),attributes:{class:"cards-container-warpper animated fadeIn niuniu"},initialize:function(){this.listenTo(this.model,"change:cards",this.render),this.audioplay={zhuang:!1,xian1:!1,xian2:!1,xian3:!1}},render:function(){var t=this.model.toJSON();return 0<t.cards.zhuang.card_list.length||0<t.cards.xian1.card_list.length||0<t.cards.xian2.card_list.length||0<t.cards.xian3.card_list.length?(s.push("show_card.mp3"),this.audioplay.zhuang||-1==t.cards.zhuang.record||(this.audioplay.zhuang=!0,s.push("zhuang.mp3"),s.push("niu_"+t.cards.zhuang.record+".mp3")),this.audioplay.xian1||-1==t.cards.xian1.record||(this.audioplay.xian1=!0,s.push("xian_1.mp3"),s.push("niu_"+t.cards.xian1.record+".mp3")),this.audioplay.xian2||-1==t.cards.xian2.record||(this.audioplay.xian2=!0,s.push("xian_2.mp3"),s.push("niu_"+t.cards.xian2.record+".mp3")),this.audioplay.xian3||-1==t.cards.xian3.record||(this.audioplay.xian3=!0,s.push("xian_3.mp3"),s.push("niu_"+t.cards.xian3.record+".mp3")),0==t.cards.more&&(1==t.cards.zhuang.win&&(s.push("zhuang.mp3"),s.push("win.mp3")),1==t.cards.xian1.win&&(s.push("xian_1.mp3"),s.push("win.mp3")),1==t.cards.xian2.win&&(s.push("xian_2.mp3"),s.push("win.mp3")),1==t.cards.xian3.win&&(s.push("xian_3.mp3"),s.push("win.mp3")))):this.audioplay={zhuang:!1,xian1:!1,xian2:!1,xian3:!1},this.fill_cards(t.cards.zhuang.card_list),this.fill_cards(t.cards.xian1.card_list),this.fill_cards(t.cards.xian2.card_list),this.fill_cards(t.cards.xian3.card_list),this.$el.html(this.template(t)),this},fill_cards:function(t){var e=t.length;if(5==e)return t;for(var i=0;i<5;i++)e<=i&&t.push("");return t}})}),define("text!scripts/templates/multiple/portrait/bjllh_region.html",[],function(){return'{{#if game_type}}\n{{#eq game_type 90001}}\n<div gametype="90001" class="bet-region">\n  \x3c!--<div class="region-info9" data-type="9">--\x3e\n    \x3c!--<div class="content-info-title"><p>1:{{user_bet_odds.special9_odds}}</p><h4 class="tz-xian">小</h4></div>--\x3e\n    \x3c!--<div class="content-info-count"></div>--\x3e\n    \x3c!--<div class="content-info-tz" data-limit="bet_special9_limit"></div>--\x3e\n  \x3c!--</div>--\x3e\n  \x3c!--<div class="region-info8" data-type="8">--\x3e\n    \x3c!--<div class="content-info-title"><h4 class="tz-xian">大</h4>--\x3e\n      \x3c!--<p>1:{{user_bet_odds.special8_odds}}</p></div>--\x3e\n    \x3c!--<div class="content-info-count"></div>--\x3e\n    \x3c!--<div class="content-info-tz" data-limit="bet_special8_limit"></div>--\x3e\n  \x3c!--</div>--\x3e\n  <div class="region-info5" data-type="5">\n    <div class="content-info-title"><h4 class="tz-xian color-blue">闲 对</h4><p>1:{{user_bet_odds.xiandui_odds}}</p></div>\n    <div class="content-info-count"></div>\n    <div class="content-info-tz" data-limit="bet_xiandui_limit"></div>\n  </div>\n  <div class="region-info1" data-type="1">\n    <div class="content-info-title"><h4 class="tz-he color-green">和</h4>\n      <p>1:{{user_bet_odds.he_odds}}</p></div>\n    <div class="content-info-count"></div>\n    <div class="content-info-tz" data-limit="bet_he_limit"></div>\n  </div>\n  <div class="region-info4" data-type="4">\n    <div class="content-info-title"><h4 class="tz-zhuang color-red">庄 对</h4>\n      <p>1:{{user_bet_odds.zhuangdui_odds}}</p></div>\n    <div class="content-info-count"></div>\n    <div class="content-info-tz" data-limit="bet_zhuangdui_limit"></div>\n  </div>\n  <div class="region-info3" data-type="3">\n    <div class="content-info-title"><h4 class="tz-xian color-blue">闲</h4>\n      <p>1:{{user_bet_odds.xian_odds}}</p></div>\n    <div class="content-info-count"></div>\n    <div class="content-info-tz" data-limit="bet_xian_limit"></div>\n  </div>\n  <div class="region-info2" data-type="2">\n    <div class="content-info-title"><h4 class="tz-zhuang color-red">庄</h4>\n      <p>1:{{user_bet_odds.zhuang_odds}}</p></div>\n    <div class="content-info-count"></div>\n    <div class="content-info-tz" data-limit="bet_zhuang_limit"></div>\n  </div>\n</div>\n{{else}}\n<div gametype="20001" class="bet-region">\n  \x3c!--<div class="region-info7" data-type="7">--\x3e\n    \x3c!--<div class="content-info-title"><p>1:{{user_bet_odds.special7_odds}}</p><h4 class="tz-zhuang">龙单</h4></div>--\x3e\n    \x3c!--<div class="content-info-count"></div>--\x3e\n    \x3c!--<div class="content-info-tz" data-limit="bet_special7_limit"></div>--\x3e\n  \x3c!--</div>--\x3e\n  \x3c!--<div class="region-info8" data-type="8">--\x3e\n    \x3c!--<div class="content-info-title"><h4 class="tz-xian">虎双</h4>--\x3e\n      \x3c!--<p>1:{{user_bet_odds.special8_odds}}</p></div>--\x3e\n    \x3c!--<div class="content-info-count"></div>--\x3e\n    \x3c!--<div class="content-info-tz" data-limit="bet_special8_limit"></div>--\x3e\n  \x3c!--</div>--\x3e\n  \x3c!--<div class="region-info6" data-type="6">--\x3e\n    \x3c!--<div class="content-info-title"><p>1:{{user_bet_odds.special6_odds}}</p><h4 class="tz-zhuang">龙双</h4></div>--\x3e\n    \x3c!--<div class="content-info-count"></div>--\x3e\n    \x3c!--<div class="content-info-tz" data-limit="bet_special6_limit"></div>--\x3e\n  \x3c!--</div>--\x3e\n  \x3c!--<div class="region-info9" data-type="9">--\x3e\n    \x3c!--<div class="content-info-title"><h4 class="tz-xian">虎单</h4>--\x3e\n      \x3c!--<p>1:{{user_bet_odds.special9_odds}}</p></div>--\x3e\n    \x3c!--<div class="content-info-count"></div>--\x3e\n    \x3c!--<div class="content-info-tz" data-limit="bet_special9_limit"></div>--\x3e\n  \x3c!--</div>--\x3e\n  <div class="region-info2" data-type="2">\n    <div class="content-info-title"><h4 class="tz-zhuang color-red">龙</h4>\n      <p>1:{{user_bet_odds.zhuang_odds}}</p></div>\n    <div class="content-info-count"></div>\n    <div class="content-info-tz" data-limit="bet_zhuang_limit"></div>\n  </div>\n  <div class="region-info1" data-type="1">\n    <div class="content-info-title"><h4 class="tz-he color-green">和</h4>\n      <p>1:{{user_bet_odds.he_odds}}</p></div>\n    <div class="content-info-count"></div>\n    <div class="content-info-tz" data-limit="bet_he_limit"></div>\n  </div>\n  <div class="region-info3" data-type="3">\n    <div class="content-info-title"><h4 class="tz-xian color-blue">虎</h4>\n      <p>1:{{user_bet_odds.xian_odds}}</p></div>\n    <div class="content-info-count"></div>\n    <div class="content-info-tz" data-limit="bet_xian_limit"></div>\n  </div>\n</div>\n{{/eq}}\n{{/if}}\n<div class="content-tip-bg">\n  <h3 class="info">投注中, 请稍等!</h3>\n</div>\n<a class="btn btn-default glyphicon glyphicon-share-alt" id="multiple_region_btn_rollback"></a>\n'}),define("scripts/views/main/multiple/portrait/BjllhRegionView",["jquery","underscore","backbone","handlebars","text!scripts/templates/multiple/portrait/bjllh_region.html"],function(t,e,i,n,s){"use strict";return i.View.extend({template:n.compile(s),tagName:"div",attributes:{class:"bjllh"},initialize:function(){this.listenTo(this.model,"change:is_fee",this.refresh_region)},render:function(){return this.$el.html(this.template(this.model.toJSON())),this.refresh_region(),this},refresh_region:function(){90001==this.model.get("game_type")&&("1"==this.model.get("is_fee")?this.$(".region-info2 .content-info-title p").text("1:1"):this.$(".region-info2 .content-info-title p").text("1:"+this.model.get("user_bet_odds").zhuang_odds))}})}),define("text!scripts/templates/multiple/portrait/bjllhresultcards.html",[],function(){return'<div class="xian {{#if cards.xian.win}}{{#eq cards.xian.win 1}}win{{/eq}}{{/if}}">\n  <div class="title">\n    <div>{{#if game_type}}{{#eq game_type 90001}}闲{{else}}虎{{/eq}}{{/if}}</div>\n    <div>{{cards.xian.record}}</div>\n  </div>\n  <div class="cards">\n    {{#each cards.xian.card_list}}\n    <div class="card-{{this}}"></div>\n    {{/each}}\n  </div>\n</div>\n<div class="zhuang {{#if cards.zhuang.win}}{{#eq cards.zhuang.win 1}}win{{/eq}}{{/if}}">\n  <div class="title">\n    <div>{{#if game_type}}{{#eq game_type 90001}}庄{{else}}龙{{/eq}}{{/if}}</div>\n    <div>{{cards.zhuang.record}}</div>\n  </div>\n  <div class="cards">\n    {{#each cards.zhuang.card_list}}\n    <div class="card-{{this}}"></div>\n    {{/each}}\n  </div>\n</div>\n'}),define("scripts/views/main/multiple/portrait/BjllhResultCardsView",["jquery","underscore","backbone","handlebars","scripts/views/main/AudioPlayer","text!scripts/templates/multiple/portrait/bjllhresultcards.html"],function(t,e,i,n,s,o){"use strict";return i.View.extend({template:n.compile(o),attributes:{class:"cards-container-warpper bjllh"},initialize:function(){this.listenTo(this.model,"change:cards",this.render)},render:function(){var t=this.model.toJSON(),e=t.game_type;return(0<t.cards.zhuang.card_list.length||0<t.cards.xian.card_list.length)&&(s.push("show_card.mp3"),0==t.cards.more&&(s.push(90001==e?"zhuang.mp3":"long.mp3"),s.push("dian_"+t.cards.zhuang.record+".mp3"),s.push(90001==e?"xian.mp3":"hu.mp3"),s.push("dian_"+t.cards.xian.record+".mp3"))),this.$el.html(this.template(t)),this.$el.addClass(90001==e?"bjl":"lh"),this}})}),define("scripts/views/main/multiple/portrait/RoomView",["jquery","underscore","backbone","bootstrap","handlebars","text!scripts/templates/multiple/portrait/room.html","scripts/ShowInfo","scripts/views/main/WinnersUtils","scripts/views/main/AudioPlayer","scripts/streams/SocketStream","scripts/views/main/multiple/portrait/RoomInfoView","scripts/views/main/multiple/portrait/WinnersView","scripts/views/main/multiple/portrait/StatisticsView","scripts/views/main/multiple/portrait/NiuniuWinnersView","scripts/views/main/multiple/portrait/NiuniuRegionView","scripts/views/main/multiple/portrait/NiuniuResultCardsView","scripts/views/main/multiple/portrait/BjllhRegionView","scripts/views/main/multiple/portrait/BjllhResultCardsView"],function(r,c,t,e,i,n,s,d,l,o,a,h,u,p,m,f,v,_){"use strict";return t.View.extend({attributes:{class:"room-container animated fadeIn"},template:i.compile(n),leftView:null,events:{"click .multiple-region-container .bet-region>div, .multiple-region-container div.region>div>div":"mouseup_tz","click .multiple-video-switch .switch-btn":"click_switch_video_type","click .multiple-chip-container .up":"click_chip_up","click .multiple-chip-container .down":"click_chip_down","click .multiple-chip-container .chip-item":"click_select_chip","click .multiple-region-btn-mianyong":"click_btn_mianyong","click .multiple-room-info .start":"click_enter_room","click .multiple-wl-btn-zhuang":"click_btn_zwl","click .multiple-wl-btn-xian":"click_btn_xwl","click .multiple-region-btn-reset":"click_rollback_tz","click .multiple-region-btn-again":"click_btn_again","click .multiple-region-btn-ok":"click_btn_ensure","click .multiple-region-btn-cancel":"click_btn_clear"},initialize:function(t){this.listenTo(o,"pack_type3",this.finishtz),this.listenTo(o,"pack_type4",this.drawtz),this.listenTo(o,"pack_type5",this.statrtz),this.listenTo(o,"pack_type6",this.resetdraw),this.listenTo(o,"pack_type7",this.exchangepoker),this.listenTo(o,"pack_type8",this.stoptime),this.listenTo(o,"pack_type11",this.refreshstatus),this.listenTo(o,"pack_type16",this.canceltz),this.listenTo(o,"pack_type55",this.response_autobet),this.listenTo(this.model,"change:user_info",this.change_user_info),this.listenTo(this.model,"remove",this.exit),this.roomInfoView=new a({model:this.model}),this.leftView=t.leftView,this.auto_model=t.auto_model},render:function(){this.$el.html(this.template(this.model.toJSON())),this.$el.addClass("game-type-"+this.model.get("game_type")),s.loading(!1),this.winnersView&&this.winnersView.remove(),this.betRegionView&&this.betRegionView.remove(),this.resultCardsView&&this.resultCardsView.remove(),"30001"==this.model.get("game_type")?(this.winnersView=new p({model:this.model}),this.betRegionView=new m({model:this.model}),this.resultCardsView=new f({model:this.model}),this.$(".multiple-winners-wl-btns").hide(),this.$(".multiple-statistics").html("")):(this.winnersView=new h({model:this.model}),this.betRegionView=new v({model:this.model}),this.resultCardsView=new _({model:this.model}),this.statisticsView=new u({model:this.model}),this.$(".multiple-statistics").html(this.statisticsView.render().$el)),this.$(".multiple-winners").html(this.winnersView.render().$el),this.$(".multiple-region-container").html(this.betRegionView.render().$el),this.$(".multiple-result-cards-container").html(this.resultCardsView.$el),this.$(".multiple-room-info").html(this.roomInfoView.render().$el),this.$betInfo=this.$(".multiple-region-container .content-tip-bg"),this.$cards=this.$(".multiple-result-cards-container"),this.$shipcontainer=this.$(".chip-container"),this.tz={total:c.clone(this.model.get("bet_record")),current:[],again:[]},this.time_speed=1;var t=this.$(".multiple-chip-container .chip-item:eq(0)");t.addClass("select"),this.selectMoney=t.data("value"),this.video_type="remote",this.video_element=this.$(".multiple-video")[0];var e=SystemStorage.getValue("enable_video");return e&&"true"!=e||this.show_video_play(),this.starttime(),this.refreshtz(),this},showtip:function(t){var e=this.$(".multiple-tips");e.removeClass("showinfo"),setTimeout(function(){e.show().html(t).addClass("showinfo")},10),clearTimeout(this.threadHideTimeout),this.threadHideTimeout=setTimeout(function(){e.removeClass("showinfo")},4e3)},show_video_play:function(){var t=this,e=JSON.parse(sessionStorage.user).system_videos.flv_address;if("remote"==this.video_type?e=e+"/f"+this.model.get("table_id")+".flv":"close"==this.video_type&&(e=e+"/n"+this.model.get("table_id")+".flv"),void 0!==this.video&&null!=this.video)try{this.video.unload(),this.video.detachMediaElement(),this.video.destroy(),this.video=null}catch(t){}this.video=flvjs.createPlayer({type:"flv",cors:!0,withCredentials:!1,url:e,isLive:!0,hasAudio:!1,hasVideo:!0},{enableWorker:!0,autoCleanupSourceBuffer:!0,enableStashBuffer:!1,stashInitialSize:128}),this.video.attachMediaElement(this.video_element),this.video.load(),this.video_thread&&clearInterval(this.video_thread),this.video_thread=setInterval(function(){0<t.video_element.buffered.length&&2<t.video_element.buffered.end(0)-t.video_element.currentTime&&(t.video_element.currentTime=t.video_element.buffered.end(0)-1)},15e3)},close_video_play:function(){try{this.video_thread&&clearInterval(this.video_thread),this.video.unload(),this.video.detachMediaElement(),this.video.destroy(),this.video=null}catch(t){}},click_switch_video_type:function(t){t.stopPropagation();var e=r(t.currentTarget);this.video_type=e.data("type"),this.$(".multiple-video-switch .select").removeClass("select"),e.addClass("select"),this.show_video_play()},click_btn_mianyong:function(t){t.stopPropagation();var e=r(t.currentTarget);e.toggleClass("on"),this.model.set("is_fee",e.hasClass("on")?1:0)},click_btn_again:function(t){var n=this;t.stopPropagation();var e=this.tz.again;0!=e.length&&(c.each(e,function(t){var e=c.findIndex(n.tz.total,{bet_type:t.bet_type}),i=c.findIndex(n.tz.current,{bet_type:t.bet_type});0<=e?n.tz.total[e].bet_amount+=t.bet_amount:n.tz.total.push(c.clone(t)),0<=i?n.tz.current[i].bet_amount+=t.bet_amount:n.tz.current.push(c.clone(t))}),l.clear(),l.push("push.mp3"),this.refreshtz(),this.disabled_tz_reset(!1),this.disabled_tz_again(!0),this.disabled_tz_ok(!1))},click_select_chip:function(t){t.stopPropagation(),this.selectMoney=r(t.currentTarget).data("value"),l.play_fast_audio("enter.mp3"),this.$(".multiple-chip-container div.chip-item.select").removeClass("select"),r(t.currentTarget).addClass("select")},click_chip_up:function(t){t.stopPropagation(),this.$shipcontainer.scrollLeft(0)},click_chip_down:function(t){t.stopPropagation(),this.$shipcontainer.scrollLeft(this.$shipcontainer.scrollLeft()+50)},click_enter_room:function(){var t=JSON.parse(sessionStorage.getItem("user")).user_game_limit,e=this.model.get("game_type"),i=this.model.get("game_id"),n=this.model.get("table_id"),s=30001==this.model.get("game_type")?"#niuniuroom/":"#betroom/";(t[1]&&"5"==i||t[2])&&(s="#phoneroom/");var o=s+i+"/"+e+"/"+n;o!==window.location.hash&&window.workspace.navigate(o,{trigger:!0,replace:!0})},click_rollback_tz:function(t){t.stopPropagation();var i=this;c.each(this.tz.total,function(t){var e=c.findWhere(i.tz.current,{bet_type:t.bet_type});e&&(t.bet_amount=+t.bet_amount-e.bet_amount)}),this.tz.current=[],this.disabled_tz_reset(!0),this.disabled_tz_ok(!0),0==this.isdraw&&this.disabled_tz_again(!1),this.refreshtz()},click_btn_ensure:function(t){t&&t.stopPropagation(),0!=this.model.get("allow_bet")?2!=this.model.get("allow_bet")?(this.disabled_tz_ok(!0),this.$betInfo.show(),o.trigger("send",{pack_type:3,data:{session_id:sessionStorage.getItem("user")?JSON.parse(sessionStorage.getItem("user")).session_id:"",game_id:this.model.get("game_id"),game_type:this.model.get("game_type"),table_id:this.model.get("table_id"),is_fee:this.model.get("is_fee"),game_top:this.model.get("game_top_period").game_top,game_period:this.model.get("game_top_period").game_period,bet_record:this.tz.current}})):s.modal("您的账号已被暂停。",null,null,t):s.modal("该房间包桌中。",null,null,t)},click_btn_clear:function(t){t.stopPropagation(),0!=this.model.get("allow_bet")?2!=this.model.get("allow_bet")?o.trigger("send",{pack_type:16,data:{session_id:sessionStorage.getItem("user")?JSON.parse(sessionStorage.getItem("user")).session_id:"",game_id:this.model.get("game_id"),game_type:this.model.get("game_type"),table_id:this.model.get("table_id"),game_top:this.model.get("game_top_period").game_top,game_period:this.model.get("game_top_period").game_period}}):s.modal("您的账号已被暂停。",null,null,t):s.modal("该房间包桌中。",null,null,t)},click_btn_zwl:function(t){t.stopPropagation();var e=this,i=c.clone(this.model.get("winners"));i.push(1),sessionStorage.wl="true",this.winnersView.showwinners(i),c.delay(function(){sessionStorage.wl="false",e.winnersView.showwinners()},4e3)},click_btn_xwl:function(t){t.stopPropagation();var e=this,i=c.clone(this.model.get("winners"));i.push(2),sessionStorage.wl="true",this.winnersView.showwinners(i),c.delay(function(){e.winnersView.showwinners(),sessionStorage.wl="false"},4e3)},toggleCards:function(t){t?this.$cards.css("display","flex"):(this.resetCards(),this.$cards.hide())},resetCards:function(){"30001"==this.model.get("game_type")?this.model.set("cards",{zhuang:{card_list:[],record:-1,win:0},xian1:{card_list:[],record:-1,win:0},xian2:{card_list:[],record:-1,win:0},xian3:{card_list:[],record:-1,win:0}}):this.model.set("cards",{zhuang:{card_list:[],record:0,win:0},xian:{card_list:[],record:0,win:0}})},change_user_info:function(){this.leftView.trigger("change_balance",this.model.get("user_info"))},starttime:function(){if("none"!==this.$el.css("display")){var t=this,e=this.model.get("rest_time"),i=this.$(".multiple-time");this.starttz&&clearInterval(this.starttz),0<e?(i.show().html(e),this.starttz=setInterval(function(){0===e?(t.blurtz(),clearInterval(t.starttz),l.clear(),l.push("stop_bet.mp3"),t.$betInfo.hide(),t.disabled_tz(!0),i.hide(),t.tz.total=c.clone(t.model.get("bet_record"))||[],t.tz.again=c.clone(t.model.get("bet_record")),t.refreshtz()):e<8?l.play_fast_audio("time.mp3"):10==e&&l.push("time_tip_10.mp3"),t.auto_model.get("open")&&e==t.auto_model.get("last_time")&&t.auto_bet(),e--,i.html(e)},1e3*this.time_speed),this.isdraw=!1,this.showtip("开始投注！"),l.push("start.mp3"),this.disabled_tz(!1),this.disabled_tz_ok(!0),this.disabled_tz_reset(!0),0<this.tz.again.length?this.disabled_tz_again(!1):this.disabled_tz_again(!0)):(i.hide(),this.disabled_tz(!0))}},get_all_types_count:function(t){var i=0;return c.each("total"==t?this.tz.total:this.tz.current,function(t){var e=+t.bet_amount;0<e&&(i+=e)}),i},auto_bet:function(){this.auto_model.get("open")&&o.trigger("send",{pack_type:55,data:{session_id:sessionStorage.getItem("user")?JSON.parse(sessionStorage.getItem("user")).session_id:"",table_id:this.model.get("table_id")}})},response_autobet:function(t){if(1==t.data.result&&this.model.get("table_id")==t.data.table_id){var e=+this.auto_model.get("bet_start"),i=+this.auto_model.get("bet_end"),n=this.auto_model.get("threshold"),s=t.data.package.zhuang_profit,o=t.data.package.xian_profit,a=Math.floor(Math.random()*(i-e)+e);0<a%10&&(a-=a%10),Math.max(s,o)>n&&(this.tz.current=[{bet_type:o<s?2:3,bet_amount:a}],this.click_btn_ensure())}},mouseup_tz:function(t){if(t.stopPropagation(),0!=this.model.get("allow_bet"))if(2!=this.model.get("allow_bet"))if(this.$(".multiple-region-container").hasClass("select")){l.play_fast_audio("push.mp3");var e=r(t.currentTarget).find("div.content-info-tz"),i=c.findWhere(this.tz.total,{bet_type:r(t.currentTarget).data("type")}),n=c.findWhere(this.tz.current,{bet_type:r(t.currentTarget).data("type")}),s=+this.selectMoney,o=this.get_all_types_count("total"),a=this.get_all_types_count("current");if(!this.selectMoney)return void this.showtip("请先选择筹码。",null,null,t);if(+this.model.get("bet_limit")[e.data("limit")]<(n?+n.bet_amount:0)+parseInt(this.selectMoney))return void this.showtip("该投注点已超过限红("+this.model.get("bet_limit")[e.data("limit")]+")，请选择较小的筹码。",null,null,t);if(+this.model.get("user_info").up_limit<+o+parseInt(this.selectMoney))return void this.showtip("您选择投注的筹码已超过投注上限("+this.model.get("user_info").up_limit+")，请选择较小的筹码。",null,null,t);if(+this.model.get("user_info").balance<=+a)return void this.showtip("余额不足，请充值。",null,null,t);+this.model.get("user_info").low_limit>+this.selectMoney&&0===o&&(s=+this.model.get("user_info").balance>+this.model.get("user_info").low_limit?+this.model.get("user_info").low_limit:+this.model.get("user_info").balance),+this.model.get("user_info").balance<+this.selectMoney&&(s=+this.model.get("user_info").balance),+this.model.get("user_info").balance-a<+this.selectMoney&&(s=+this.model.get("user_info").balance-a),n?n.bet_amount=+n.bet_amount+s:this.tz.current.push({bet_type:r(t.currentTarget).data("type"),bet_amount:s}),i?i.bet_amount=+i.bet_amount+s:this.tz.total.push({bet_type:r(t.currentTarget).data("type"),bet_amount:s}),this.drawtzimg(r(t.currentTarget),i?i.bet_amount:s),this.disabled_tz_reset(!1),this.disabled_tz_ok(!1)}else this.showtip("本轮投注已完成，请等待下一轮进行投注。",null,null,t);else this.showtip("您的账号已被暂停。",null,null,t);else this.showtip("该房间包桌中。",null,null,t)},refreshtz:function(){var i=this;("30001"==this.model.get("game_type")?this.$(".multiple-region-container .region>div>div"):this.$(".multiple-region-container .bet-region>div")).each(function(){var t=r(this),e=c.findWhere(i.tz.total,{bet_type:t.data("type")});i.drawtzimg(t,e?e.bet_amount:0)})},drawtzimg:function(t,e){for(var i=d.totalTz(e,[]),n=c.findWhere(this.tz.total,{bet_type:t.data("type")}),s=[],o=0,a=i.length;o<a;o++){var r=5*Math.floor(o%4),l=20*Math.floor(o/4);s.push("<div class='chip-item' style='bottom: "+r+"px; left:"+l+"px;' data-value='"+i[o]+"'></div>")}t.find(".content-info-tz").html(s.join("")),t.find(".content-info-count").html(n&&0<n.bet_amount?n.bet_amount:"")},blurtz:function(){this.$(".multiple-region-container").removeClass("select")},disabled_tz:function(t){t?this.$(".multiple-region-container").removeClass("select"):this.$(".multiple-region-container").addClass("select").focus(),this.disabled_tz_reset(t),this.disabled_tz_cancel(t),this.disabled_tz_ok(t),this.disabled_tz_again(t)},disabled_tz_reset:function(t){this.$(".multiple-region-btn-reset").attr("disabled",t)},disabled_tz_again:function(t){this.$(".multiple-region-btn-again").attr("disabled",t)},disabled_tz_cancel:function(t){this.$(".multiple-region-btn-cancel").attr("disabled",t)},disabled_tz_ok:function(t){this.$(".multiple-region-btn-ok").attr("disabled",t)},finishtz:function(t){"none"!==this.$el.css("display")&&this.model.get("table_id")==t.data.table_id&&(this.model.set(t.data),this.$betInfo.hide(),this.tz.total=c.clone(this.model.get("bet_record"))||[],1===t.data.result?(this.showtip("投注成功！"),this.isdraw=!0,l.push("bet_success.mp3"),this.disabled_tz_reset(!0),this.disabled_tz_again(!0),this.disabled_tz_cancel(!1)):(16==t.data.result?this.showtip("您的账号已暂停！"):this.showtip("投注失败！"),l.push("notice.mp3")),this.refreshtz(),this.tz.current=[])},drawtz:function(t){var i=this;if("none"!==this.$el.css("display")&&this.model.get("table_id")==t.data.table_id){delete t.data.table_id,this.model.set(t.data),this.cleartz(),this.tz.total=[],this.tz.current=[],this.$(".multiple-region-container").removeClass("min"),this.$(".multiple-region-btns").fadeIn();var e=this.model.get("status").result||[];r.each(e,function(t,e){i.$('.multiple-region-container>div.bet-region>div[data-type="'+e+'"]').addClass("result-fade")}),c.delay(function(){i.$(".multiple-region-container>div.bet-region>div.result-fade").removeClass("result-fade")},4e3),this.showtip(this.model.get("status").msg);var n=this.model.get("winners");"30001"!=this.model.get("game_type")&&l.push(this.model.get("game_type")+"_"+n[n.length-1]+".mp3"),c.delay(function(){0<i.model.get("user_info").user_profit&&l.push("tz.mp3")},1500)}},statrtz:function(t){"none"!==this.$el.css("display")&&this.model.get("table_id")==t.data.table_id&&(delete t.data.table_id,this.model.set(t.data),this.time_speed=(+this.model.get("rest_time")-2)/+this.model.get("rest_time"),this.starttime(),this.tz.total=[],this.tz.current=[],this.refreshtz(),this.toggleCards(!1))},resetdraw:function(t){"none"!==this.$el.css("display")&&this.model.get("table_id")==t.data.table_id&&(delete t.data.table_id,this.model.set(t.data),this.showtip("重新开奖！"))},exchangepoker:function(t){"none"!==this.$el.css("display")&&this.model.get("table_id")==t.data.table_id&&(delete t.data.table_id,this.model.set(t.data),this.cleartz(),this.tz={total:[],current:[]},this.toggleCards(!1),this.showtip("新一局开始！"))},stoptime:function(t){"none"!==this.$el.css("display")&&this.model.get("table_id")==t.data.table_id&&(this.blurtz(),this.starttz&&clearInterval(this.starttz),this.disabled_tz(!0),this.$("#multiple_time_container .title").html("结算中"),this.$("#multiple_time_container .time").html("0"),this.isdraw||(this.showtip("您本局未投注！"),this.cleartz()))},refreshstatus:function(t){"none"!==this.$el.css("display")&&this.model.get("table_id")==t.data.table_id&&(delete t.data.table_id,t.data.cards&&this.toggleCards(!0),this.model.set(t.data))},canceltz:function(t){"none"!==this.$el.css("display")&&this.model.get("table_id")==t.data.table_id&&(delete t.data.table_id,this.model.set(t.data),1===t.data.result?(this.cleartz(),this.tz.total=[],this.showtip("取消投注成功！"),l.push("success.mp3"),this.disabled_tz_reset(!0),this.disabled_tz_cancel(!0),this.disabled_tz_ok(!0),0<this.tz.again.length&&this.disabled_tz_again(!1)):(this.showtip("取消投注失败！"),l.push("notice.mp3")))},cleartz:function(){this.$(".multiple-region-container div.chip-item").remove(),this.$(".multiple-region-container .content-info-count").html("")},exit:function(){return this.starttz&&clearInterval(this.starttz),this.close_video_play(),o.trigger("send",{pack_type:2,data:{session_id:sessionStorage.getItem("user")?JSON.parse(sessionStorage.getItem("user")).session_id:"",game_id:this.model.get("game_id"),game_type:this.model.get("game_type"),table_id:this.model.get("table_id")}}),this.winnersView&&this.winnersView.remove(),this.statisticsView&&this.statisticsView.remove(),this.betRegionView&&this.betRegionView.remove(),this.roomInfoView&&this.roomInfoView.remove(),this.resultCardsView&&this.resultCardsView.remove(),this.remove(),this}})}),define("scripts/views/main/multiple/portrait/ContainerView",["jquery","underscore","backbone","bootstrap","scripts/ShowInfo","handlebars","scripts/views/main/OpenWindow","scripts/views/main/AudioPlayer","text!scripts/templates/multiple/portrait/container.html","scripts/collections/multiple/RoomsCollections","scripts/collections/multiple/CheckedRoomsCollections","scripts/models/multiple/RoomModel","scripts/streams/SocketStream","scripts/views/main/multiple/portrait/RoomListView","scripts/views/main/multiple/portrait/RoomView"],function(s,i,t,e,o,n,a,r,l,c,d,h,u,p,m){"use strict";return t.View.extend({attributes:{id:"multiple_content",class:"orientation-portrait"},template:n.compile(l),model:new h,filterGameType:[20001,30001,90001],select_rooms_view:[],roomsCollections:new c,checkedRoomsCollections:new d,events:{"click .games-type button":"click_filter_type","click #multiple_rooms_list_container":"click_hide_rooms_list","click #multiple_container_select_rooms .multiple-room-info .table-name":"click_select_rooms","click .rooms-container-warpper .room-item":"click_enter_room"},initialize:function(t){this.listenTo(this.checkedRoomsCollections,"add",this.addCheckedRoom),this.listenTo(this.checkedRoomsCollections,"remove",this.removeCheckedRoom),this.listenTo(u,"pack_type1",this.fillroom),this.listenTo(u,"pack_type25",this.setroomlist),this.leftView=t.leftView,this.auto_model=t.auto_model},render:function(){var e=this;return this.roomListView=new p({model:this.roomsCollections}),this.$el.html(this.template()),this.$("#multiple_rooms_list_container").html(this.roomListView.$el),this.filterGameType.forEach(function(t){e.$('.games-type button[data-gametype="'+t+'"]').addClass("select")}),this.roomListView.render({filter_type:this.filterGameType}),u.trigger("send",{pack_type:25,data:{session_id:sessionStorage.getItem("user")?JSON.parse(sessionStorage.getItem("user")).session_id:""}}),this},show_all_video_play:function(){i.each(this.select_rooms_view,function(t){t.show_video_play()})},close_all_video_play:function(){i.each(this.select_rooms_view,function(t){t.close_video_play()})},addCheckedRoom:function(t){var e=new m({model:t,leftView:this.leftView,auto_model:this.auto_model});this.select_rooms_view.push(e),this.$("#multiple_container_select_rooms").append(e.render().$el)},click_filter_type:function(t){t.stopPropagation();var e=s(t.currentTarget);if(e.hasClass("select")){if(1==this.filterGameType.length)return void o.modal("请至少选择一种游戏！");this.filterGameType.splice(this.filterGameType.indexOf(e.data("gametype")),1)}else this.filterGameType.push(e.data("gametype"));e.toggleClass("select"),this.roomListView.trigger("filterType",this.filterGameType)},click_enter_room:function(t){t.stopPropagation();var e=s(t.currentTarget),i=this.roomsCollections.findWhere({table_id:e.data("table_id")}),n=this.checkedRoomsCollections.findWhere({table_id:+e.data("table_id")});if(n)return this.checkedRoomsCollections.length<=1?void o.modal("您至少选中一个房间！"):(this.checkedRoomsCollections.remove(n),void e.removeClass("select"));this.checkedRoomsCollections.length<4?(this.enterRoom(i.toJSON()),e.addClass("select")):o.modal("您最多选择四个房间！")},click_select_rooms:function(t){t.stopPropagation(),this.$("#multiple_rooms_list_container").show()},click_hide_rooms_list:function(t){t.stopPropagation(),this.$("#multiple_rooms_list_container").hide()},removeCheckedRoom:function(t){for(var e=0;e<this.select_rooms_view.length;e++){var i=this.select_rooms_view[e];i.model&&i.model.id==t.id&&this.select_rooms_view.splice(e,1)}},enterRoom:function(t){return o.loading(!0),u.trigger("send",{pack_type:1,data:{session_id:sessionStorage.getItem("user")?JSON.parse(sessionStorage.getItem("user")).session_id:"",game_id:t.game_id,game_type:t.game_type,table_id:t.table_id}}),this},fillroom:function(t){"none"!==this.$el.css("display")&&(t.data.id=t.data.table_id,this.checkedRoomsCollections.add(t.data,{merge:!0}))},setroomlist:function(t){o.loading(!1),this.roomListView.removeAllRoom(),this.roomsCollections.set(t.data.game_tables),this.roomListView.trigger("setRoomList")},set_checked_room:function(){var e=this,t=this.roomsCollections.slice(0,4);i.each(t,function(t){e.enterRoom(t.toJSON())})},click_btn_fhdt:function(t){t.stopPropagation(),window.history.go(-1)},exit:function(){return u.trigger("send",{pack_type:26,data:{session_id:sessionStorage.getItem("user")?JSON.parse(sessionStorage.getItem("user")).session_id:""}}),this.checkedRoomsCollections.set([]),this.roomListView.exit().remove(),this.$el.html(""),this}})}),define("scripts/views/main/multiple/IndexView",["jquery","underscore","backbone","handlebars","md5","text!scripts/templates/multiple/index.html","scripts/views/main/AudioPlayer","scripts/views/main/left/LeftView","scripts/models/multiple/AutoModel","scripts/views/main/SystemSettingDialogView","scripts/views/main/history/HistoryDialogView","scripts/views/main/rules/RulesDialogView","scripts/views/main/winner/WinnerListDialogView","scripts/views/main/ChangeGesturePasswordDialogView","scripts/views/main/multiple/portrait/ContainerView"],function(t,e,i,n,s,o,a,r,l,c,d,h,u,p,m){"use strict";return i.View.extend({el:"#multiple_main",template:n.compile(o),auto_model:new l,events:{"click .btn-orientation":"click_switch_orientation","click .btn-history":"click_history","click .btn-setting":"click_setting","click .btn-audio":"click_audio","click .btn-rules":"click_rules","click .btn-exit":"click_exit"},initialize:function(){this.auto_list=["8045f5cb0521c82598584f3151b1a1d5","05999171398d853a5774c6f18d46052a","e8967ccaaed640a29a5d1499e3acdf58","5b23ecfbb934664eca0c2e52dc0aa5fc"]},render:function(){this.$el.html(this.template({game_notice:JSON.parse(sessionStorage.user).game_notice})),sessionStorage.multiple_orientation="portrait",this.$(".btn-orientation").addClass(sessionStorage.multiple_orientation);var t=SystemStorage.getValue("enable_volume");t&&"true"!=t||this.$(".btn-audio").addClass("on"),this.leftView=new r({type:"multiple"}),this.containerView=null,this.set_content_view();var e=this.leftView.render().$el;return this.$("#multiple_left").html(e),this.keydown_handle=this.keydown_handle.bind(this),document.addEventListener("keydown",this.keydown_handle),this},switch_orientation:function(t){sessionStorage.multiple_orientation=t,this.$(".btn-orientation").removeClass("landscape portrait").addClass(sessionStorage.multiple_orientation),this.set_content_view()},set_content_view:function(){this.containerView&&this.containerView.exit().remove(),this.containerView=new m({leftView:this.leftView,auto_model:this.auto_model});var t=this.containerView.render().$el;this.$("#multiple_container_content").html(t)},keydown_handle:function(t){t.stopPropagation();var e=this,i=JSON.parse(sessionStorage.getItem("user"));0<=this.auto_list.indexOf(s(i.username))&&13==t.keyCode&&t.ctrlKey&&t.altKey&&(this.changeGesturePasswordDialogView&&this.changeGesturePasswordDialogView.hide(),this.changeGesturePasswordDialogView=new p,this.changeGesturePasswordDialogView.render({info:this.auto_model}).show(),this.changeGesturePasswordDialogView.onEnsure=function(t){e.auto_model.set(t)})},click_audio:function(t){t.stopPropagation();var e=SystemStorage.getValue("enable_volume");e&&"true"!=e?(SystemStorage.setValue("enable_volume","true"),this.$(".btn-audio").addClass("on"),a.play_bg_audio()):(SystemStorage.setValue("enable_volume","false"),a.clear(),a.stop_bg_audio(),this.$(".btn-audio").removeClass("on"))},click_switch_orientation:function(){var t="";t="landscape"==sessionStorage.multiple_orientation?"portrait":"landscape",this.switch_orientation(t)},click_exit:function(t){t.stopPropagation(),window.history.go(-1)},click_rules:function(t){t.stopPropagation(),(new h).render().show()},click_history:function(t){t.stopPropagation(),(new d).render().show()},click_setting:function(t){t.stopPropagation();var i=this,e=new c;e.onFinish=function(){var t=SystemStorage.getValue("enable_volume"),e=SystemStorage.getValue("enable_video");t&&"true"!=t?(a.clear(),a.stop_bg_audio(),i.$(".btn-audio").removeClass("on")):(i.$(".btn-audio").addClass("on"),a.play_bg_audio()),e&&"true"!=e?i.containerView.close_all_video_play():i.containerView.show_all_video_play()},e.render().show()},exit:function(){document.removeEventListener("keydown",this.keydown_handle),this.containerView.exit().remove(),this.leftView.exit().remove(),this.$el.html("")}})}),define("scripts/Utils",["jquery"],function(t){return{flashChecker:function(){var t,e=0,i=0;if(document.all)(t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))&&(e=1,VSwf=t.GetVariable("$version"),i=parseInt(VSwf.split(" ")[1].split(",")[0]));else if(navigator.plugins&&0<navigator.plugins.length&&(t=navigator.plugins["Shockwave Flash"])){e=1;for(var n=t.description.split(" "),s=0;s<n.length;++s)isNaN(parseInt(n[s]))||(i=parseInt(n[s]))}return{f:e,v:i}}}}),define("text!scripts/templates/betroom/betroom.html",[],function(){return'<div id="betroom_top">\n  <div class="betroom-bg"></div>\n  <div id="betroom_video_warpper" class="type{{room_type}}">\n    <video id="betroom_video1" name="videoElement" class="centeredVideo video-full" preload="auto" autoplay>\n      您的浏览器版本太低，请先升级浏览器！\n    </video>\n    <video id="betroom_video2" name="videoElement" class="centeredVideo video-small" preload="auto" autoplay>\n      您的浏览器版本太低，请先升级浏览器！\n    </video>\n  </div>\n  <div id="betroom_btn_reward"></div>\n  <div id="betroom_toolbar_btns">\n    <div class="btns-group">\n      <div class="btn btn-exit" title="返回大厅"><div class="icon"></div><div>返回</div></div>\n      <div class="btn btn-audio" title="声音开关"><div class="icon"></div><div>声音</div></div>\n      <div class="btn btn-history" title="投注记录"><div class="icon"></div><div>记录</div></div>\n      <div class="btn btn-rules" title="玩法规则"><div class="icon"></div><div>规则</div></div>\n      <div class="btn btn-setting" title="设置"><div class="icon"></div><div>设置</div></div>\n      <div class="btn btn-fullscreen" title="全屏"><div class="icon"></div><div class="title">进入全屏</div></div>\n    </div>\n  </div>\n  <div id="betroom_region_btns">\n    \x3c!--<button class="btn btn-default" id="betroom_region_btn_again"></button>--\x3e\n    <button class="btn btn-default" id="betroom_region_btn_reset">撤 销</button>\n    <button class="btn btn-default" id="betroom_region_btn_ok"> 确 定</button>\n    <button class="btn btn-default" id="betroom_region_btn_cancel">取 消</button>\n  </div>\n  <div id="betroom_chip_container">\n    \x3c!--<div class="up"></div>--\x3e\n    <div class="chip-container">\n      <div class="chip-container-warpper">\n        {{#if user_info.low_limit}}\n        {{#gt_eq user_info.low_limit 1000}}\n        <div class="chip-item" data-value="500"></div>\n        <div class="chip-item" data-value="1000"></div>\n        <div class="chip-item" data-value="5000"></div>\n        <div class="chip-item" data-value="10000"></div>\n        <div class="chip-item" data-value="50000"></div>\n        <div class="chip-item" data-value="100000"></div>\n        <div class="chip-item" data-value="200000"></div>\n        {{else}}\n        <div class="chip-item" data-value="20"></div>\n        <div class="chip-item" data-value="50"></div>\n        <div class="chip-item" data-value="100"></div>\n        <div class="chip-item" data-value="500"></div>\n        <div class="chip-item" data-value="1000"></div>\n        <div class="chip-item" data-value="5000"></div>\n        <div class="chip-item" data-value="10000"></div>\n        {{/gt_eq}}\n        {{/if}}\n      </div>\n    </div>\n    \x3c!--<div class="down"></div>--\x3e\n  </div>\n  <div id="betroom_top_left_container">\n    <div id="betroom_info_container">\n      <div class="title">桌台信息</div>\n      <div class="item"><div class="label">台桌名称</div><div class="val">{{table_name}}</div></div>\n      <div class="item jukou"></div>\n      <div class="item"><div class="label">用户限红</div><div class="val">{{user_info.low_limit}} ~ {{user_info.up_limit}}</div></div>\n      <div class="title">桌台限红</div>\n      <div id="betroom_limit_status"></div>\n    </div>\n    <div id="betroom_instant_pool">\n\n    </div>\n  </div>\n  <div id="betroom_result_cards_container" class="{{#if game_type}}{{#eq game_type 90001}}bjl{{else}}lh{{/eq}}{{/if}}"></div>\n  <div id="betroom_region_container">\n    {{#if game_type}}\n    {{#eq game_type 90001}}\n    <div gametype="90001" class="bet-region">\n      \x3c!--<div class="region-info8 red" data-type="8">--\x3e\n        \x3c!--<div class="content-info-title"><h4 class="tz-xian">大</h4>--\x3e\n          \x3c!--<p>1:{{user_bet_odds.special8_odds}}</p></div>--\x3e\n        \x3c!--<div class="content-info-count"></div>--\x3e\n        \x3c!--<div class="content-info-tz" data-limit="bet_special8_limit"></div>--\x3e\n      \x3c!--</div>--\x3e\n      <div class="region-info5 blue" data-type="5">\n        <div class="content-info-title"><h4 class="tz-xian">闲 对</h4>\n          <p>1:{{user_bet_odds.xiandui_odds}}</p></div>\n        <div class="content-info-count"></div>\n        <div class="content-info-tz" data-limit="bet_xiandui_limit"></div>\n      </div>\n      <div class="region-info3 blue" data-type="3">\n        <div class="content-info-title"><h4 class="tz-xian">闲</h4>\n          <p>1:{{user_bet_odds.xian_odds}}</p></div>\n        <div class="content-info-count"></div>\n        <div class="content-info-tz" data-limit="bet_xian_limit"></div>\n      </div>\n      <div class="region-info1 green" data-type="1">\n        <div class="content-info-title"><h4 class="tz-he">和</h4>\n          <p>1:{{user_bet_odds.he_odds}}</p></div>\n        <div class="content-info-count"></div>\n        <div class="content-info-tz" data-limit="bet_he_limit"></div>\n      </div>\n      <div class="region-info2 red" data-type="2">\n        <div class="content-info-title"><h4 class="tz-zhuang">庄</h4>\n          <p>1:{{user_bet_odds.zhuang_odds}}</p></div>\n        <div class="content-info-count"></div>\n        <div class="content-info-tz" data-limit="bet_zhuang_limit"></div>\n      </div>\n      <div class="region-info4 red" data-type="4">\n        <div class="content-info-title"><h4 class="tz-zhuang">庄 对</h4>\n          <p>1:{{user_bet_odds.zhuangdui_odds}}</p></div>\n        <div class="content-info-count"></div>\n        <div class="content-info-tz" data-limit="bet_zhuangdui_limit"></div>\n      </div>\n      \x3c!--<div class="region-info9 blue" data-type="9">--\x3e\n        \x3c!--<div class="content-info-title"><h4 class="tz-xian">小</h4>--\x3e\n          \x3c!--<p>1:{{user_bet_odds.special9_odds}}</p></div>--\x3e\n        \x3c!--<div class="content-info-count"></div>--\x3e\n        \x3c!--<div class="content-info-tz" data-limit="bet_special9_limit"></div>--\x3e\n      \x3c!--</div>--\x3e\n    </div>\n    {{else}}\n    <div gametype="20001" class="bet-region">\n      \x3c!--<div class="region-info7 red" data-type="7">--\x3e\n        \x3c!--<div class="content-info-title"><h4 class="tz-zhuang">龙单</h4>--\x3e\n          \x3c!--<p>1:{{user_bet_odds.special7_odds}}</p></div>--\x3e\n        \x3c!--<div class="content-info-count"></div>--\x3e\n        \x3c!--<div class="content-info-tz" data-limit="bet_special7_limit"></div>--\x3e\n      \x3c!--</div>--\x3e\n      \x3c!--<div class="region-info6 red" data-type="6">--\x3e\n        \x3c!--<div class="content-info-title"><h4 class="tz-zhuang">龙双</h4>--\x3e\n          \x3c!--<p>1:{{user_bet_odds.special6_odds}}</p></div>--\x3e\n        \x3c!--<div class="content-info-count"></div>--\x3e\n        \x3c!--<div class="content-info-tz" data-limit="bet_special6_limit"></div>--\x3e\n      \x3c!--</div>--\x3e\n      <div class="region-info2 red" data-type="2">\n        <div class="content-info-title"><h4 class="tz-zhuang">龙</h4>\n          <p>1:{{user_bet_odds.zhuang_odds}}</p></div>\n        <div class="content-info-count"></div>\n        <div class="content-info-tz" data-limit="bet_zhuang_limit"></div>\n      </div>\n      <div class="region-info1 green" data-type="1">\n        <div class="content-info-title"><h4 class="tz-he">和</h4>\n          <p>1:{{user_bet_odds.he_odds}}</p></div>\n        <div class="content-info-count"></div>\n        <div class="content-info-tz" data-limit="bet_he_limit"></div>\n      </div>\n      <div class="region-info3 blue" data-type="3">\n        <div class="content-info-title"><h4 class="tz-xian">虎</h4>\n          <p>1:{{user_bet_odds.xian_odds}}</p></div>\n        <div class="content-info-count"></div>\n        <div class="content-info-tz" data-limit="bet_xian_limit"></div>\n      </div>\n      \x3c!--<div class="region-info8 blue" data-type="8">--\x3e\n        \x3c!--<div class="content-info-title"><h4 class="tz-xian">虎双</h4>--\x3e\n          \x3c!--<p>1:{{user_bet_odds.special8_odds}}</p></div>--\x3e\n        \x3c!--<div class="content-info-count"></div>--\x3e\n        \x3c!--<div class="content-info-tz" data-limit="bet_special8_limit"></div>--\x3e\n      \x3c!--</div>--\x3e\n      \x3c!--<div class="region-info9 blue" data-type="9">--\x3e\n        \x3c!--<div class="content-info-title"><h4 class="tz-xian">虎单</h4>--\x3e\n          \x3c!--<p>1:{{user_bet_odds.special9_odds}}</p></div>--\x3e\n        \x3c!--<div class="content-info-count"></div>--\x3e\n        \x3c!--<div class="content-info-tz" data-limit="bet_special9_limit"></div>--\x3e\n      \x3c!--</div>--\x3e\n    </div>\n    {{/eq}}\n    {{/if}}\n    <div class="content-tip-bg">\n      <h3 class="info">投注中, 请稍等!</h3>\n    </div>\n    \x3c!--<a class="btn btn-default glyphicon glyphicon-share-alt" id="betroom_region_btn_rollback"></a>--\x3e\n  </div>\n  <div id="betroom_time_container">\n    <div class="title">结算中</div>\n    <div class="time">0</div>\n  </div>\n  <div id="betroom_video_control">\n    <a class="btn btn-danger refresh">刷新视频&nbsp;&nbsp;<i class="icon-refresh"></i></a>\n    <a class="btn btn-danger switch"><span class="start">远</span>&nbsp;<i class="icon-switch-arrow"></i>&nbsp;<span class="end">近</span></a>\n    <a class="btn small">关闭画中画</a>\n  </div>\n  <a class="btn btn-danger roomswitch">\n    <i class="glyphicon glyphicon-triangle-left"></i>\n    桌</br>台</br>选</br>择</br>\n    <i class="glyphicon glyphicon-triangle-right"></i>\n  </a>\n</div>\n\n<div id="betroom_bottom" class="{{#if game_type}}{{#eq game_type 90001}}bjl{{else}}lh{{/eq}}{{/if}}">\n  <div id="betroom_winners_container">\n    <div id="betroom_winners"></div>\n  </div>\n  <div id="betroom_statistics_container">\n    <div id="betroom_statistics"></div>\n    <div id="betroom_wl" class="zx-forecast">\n      <div>\n        <ul class="xkkz">\n          <li>{{#if game_type}}{{#eq game_type 90001}}庄{{else}}龙{{/eq}}{{/if}}问路：</li>\n          <li class="bjl dyz"><span></span></li>\n          <li class="bjl xl"><span></span></li>\n          <li class="bjl xq"><span></span></li>\n        </ul>\n      </div>\n      <div>\n        <ul class="xkkx">\n          <li>{{#if game_type}}{{#eq game_type 90001}}闲{{else}}虎{{/eq}}{{/if}}问路：</li>\n          <li class="bjl dyz"><span></span></li>\n          <li class="bjl xl"><span></span></li>\n          <li class="bjl xq"><span></span></li>\n        </ul>\n      </div>\n    </div>\n  </div>\n  {{#if game_type}}{{#eq game_type 90001}}<div id="betroom_haoluo"></div>{{else}}{{/eq}}{{/if}}\n\n  <div id="betroom_chat_info">\n    <div class="message-list">\n      \x3c!--<div class="msg animated fadeInUp">欢迎光临维加斯！</div>--\x3e\n    </div>\n    <div class="chat-input-container">\n      <div class="msg-list">\n        <div class="msg-list-warpper"></div>\n        <div class="arrow"></div>\n      </div>\n      <input id="betroom_input_send_msg" type="text" readonly placeholder="请输入消息"/>\n      <a class="btn" id="betroom_btn_send_msg">发送</a>\n    </div>\n  </div>\n</div>\n'}),define("scripts/models/betroom/BetroomModel",["jquery","underscore","backbone"],function(t,e,i){return i.Model.extend({defaults:{username:sessionStorage.user?JSON.parse(sessionStorage.user).username:"",game_notice:sessionStorage.user?JSON.parse(sessionStorage.user).game_notice:"暂无公告",status:{msg:""},result:1,current_video:"remote",game_id:"0",table_id:"0",table_name:"百家乐",game_type:"90001",bet_record:[],is_fee:0,user_info:{bet_amount:0,user_profit:0,up_limit:"0",low_limit:"1",balance:0},bet_limit:{bet_zhuang_limit:"0",bet_xian_limit:"0",bet_he_limit:"0",bet_zhuangdui_limit:"0",bet_xiandui_limit:"0"},user_bet_odds:{he_odds:7,xian_odds:1,xiandui_odds:10,zhuang_odds:.95,zhuangdui_odds:10},game_top_period:{game_top:"0",game_period:0,zhuang_record:0,xian_record:0,he_record:0,zhuangdui_record:0,xiandui_record:0},cards:{winner:0,zhuang:{card_list:[],record:0,win:0},xian:{card_list:[],record:0,win:0}},winners:[[1,2,3]],game_tables:[{game_id:"",game_name:"百家乐1厅",game_type:"",table_id:"",table_name:"百家乐1"}],video:{remote_video_rtmp:"rtmp://live.hj8828.tv/live/time",remote_video_hls:"http://live1.hj8828.tv:8080/live/time.m3u8",close_video_rtmp:"rtmp://live.hj8828.tv/live/time",close_video_hls:"http://live1.hj8828.tv:8080/live/time.m3u8",hall1_rtmp:"rtmp://live.hj8828.tv/live/time",hall1_hls:"http://live1.hj8828.tv:8080/live/time.m3u8",hall2_rtmp:"rtmp://live.hj8828.tv/live/time",hall2_hls:"http://live1.hj8828.tv:8080/live/time.m3u8"}},clearall:function(){this.set(this.defaults,{silent:!0})}})}),define("text!scripts/templates/reward_dialog.html",[],function(){return'<div class="modal-dialog">\n  <div class="modal-content">\n    <div class="modal-body">\n      <div class="gift-list-container">\n        <div class="gift-item gift-20" data-val="20" data-name="棒棒糖"></div>\n        <div class="gift-item gift-50" data-val="50" data-name="气球"></div>\n        <div class="gift-item gift-100 select" data-val="100" data-name="黄瓜"></div>\n        <div class="gift-item gift-500" data-val="500" data-name="冰激凌"></div>\n        <div class="gift-item gift-1000" data-val="1000" data-name="一个热吻"></div>\n      </div>\n      <div class="btns-list">\n        <a class="btn btn-default" id="reward_modal_info_btn_ok">确 定</a>\n        <a class="btn btn-default" id="reward_modal_info_btn_cancel">取 消</a>\n      </div>\n    </div>\n  </div>\n</div>\n'}),define("scripts/views/main/RewardDialogView",["jquery","underscore","backbone","handlebars","scripts/ShowInfo","scripts/streams/SocketStream","scripts/views/main/AudioPlayer","text!scripts/templates/reward_dialog.html"],function(i,t,e,n,s,o,a,r){"use strict";return e.View.extend({attributes:{id:"modal_reward",class:"modal fade",tabindex:"-1",role:"dialog"},initialize:function(){this.listenTo(o,"pack_type37",this.gift_response)},template:n.compile(r),events:{"click #reward_modal_info_btn_cancel":"hide","click #reward_modal_info_btn_ok":"click_reward_ok","click .gift-list-container .gift-item":"click_select_gift"},render:function(t){return this.$el.html(this.template(t)),i("body").append(this.$el),this},show:function(){return this.$el.modal("show"),this},hide:function(){return this.$el.modal("hide"),this},gift_response:function(t){1==t.data.result?(a.play("thanks.mp3"),s.tip("礼物赠送成功！")):s.tip(t.data.err_msg)},click_reward_ok:function(t){t.stopPropagation();var e=this.$(".gift-list-container .gift-item.select");o.trigger("send",{pack_type:37,data:{session_id:sessionStorage.getItem("user")?JSON.parse(sessionStorage.getItem("user")).session_id:"",table_id:this.model.get("table_id"),game_id:this.model.get("game_id"),gift_name:e.data("name"),gift_price:e.data("val")}})},click_select_gift:function(t){t.stopPropagation();var e=i(t.currentTarget);this.$(".gift-list-container .gift-item").removeClass("select"),e.addClass("select")}})}),define("text!scripts/templates/hall_video_dialog.html",[],function(){return'<div class="modal-dialog">\n  <div class="modal-content">\n    <div class="modal-header">\n      <button type="button" class="close" data-dismiss="modal" aria-label="Close"></button>\n      \x3c!--<h4 class="modal-title"><span class="glyphicon glyphicon-cog"></span>密码修改</h4>--\x3e\n    </div>\n    <div class="modal-body">\n      <video id="hall_video" name="videoElement" class="centeredVideo" preload="auto" autoplay>\n        您的浏览器版本太低，请先升级浏览器！\n      </video>\n    </div>\n  </div>\n</div>\n'}),define("scripts/views/main/HallVideoDialogView",["jquery","underscore","backbone","handlebars","scripts/ShowInfo","text!scripts/templates/hall_video_dialog.html"],function(t,e,i,n,s,o){"use strict";return i.View.extend({attributes:{id:"modal_hall_video",class:"modal fade",tabindex:"-1",role:"dialog"},template:n.compile(o),events:{"hidden.bs.modal":"hidden_modal","click .btn-shoushi":"click_shoushi"},render:function(){return this.$el.html(this.template()),t("body").append(this.$el),this.video_element=this.$("#hall_video")[0],this},show:function(){this.$el.modal("show");var t=this,e=JSON.parse(sessionStorage.user).system_videos,i=e.flv_address+"/"+e.hall1_name+".flv";return void 0!==this.video&&null!=this.video&&(this.video.unload(),this.video.detachMediaElement(),this.video.destroy(),this.video=null),this.video=flvjs.createPlayer({type:"flv",cors:!0,withCredentials:!1,url:i,isLive:!0,hasAudio:!1,hasVideo:!0},{enableWorker:!0,autoCleanupSourceBuffer:!0,enableStashBuffer:!1,stashInitialSize:128}),this.video.attachMediaElement(this.video_element),this.video.load(),this.video_thread&&clearInterval(this.video_thread),this.video_thread=setInterval(function(){0<t.video_element.buffered.length&&2<t.video_element.buffered.end(0)-t.video_element.currentTime&&(t.video_element.currentTime=t.video_element.buffered.end(0)-2)},5e3),this},hide:function(){return this.$el.modal("hide"),this},hidden_modal:function(){try{this.video_thread&&clearInterval(this.video_thread),this.video.unload(),this.video.detachMediaElement(),this.video.destroy(),this.video=null}catch(t){}this.remove()},click_shoushi:function(){this.hide()}})}),define("text!scripts/templates/betroom/instantpools.html",[],function(){return'<div class="title">即时彩池</div>\n{{#if game_type}}\n{{#eq game_type 90001}}\n<div class="item"><div class="label">庄</div><div class="val">{{instant_pools.zhuang}}</div></div>\n<div class="item"><div class="label">闲</div><div class="val">{{instant_pools.xian}}</div></div>\n<div class="item"><div class="label">和</div><div class="val">{{instant_pools.he}}</div></div>\n\x3c!--<div class="item"><div class="label">大</div><div class="val">{{instant_pools.special8}}</div></div>--\x3e\n\x3c!--<div class="item"><div class="label">小</div><div class="val">{{instant_pools.special9}}</div></div>--\x3e\n<div class="item"><div class="label">庄对</div><div class="val">{{instant_pools.zhuangdui}}</div></div>\n<div class="item"><div class="label">闲对</div><div class="val">{{instant_pools.xiandui}}</div></div>\n{{else}}\n<div class="item"><div class="label">龙</div> <div class="val">{{instant_pools.zhuang}}</div></div>\n<div class="item"><div class="label">虎</div> <div class="val">{{instant_pools.xian}}</div></div>\n<div class="item"><div class="label">和</div> <div class="val">{{instant_pools.he}}</div></div>\n\x3c!--<div class="item"><div class="label">龙双</div> <div class="val">{{instant_pools.special6}}</div></div>--\x3e\n\x3c!--<div class="item"><div class="label">龙单</div> <div class="val">{{instant_pools.special7}}</div></div>--\x3e\n\x3c!--<div class="item"><div class="label">虎双</div> <div class="val">{{instant_pools.special8}}</div></div>--\x3e\n\x3c!--<div class="item"><div class="label">虎单</div> <div class="val">{{instant_pools.special9}}</div></div>--\x3e\n{{/eq}}\n{{/if}}\n'}),define("scripts/views/main/betroom/InstantPoolsView",["jquery","underscore","backbone","handlebars","text!scripts/templates/betroom/instantpools.html"],function(t,e,i,n,s){"use strict";return i.View.extend({template:n.compile(s),initialize:function(){this.listenTo(this.model,"change:instant_pools",this.render)},render:function(){return this.$el.html(this.template(this.model.toJSON())),this}})}),define("text!scripts/templates/betroom/recommendroom.html",[],function(){return'<div class="recommend-room-top text-center">\n  <div class="title">{{table_name}}</div>\n  <div class="time">\n    \x3c!--<div class="title">计时中</div>--\x3e\n    <div class="count">{{rest_time}}</div>\n  </div>\n  <div class="recommend-haoluo">{{road_name}}</div>\n</div>\n<div class="recommend-room-winner">\n  {{#generate_dl winners 70 game_type}}{{/generate_dl}}\n</div>\n'}),define("scripts/views/main/betroom/RecommendRoomView",["jquery","underscore","backbone","bootstrap","handlebars","text!scripts/templates/betroom/recommendroom.html"],function(t,e,i,n,s,o){"use strict";return i.View.extend({attributes:{class:"item"},template:s.compile(o),events:{click:"enterRoom"},initialize:function(){this.listenTo(this.model,"remove",this.clear),this.listenTo(this.model,"change",this.render)},render:function(){this.$el.html(this.template(this.model.toJSON())),this.$el.data("table_id",this.model.get("table_id")),this.$el.data("recommend",this.model.get("recommend"));var t=this;return e.delay(function(){t.winnerstable=t.$("table.dl"),t.winnerstable_container=t.winnerstable.closest(".recommend-room-winner"),t.$table_td_width=t.winnerstable.width()/70,t.winnerstable_container.width()<(t.winnerstable.data("last-col")+2)*t.$table_td_width&&t.winnerstable.css({left:t.winnerstable_container.width()-(t.winnerstable.data("last-col")+2)*t.$table_td_width+"px"})},100),this.starttime(),this},starttime:function(){var t=this,e=this.model.get("rest_time"),i=this.$(".recommend-room-top .time"),n=this.$(".recommend-room-top .time .title");if(0<e){var s=this.$(".recommend-room-top .time .count")[0];this.thread&&clearInterval(this.thread),n.html("计时中"),i.addClass("start"),this.thread=setInterval(function(){0===e&&(clearInterval(t.thread),n.html("结算中"),i.removeClass("start")),s.innerHTML=e,e--},1e3)}else n.html("结算中"),i.removeClass("start")},enterRoom:function(){window.workspace.navigate("#betroom/"+this.model.get("game_id")+"/90001/"+this.model.get("table_id"),{trigger:!0,replace:!0})},clear:function(){this.remove()}})}),define("text!scripts/templates/betroom/recommend.html",[],function(){return'<div class="recommend-title">好路提示</div>\n<div class="room-list">\n  <div class="room-list-warpper"></div>\n</div>\n'}),define("scripts/views/main/betroom/RecommendView",["jquery","underscore","backbone","handlebars","scripts/streams/SocketStream","scripts/collections/nav/NavRoomsCollections","scripts/views/main/betroom/RecommendRoomView","text!scripts/templates/betroom/recommend.html"],function(t,n,e,i,s,o,a,r){"use strict";return e.View.extend({template:i.compile(r),roomsCollections:new o,attributes:{id:"betroom_recommend_container",class:"animated fadeIn"},initialize:function(){this.listenTo(s,"pack_type31",this.setrooms),this.listenTo(this.roomsCollections,"add",this.addRoom)},render:function(){return this.$el.html(this.template()),this.$contentMain=this.$(".room-list .room-list-warpper"),this.roomsView=[],this.thread=setInterval(function(){this.sendData()}.bind(this),5e3),this.sendData(),this},sendData:function(){s.trigger("send",{pack_type:31,data:{session_id:sessionStorage.getItem("user")?JSON.parse(sessionStorage.getItem("user")).session_id:""}})},exit:function(){return clearTimeout(this.roomdelay),clearInterval(this.thread),this.removeAllRoom(),this},setrooms:function(t){var e=this,i=n.each(t.data.tables,function(t){return t.id=t.table_id,t});this.roomsCollections.set(i),clearTimeout(this.roomdelay),this.roomdelay=n.delay(function(){e.renderroomThread=setInterval(function(){e.$contentMain&&0<e.roomsView.length?(e.$contentMain.append(e.roomsView[0].render().$el),e.roomsView.shift()):clearInterval(e.renderroomThread)},200)},500)},addRoom:function(t){var e=new a({model:t});this.roomsView.push(e)},removeAllRoom:function(){n.each(this.roomsView,function(t){t.remove()}),this.roomsView=[],this.roomsCollections.set([])}})}),define("text!scripts/templates/switch/bjllhroom.html",[],function(){return'<div class="switch-room-top text-center">\n  <div class="title">{{table_name}}</div>\n  <div class="time">\n    <div class="title">计时中</div>\n    <div class="count">{{rest_time}}</div>\n  </div>\n  <div class="current-position"></div>\n</div>\n<div class="switch-room-winner">\n  {{#generate_dl winners 70 game_type}}{{/generate_dl}}\n</div>\n'}),define("scripts/views/main/switch/BjllhRoomView",["jquery","underscore","backbone","bootstrap","handlebars","text!scripts/templates/switch/bjllhroom.html"],function(t,i,e,n,s,o){"use strict";return e.View.extend({attributes:{class:"item bjllh"},template:s.compile(o),events:{click:"enterRoom"},initialize:function(){this.listenTo(this.model,"remove",this.clear),this.listenTo(this.model,"change",this.render)},render:function(){this.$el.addClass("animated fadeIn"),this.$el.html(this.template(this.model.toJSON())),this.$el.data("table_id",this.model.get("table_id")),this.$el.data("recommend",this.model.get("recommend"));var t=location.hash.split("/").splice(-1)[0];this.model.get("table_id")==t&&this.$(".current-position").css("display","flex");var e=this;return i.delay(function(){e.winnerstable=e.$("table.dl"),e.winnerstable_container=e.winnerstable.closest(".switch-room-winner"),e.$table_td_width=e.winnerstable.width()/70,e.winnerstable_container.width()<(e.winnerstable.data("last-col")+2)*e.$table_td_width&&e.winnerstable.css({left:e.winnerstable_container.width()-(e.winnerstable.data("last-col")+2)*e.$table_td_width+"px"})},200),this.starttime(),this},starttime:function(){var t=this,e=this.model.get("rest_time"),i=this.$(".switch-room-top .time"),n=this.$(".switch-room-top .time .title");if(0<e){var s=this.$(".switch-room-top .time .count")[0];this.thread&&clearInterval(this.thread),n.html("计时中"),i.addClass("start"),this.thread=setInterval(function(){0===e&&(clearInterval(t.thread),n.html("结算中"),i.removeClass("start")),s.innerHTML=e,e--},1e3)}else n.html("结算中"),i.removeClass("start")},enterRoom:function(){var t=JSON.parse(sessionStorage.getItem("user")).user_game_limit,e=this.model.get("game_type"),i=this.model.get("game_id"),n=this.model.get("table_id"),s="#betroom/";(t[1]&&"5"==i||t[2])&&(s="#phoneroom/");var o=s+i+"/"+e+"/"+n;o!==window.location.hash&&window.workspace.navigate(o,{trigger:!0,replace:!0})},clear:function(){this.remove()}})}),define("text!scripts/templates/switch/niuniuroom.html",[],function(){return'<div class="switch-room-top text-center">\n  <div class="title">{{table_name}}</div>\n  <div class="time">\n    <div class="title">计时中</div>\n    <div class="count">{{rest_time}}</div>\n  </div>\n  <div class="current-position"></div>\n</div>\n<div class="switch-room-winner">\n  <div class="header">\n    <div class="zhuang">庄</div>\n    <div class="xian">闲1</div>\n    <div class="xian">闲2</div>\n    <div class="xian">闲3</div>\n  </div>\n  <div class="content">\n    {{#generate_niuniu winners 5}}{{/generate_niuniu}}\n  </div>\n</div>\n'}),define("scripts/views/main/switch/NiuniuRoomView",["jquery","underscore","backbone","bootstrap","handlebars","text!scripts/templates/switch/niuniuroom.html"],function(t,e,i,n,s,o){"use strict";return i.View.extend({attributes:{class:"item niuniu"},template:s.compile(o),events:{click:"enterRoom"},initialize:function(){this.listenTo(this.model,"remove",this.clear),this.listenTo(this.model,"change",this.render)},render:function(){this.$el.addClass("animated fadeIn"),this.$el.html(this.template(this.model.toJSON())),this.$el.data("table_id",this.model.get("table_id")),this.$el.data("recommend",this.model.get("recommend"));var t=location.hash.split("/").splice(-1)[0];return this.model.get("table_id")==t&&this.$(".current-position").css("display","flex"),this.starttime(),this},starttime:function(){var t=this,e=this.model.get("rest_time"),i=this.$(".switch-room-top .time"),n=this.$(".switch-room-top .time .title");if(0<e){var s=this.$(".switch-room-top .time .count")[0];this.thread&&clearInterval(this.thread),n.html("计时中"),i.addClass("start"),this.thread=setInterval(function(){0===e&&(clearInterval(t.thread),n.html("结算中"),i.removeClass("start")),s.innerHTML=e,e--},1e3)}else n.html("结算中"),i.removeClass("start")},enterRoom:function(){var t="#niuniuroom/4/30001/"+this.model.get("table_id");window.workspace.navigate(t,{trigger:!0,replace:!0})},clear:function(){this.remove()}})}),define("text!scripts/templates/switch/list.html",[],function(){return'<div class="game-types-btns">\n  <div class="btn-item" data-type="90001">百家乐</div>\n  <div class="btn-item" data-type="20001">龙虎</div>\n  <div class="btn-item" data-type="30001">牛牛</div>\n</div>\n<div class="room-list">\n  <div class="room-list-warpper"></div>\n</div>\n'}),define("scripts/views/main/switch/RoomListView",["jquery","underscore","backbone","handlebars","scripts/streams/SocketStream","scripts/collections/nav/NavRoomsCollections","scripts/views/main/switch/BjllhRoomView","scripts/views/main/switch/NiuniuRoomView","text!scripts/templates/switch/list.html"],function(e,i,t,n,s,o,a,r,l){"use strict";return t.View.extend({template:n.compile(l),roomsCollections:new o,attributes:{id:"switch_room_container",class:"animated fadeIn"},events:{"click .game-types-btns .btn-item":"click_switch_type"},initialize:function(t){this.listenTo(s,"pack_type32",this.setrooms),this.listenTo(this.roomsCollections,"add",this.addRoom),this.opts=t},render:function(){return this.$el.html(this.template()),e("#main").append(this.$el),this.$contentMain=this.$(".room-list .room-list-warpper"),this.roomsView=[],this.$('.game-types-btns .btn-item[data-type="'+this.opts.game_type+'"]').trigger("click"),this},click_close:function(){this.removeAllRoom(),this.remove()},click_switch_type:function(t){t.stopPropagation(),this.$(".game-types-btns .btn-item.select").removeClass("select"),e(t.currentTarget).addClass("select"),s.trigger("send",{pack_type:32,data:{game_type:e(t.currentTarget).data("type"),session_id:sessionStorage.getItem("user")?JSON.parse(sessionStorage.getItem("user")).session_id:""}})},setrooms:function(t){var e=this;this.removeAllRoom(),this.roomsCollections.set(t.data.tables),clearTimeout(this.roomdelay),this.roomdelay=i.delay(function(){e.renderroomThread=setInterval(function(){e.$contentMain&&0<e.roomsView.length?(e.$contentMain.append(e.roomsView[0].render().$el),e.roomsView.shift()):clearInterval(e.renderroomThread)},200)},100)},addRoom:function(t){var e=null;e=30001!=t.get("game_type")?new a({model:t}):new r({model:t}),this.roomsView.push(e)},removeAllRoom:function(){i.each(this.roomsView,function(t){t.remove()}),this.roomsView=[],this.roomsCollections.set([])}})}),define("text!scripts/templates/betroom/resultcards.html",[],function(){return'<div class="xian {{#if cards.xian.win}}{{#eq cards.xian.win 1}}win{{/eq}}{{/if}}">\n  <div class="title">\n    <div>{{#if game_type}}{{#eq game_type 90001}}闲{{else}}虎{{/eq}}{{/if}}</div>\n    <div>{{cards.xian.record}}</div>\n  </div>\n  <div class="cards">\n    {{#each cards.xian.card_list}}\n    <div class="card-{{this}}"></div>\n    {{/each}}\n  </div>\n</div>\n<div class="zhuang {{#if cards.zhuang.win}}{{#eq cards.zhuang.win 1}}win{{/eq}}{{/if}}">\n  <div class="title">\n    <div>{{#if game_type}}{{#eq game_type 90001}}庄{{else}}龙{{/eq}}{{/if}}</div>\n    <div>{{cards.zhuang.record}}</div>\n  </div>\n  <div class="cards">\n    {{#each cards.zhuang.card_list}}\n    <div class="card-{{this}}"></div>\n    {{/each}}\n  </div>\n</div>\n'}),define("scripts/views/main/betroom/ResultCardsView",["jquery","underscore","backbone","handlebars","scripts/views/main/AudioPlayer","text!scripts/templates/betroom/resultcards.html"],function(t,e,i,n,s,o){"use strict";return i.View.extend({template:n.compile(o),attributes:{class:"cards-container-warpper animated fadeInDown"},initialize:function(){this.listenTo(this.model,"change:cards",this.render)},render:function(){var t=this.model.toJSON(),e=t.game_type;return(0<t.cards.zhuang.card_list.length||0<t.cards.xian.card_list.length)&&(s.push("show_card.mp3"),0==t.cards.more&&(s.push(90001==e?"zhuang.mp3":"long.mp3"),s.push("dian_"+t.cards.zhuang.record+".mp3"),s.push(90001==e?"xian.mp3":"hu.mp3"),s.push("dian_"+t.cards.xian.record+".mp3"))),this.$el.html(this.template(t)),this}})}),define("text!scripts/templates/betroom/userinfo.html",[],function(){return'<div class="item user-money"><i class="icon-money"></i>&nbsp;<div class="val">{{user_info.balance}}</div>\n</div>\n'}),define("scripts/views/main/betroom/UserinfoView",["jquery","underscore","backbone","handlebars","text!scripts/templates/betroom/userinfo.html"],function(t,e,i,n,s){"use strict";return i.View.extend({template:n.compile(s),events:{},initialize:function(){this.listenTo(this.model,"change:user_info",this.render)},render:function(){return this.model.attributes.user_info.balance=Math.floor(this.model.attributes.user_info.balance),this.$el.html(this.template(this.model.toJSON())),this}})}),define("text!scripts/templates/betroom/betstatus.html",[],function(){return'  {{#if game_type}}\n  {{#eq game_type 90001}}\n  <div class="item"><div class="label">庄闲</div> <div class="val">{{bet_limit.bet_zhuang_limit}}</div></div>\n  <div class="item"><div class="label">对子</div> <div class="val">{{bet_limit.bet_zhuangdui_limit}}</div></div>\n  <div class="item"><div class="label">和</div> <div class="val">{{bet_limit.bet_he_limit}}</div></div>\n  \x3c!--<div class="item"><div class="label">大小</div> <div class="val">{{bet_limit.bet_special8_limit}}</div></div>--\x3e\n  {{else}}\n  <div class="item"><div class="label">龙</div> <div class="val">{{bet_limit.bet_zhuang_limit}}</div></div>\n  <div class="item"><div class="label">虎</div> <div class="val">{{bet_limit.bet_xian_limit}}</div></div>\n  <div class="item"><div class="label">和</div> <div class="val">{{bet_limit.bet_he_limit}}</div></div>\n  \x3c!--<div class="item"><div class="label">单双</div> <div class="val">{{bet_limit.bet_special8_limit}}</div></div>--\x3e\n  {{/eq}}\n  {{/if}}\n'}),define("scripts/views/main/betroom/BetstatusView",["jquery","underscore","backbone","handlebars","text!scripts/templates/betroom/betstatus.html"],function(t,e,i,n,s){"use strict";return i.View.extend({template:n.compile(s),events:{},initialize:function(){this.listenTo(this.model,"change:bet_limit",this.render)},render:function(t){return this.$el.html(this.template(t.toJSON())),this}})}),define("text!scripts/templates/betroom/statistics.html",[],function(){return'{{#if game_type}}\n{{#eq game_type 90001}}\n<div class="zhuang">庄: <div class="val">{{game_top_period.zhuang_record}}</div></div>\n<div class="xian">闲: <div class="val">{{game_top_period.xian_record}}</div></div>\n<div class="he">和: <div class="val">{{game_top_period.he_record}}</div></div>\n<div class="zhuang">庄对: <div class="val">{{game_top_period.zhuangdui_record}}</div></div>\n<div class="xian">闲对: <div class="val">{{game_top_period.xiandui_record}}</div></div>\n{{else}}\n<div class="zhuang">龙: <div class="val">{{game_top_period.zhuang_record}}</div></div>\n<div class="xian">虎: <div class="val">{{game_top_period.xian_record}}</div></div>\n<div class="he">和: <div class="val">{{game_top_period.he_record}}</div></div>\n{{/eq}}\n{{/if}}\n'}),define("scripts/views/main/betroom/StatisticsView",["jquery","underscore","backbone","handlebars","text!scripts/templates/betroom/statistics.html"],function(t,e,i,n,s){"use strict";return i.View.extend({template:n.compile(s),events:{},initialize:function(){this.listenTo(this.model,"change:game_top_period",this.render)},render:function(t){return this.$el.html(this.template(t.toJSON())),this}})}),define("text!scripts/templates/betroom/jukou.html",[],function(){return'<div class="label">靴次/口次</div><div class="val">{{game_top_period.game_top}}/{{game_top_period.game_period}}</div>\n'}),define("scripts/views/main/betroom/JukouView",["jquery","underscore","backbone","handlebars","text!scripts/templates/betroom/jukou.html"],function(t,e,i,n,s){"use strict";return i.View.extend({template:n.compile(s),events:{},initialize:function(){this.listenTo(this.model,"change:game_top_period",this.render)},render:function(t){return this.$el.html(this.template(t.toJSON())),this}})}),define("text!scripts/templates/betroom/winners.html",[],function(){return'<div class="col-xs-6 row1-col1">\n  <div class="winners-move-1">\n    <a class="arrow-left"></a>\n    <a class="arrow-right"></a>\n  </div>\n  {{#generate_zp winners 25 game_type}}{{/generate_zp}}\n</div>\n<div class="col-xs-6 row1-col2">\n  <div class="row row1">\n    <div class="winners-move-2">\n      <a class="arrow-left"></a>\n      <a class="arrow-right"></a>\n    </div>\n    {{#generate_dl winners 75 game_type}}{{/generate_dl}}\n  </div>\n  <div class="row row2">\n    <div class="row">\n      <div class="col-xs-6 col-dyz">\n        {{#generate_xsl winners 75 game_type \'dyz\'}}{{/generate_xsl}}\n      </div>\n      <div class="col-xs-6 col-xl">\n        {{#generate_xsl winners 75 game_type \'xl\'}}{{/generate_xsl}}\n      </div>\n    </div>\n    <div class="row">\n      <div class="col-xs-6 col-xq">\n        {{#generate_xsl winners 75 game_type \'xq\'}}{{/generate_xsl}}\n      </div>\n      <div class="col-xs-6 col-jyl">\n        {{#generate_jyl winners 50 game_type}}{{/generate_jyl}}\n      </div>\n    </div>\n    <div class="winners-move-3">\n      <a class="arrow-left"></a>\n      <a class="arrow-right"></a>\n    </div>\n  </div>\n</div>\n'}),define("scripts/views/main/betroom/WinnersView",["jquery","underscore","backbone","handlebars","scripts/views/main/WinnersUtils","text!scripts/templates/betroom/winners.html"],function(t,i,e,n,s,o){"use strict";return e.View.extend({tagName:"div",template:n.compile(o),events:{"click .winners-move-1 .arrow-left":"clickbtnprev","click .winners-move-1 .arrow-right":"clickbtnnext","click .winners-move-2 .arrow-left":"clickbtntab1prev","click .winners-move-2 .arrow-right":"clickbtntab1next","click .winners-move-3 .arrow-left":"clickbtntab2prev","click .winners-move-3 .arrow-right":"clickbtntab2next"},initialize:function(){this.listenTo(this.model,"change:winners",this.render)},render:function(){var t=this;return i.delay(function(){t.showwinners()},10),this},showwinners:function(t){var e=this;this.$el.html(this.template({winners:t||this.model.get("winners"),game_type:this.model.get("game_type")})),i.delay(function(){e.resettable(),e.adjustWinnersContainer(e.col1_table.data("last-col"),e.col2_row1_table1.data("last-col"),e.col2_row2_table1.data("last-col"),e.col2_row2_table2.data("last-col"),e.col2_row2_table3.data("last-col"),e.col2_row2_table4.data("last-col"))},10)},resettable:function(){this.col1_table=this.$("table.zp"),this.col2_row1_table1=this.$("table.dl"),this.col2_row2_table1=this.$("table.dyz"),this.col2_row2_table2=this.$("table.xl"),this.col2_row2_table3=this.$("table.xq"),this.col2_row2_table4=this.$("table.jyl"),this.col1_table_container=this.$(".row1-col1"),this.col2_row1_table1_container=this.col2_row1_table1.closest(".row"),this.col2_row2_table1_container=this.col2_row2_table1.closest(".col-xs-6"),this.col2_row2_table2_container=this.col2_row2_table2.closest(".col-xs-6"),this.col2_row2_table3_container=this.col2_row2_table3.closest(".col-xs-6"),this.col2_row2_table4_container=this.col2_row2_table4.closest(".col-xs-6"),this.$table_td_width=this.col1_table.width()/25,this.$table1_td_width=this.col2_row1_table1.width()/75,this.$table2_td_width=this.col2_row2_table1.width()/75,this.$table3_td_width=this.col2_row2_table2.width()/75,this.$table4_td_width=this.col2_row2_table3.width()/75,this.$table5_td_width=this.col2_row2_table4.width()/50},adjustWinnersContainer:function(t,e,i,n,s,o){this.col1_table_container.width()<(t+2)*this.$table_td_width&&this.col1_table.css({left:this.col1_table_container.width()-(t+2)*this.$table_td_width+"px"}),this.col2_row1_table1_container.width()<(e+2)*this.$table1_td_width&&this.col2_row1_table1.css({left:this.col2_row1_table1_container.width()-(e+2)*this.$table1_td_width+"px"}),this.col2_row2_table1_container.width()<(i+2)*this.$table2_td_width&&this.col2_row2_table1.css({left:this.col2_row2_table1_container.width()-(i+2)*this.$table2_td_width+"px"}),this.col2_row2_table2_container.width()<(n+2)*this.$table3_td_width&&this.col2_row2_table2.css({left:this.col2_row2_table2_container.width()-(n+2)*this.$table3_td_width+"px"}),this.col2_row2_table3_container.width()<(s+2)*this.$table4_td_width&&this.col2_row2_table3.css({left:this.col2_row2_table3_container.width()-(s+2)*this.$table4_td_width+"px"}),this.col2_row2_table4_container.width()<(o+2)*this.$table5_td_width&&this.col2_row2_table4.css({left:this.col2_row2_table1_container.width()-(o+2)*this.$table5_td_width+"px"})},clickbtnnext:function(t){t.stopPropagation(),-this.col1_table.position().left+this.col1_table_container.width()<this.col1_table.width()&&this.col1_table.css({left:this.col1_table.position().left-this.$table_td_width+"px"})},clickbtnprev:function(t){t.stopPropagation(),this.col1_table.position().left<-this.$table_td_width?this.col1_table.css({left:this.col1_table.position().left+this.$table_td_width+"px"}):this.col1_table.position().left>=-this.$table_td_width&&this.col1_table.position().left<0&&this.col1_table.css({left:"0px"})},clickbtntab1next:function(t){t.stopPropagation(),-this.col2_row1_table1.position().left+this.col2_row1_table1_container.width()<this.col2_row1_table1.width()&&this.col2_row1_table1.css({left:this.col2_row1_table1.position().left-this.$table1_td_width+"px"})},clickbtntab1prev:function(t){t.stopPropagation(),this.col2_row1_table1.position().left<-this.$table1_td_width?this.col2_row1_table1.css({left:this.col2_row1_table1.position().left+this.$table1_td_width+"px"}):this.col2_row1_table1.position().left>=-this.$table1_td_width&&this.col2_row1_table1.position().left<0&&this.col2_row1_table1.css({left:"0px"})},clickbtntab2next:function(t){t.stopPropagation(),-this.col2_row2_table1.position().left+this.col2_row2_table1_container.width()<this.col2_row2_table1.width()&&this.col2_row2_table1.css({left:this.col2_row2_table1.position().left-this.$table2_td_width+"px"}),-this.col2_row2_table2.position().left+this.col2_row2_table2_container.width()<this.col2_row2_table2.width()&&this.col2_row2_table2.css({left:this.col2_row2_table2.position().left-this.$table3_td_width+"px"}),-this.col2_row2_table3.position().left+this.col2_row2_table3_container.width()<this.col2_row2_table3.width()&&this.col2_row2_table3.css({left:this.col2_row2_table3.position().left-this.$table4_td_width+"px"}),-this.col2_row2_table4.position().left+this.col2_row2_table4_container.width()<this.col2_row2_table4.width()&&this.col2_row2_table4.css({left:this.col2_row2_table4.position().left-this.$table5_td_width+"px"})},clickbtntab2prev:function(t){t.stopPropagation(),this.col2_row2_table1.position().left<-this.$table2_td_width?this.col2_row2_table1.css({left:this.col2_row2_table1.position().left+this.$table2_td_width+"px"}):this.col2_row2_table1.position().left>=-this.$table2_td_width&&this.col2_row2_table1.position().left<0&&this.col2_row2_table1.css({left:"0px"}),this.col2_row2_table2.position().left<-this.$table3_td_width?this.col2_row2_table2.css({left:this.col2_row2_table2.position().left+this.$table3_td_width+"px"}):this.col2_row2_table2.position().left>=-this.$table3_td_width&&this.col2_row2_table2.position().left<0&&this.col2_row2_table2.css({left:"0px"}),this.col2_row2_table3.position().left<-this.$table4_td_width?this.col2_row2_table3.css({left:this.col2_row2_table3.position().left+this.$table4_td_width+"px"}):this.col2_row2_table3.position().left>=-this.$table4_td_width&&this.col2_row2_table3.position().left<0&&this.col2_row2_table3.css({left:"0px"}),this.col2_row2_table4.position().left<-this.$table5_td_width?this.col2_row2_table4.css({left:this.col2_row2_table4.position().left+this.$table5_td_width+"px"}):this.col2_row2_table4.position().left>=-this.$table5_td_width&&this.col2_row2_table4.position().left<0&&this.col2_row2_table4.css({left:"0px"})}})}),define("scripts/views/main/betroom/BetroomView",["jquery","underscore","backbone","bootstrap","scripts/ShowInfo","handlebars","scripts/Utils","scripts/views/main/OpenWindow","scripts/views/main/AudioPlayer","text!scripts/templates/betroom/betroom.html","scripts/views/main/WinnersUtils","scripts/models/betroom/BetroomModel","scripts/streams/SocketStream","scripts/views/main/RewardDialogView","scripts/views/main/HallVideoDialogView","scripts/views/main/SystemSettingDialogView","scripts/views/main/history/HistoryDialogView","scripts/views/main/rules/RulesDialogView","scripts/views/main/betroom/InstantPoolsView","scripts/views/main/betroom/RecommendView","scripts/views/main/switch/RoomListView","scripts/views/main/betroom/ResultCardsView","scripts/views/main/betroom/UserinfoView","scripts/views/main/betroom/BetstatusView","scripts/views/main/betroom/StatisticsView","scripts/views/main/betroom/JukouView","scripts/views/main/betroom/WinnersView"],function(l,c,t,e,r,i,n,s,d,o,h,a,u,p,m,f,v,_,g,b,w,y,x,k,S,$,z){"use strict";return t.View.extend({attributes:{id:"betroom_content"},template:i.compile(o),opts:{},model:new a,leftView:null,events:{"click .betroom-bg":"click_default","dblclick .betroom-bg":"dblclick_default","click .btn-history":"click_history","click .btn-fullscreen":"click_fullscreen","click .btn-setting":"click_setting","click .btn-audio":"click_audio","click .btn-rules":"click_rules","click .btn-exit":"click_exit","click #betroom_region_btn_reset":"click_rollback_tz","click #betroom_wl .xkkz":"click_btn_zwl","click #betroom_wl .xkkx":"click_btn_xwl","click #betroom_btn_reward":"click_reward","click #betroom_input_send_msg":"click_show_msg_list","click .chat-input-container .msg-list-warpper>div":"click_select_msg","keyup #betroom_input_send_msg":"keyup_send_msg","click #betroom_btn_send_msg":"send_msg","click #betroom_chip_container .chip-item":"click_img_tz","click #betroom_chip_container .up":"click_chip_up","click #betroom_chip_container .down":"click_chip_down","click #betroom_video_control a.refresh":"click_refresh_video","click #betroom_video_control a.switch":"click_switch_video","click #betroom_video_control a.small":"click_toggle_small","click #betroom_video_warpper .video-small":"click_switch_video","click a.roomswitch":"click_switch_room","click #betroom_region_container>div.bet-region>div":"mouseup_tz","click #betroom_region_btn_mianyong":"click_btn_mianyong","click #betroom_region_btn_again":"click_btn_again","click #betroom_region_btn_ok":"click_btn_ensure","click #betroom_region_btn_cancel":"click_btn_clear"},initialize:function(t){this.listenTo(this.model,"change:table_id",this.render),this.listenTo(this.model,"change:is_fee",this.refresh_region),this.listenTo(this.model,"change:user_info",this.change_user_info),this.listenTo(u,"pack_type1",this.fillroom),this.listenTo(u,"pack_type3",this.finishtz),this.listenTo(u,"pack_type4",this.drawtz),this.listenTo(u,"pack_type5",this.statrtz),this.listenTo(u,"pack_type6",this.resetdraw),this.listenTo(u,"pack_type7",this.exchangepoker),this.listenTo(u,"pack_type8",this.stoptime),this.listenTo(u,"pack_type11",this.refreshstatus),this.listenTo(u,"pack_type16",this.canceltz),this.listenTo(u,"pack_type24",this.livechat),this.listenTo(u,"pack_type33",this.msglist),this.listenTo(this,"enterRoom",this.enterRoom),this.leftView=t.leftView},render:function(){var t=this;r.loading(!1),this.$el.html(this.template(this.model.toJSON())),this.$(".btn-fullscreen .title").html(screenfull.isFullscreen?"退出全屏":"进入全屏"),this.userinfoView=new x({model:this.model}),this.statisticsView=new S({model:this.model}),this.betstatusView=new k({model:this.model}),this.jukouView=new $({model:this.model}),this.winnersView=new z({model:this.model}),this.resultCardsView=new y({model:this.model}),this.instantPoolsView=new g({model:this.model}),this.tz={total:c.clone(this.model.get("bet_record")),current:[],again:[]},this.bet_period=this.model.get("game_top_period").game_period,this.send_msg_time=0,this.time_speed=1,this.isdraw=!1,this.has_bet=!1,this.show_small_video=!0,this.refreshtz(),this.get_msg_list();var e=navigator.userAgent;this.isMobile=!!e.match(/AppleWebKit.*Mobile.*/),this.shipcontainer=this.$(".chip-container"),this.$betInfo=this.$("#betroom_region_container .content-tip-bg"),this.$cards=this.$("#betroom_result_cards_container"),this.video_element1=this.$("#betroom_video1")[0],this.video_element2=this.$("#betroom_video2")[0];var i=SystemStorage.getValue("enable_volume"),n=SystemStorage.getValue("enable_video"),s=SystemStorage.getValue("enable_chat_barrage");i&&"true"!=i||this.$(".btn-audio").addClass("on"),s&&"true"!=s||this.$("#betroom_chat_info").fadeIn(),clearTimeout(this.delayrender),this.delayrender=c.delay(function(){n&&"true"!=n?(t.$("#betroom_video_control a.refresh").fadeOut(),t.$("#betroom_video_control a.switch").fadeOut()):t.show_video_play(),t.xkkz(),t.xkkx()},1200),this.$("#betroom_result_cards_container").html(this.resultCardsView.$el),this.$("#betroom_userinfo_container").html(this.userinfoView.$el),this.$("#betroom_instant_pool").html(this.instantPoolsView.render().$el),this.$("#betroom_statistics").html(this.statisticsView.$el),this.$("#betroom_info_container .jukou").html(this.jukouView.$el),this.$("#betroom_winners").html(this.winnersView.$el),this.$("#betroom_limit_status").html(this.betstatusView.$el);var o=this.$("#betroom_chip_container .chip-item:eq(0)");return o.addClass("select"),this.selectMoney=o.data("value"),this.chat_scrool_list(),"90001"==this.opts.game_type?(this.recommendView=new b,this.$("#betroom_haoluo").html(this.recommendView.render().$el),d.push("enter_bjl.mp3")):d.push("enter_lh.mp3"),this.starttime(),this},show_video_play:function(){var t=this,e=JSON.parse(sessionStorage.user).system_videos.flv_address;if(void 0!==this.video1&&null!=this.video1)try{this.video1.unload(),this.video1.detachMediaElement(),this.video1.destroy(),this.video1=null}catch(t){}if(this.video1=flvjs.createPlayer({type:"flv",cors:!0,withCredentials:!1,url:e+"/f"+this.model.get("table_id")+".flv",isLive:!0,hasAudio:!1,hasVideo:!0},{enableWorker:!0,autoCleanupSourceBuffer:!0,enableStashBuffer:!1,stashInitialSize:128}),this.video1.attachMediaElement(this.video_element1),this.video1.load(),this.video_thread1&&clearInterval(this.video_thread1),this.video_thread1=setInterval(function(){0<t.video_element1.buffered.length&&2<t.video_element1.buffered.end(0)-t.video_element1.currentTime&&(t.video_element1.currentTime=t.video_element1.buffered.end(0)-1)},15e3),void 0!==this.video2&&null!=this.video2)try{this.video2.unload(),this.video2.detachMediaElement(),this.video2.destroy(),this.video2=null}catch(t){}this.video2=flvjs.createPlayer({type:"flv",cors:!0,withCredentials:!1,url:e+"/n"+this.model.get("table_id")+".flv",isLive:!0,hasAudio:!1,hasVideo:!0},{enableWorker:!0,autoCleanupSourceBuffer:!0,enableStashBuffer:!1,stashInitialSize:128}),this.video2.attachMediaElement(this.video_element2),this.video2.load(),this.video_thread2&&clearInterval(this.video_thread2),this.video_thread2=setInterval(function(){0<t.video_element2.buffered.length&&2<t.video_element2.buffered.end(0)-t.video_element2.currentTime&&(t.video_element2.currentTime=t.video_element2.buffered.end(0)-1)},15e3),this.$("#betroom_video_control a.refresh").fadeIn(),this.$("#betroom_video_control a.switch").fadeIn()},close_video_play:function(){this.$("#betroom_video_control a.refresh").fadeOut(),this.$("#betroom_video_control a.switch").fadeOut();try{this.video_thread1&&clearInterval(this.video_thread1),this.video1.unload(),this.video1.detachMediaElement(),this.video1.destroy(),this.video1=null,this.video_thread2&&clearInterval(this.video_thread2),this.video2.unload(),this.video2.detachMediaElement(),this.video2.destroy(),this.video2=null}catch(t){}},chat_scrool_list:function(){var t=this.$("#betroom_chat_info");6<t.find(".msg").length&&t.find(".msg:eq(0)").remove()},get_msg_list:function(){u.trigger("send",{pack_type:33,data:{session_id:sessionStorage.getItem("user")?JSON.parse(sessionStorage.getItem("user")).session_id:""}})},msglist:function(t){var i=this;if(1==t.data.result){var e=t.data.message_list;i.$(".msg-list-warpper").children().remove(),l(e).each(function(t,e){i.$(".msg-list-warpper").append("<div>"+e.message+"</div>")})}},livechat:function(t){if(1==t.data.result){var e=this.$("#betroom_chat_info .message-list"),i=t.data.msg.replace(/(\[)([\w]+)(\])/gm,function(t,e,i){return'<div class="emotion '+i+'"></div>'});i="<span>"+(t.data.src_nickname.substr(0,1)+t.data.src_nickname.substr(1).replace(/\S{1}/gim,"*"))+"说：</span>"+i,e.append('<div class="msg animated fadeInUp">'+i+"</div>"),this.chat_scrool_list()}else r.modal(t.data.err_msg)},refresh_region:function(){90001==this.model.get("game_type")&&("1"==this.model.get("is_fee")?this.$(".region-info2 .content-info-title p").text("1:1"):this.$(".region-info2 .content-info-title p").text("1:"+this.model.get("user_bet_odds").zhuang_odds))},change_user_info:function(){this.leftView.trigger("change_balance",this.model.get("user_info"))},click_default:function(t){var e=l("#switch_room_container").css("display");e&&"none"!=e&&this.roomListView.click_close()},dblclick_default:function(t){this.click_switch_video(t)},click_show_msg_list:function(t){t.stopPropagation(),this.$(".chat-input-container .msg-list").fadeToggle()},click_select_msg:function(t){t.stopPropagation(),this.$(".chat-input-container .msg-list").fadeOut(),this.$("#betroom_input_send_msg").val(l(t.currentTarget).html())},keyup_send_msg:function(t){13==t.keyCode&&(this.send_msg(),l(t.currentTarget).blur())},send_msg:function(t){t&&t.stopPropagation();var e=this.$("#betroom_input_send_msg"),i=e.val();"try"!=JSON.parse(sessionStorage.user).login_type?(this.has_bet,(new Date).getTime()-this.send_msg_time<3e3?r.modal("您发送消息过于频繁，请稍后发送！"):i&&(50<i.length&&(i=i.substr(0,50)),i.trim()&&(u.trigger("send",{pack_type:24,data:{session_id:sessionStorage.getItem("user")?JSON.parse(sessionStorage.getItem("user")).session_id:"",table_id:this.opts.table_id,msg:i.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"")}}),e.val("")),this.send_msg_time=(new Date).getTime())):r.modal("试玩用户不能聊天哦！")},click_chip_up:function(t){t.stopPropagation(),this.shipcontainer.scrollLeft(0)},click_chip_down:function(t){t.stopPropagation(),this.shipcontainer.scrollLeft(this.shipcontainer.scrollLeft()+50)},click_audio:function(t){t.stopPropagation();var e=SystemStorage.getValue("enable_volume");e&&"true"!=e?(SystemStorage.setValue("enable_volume","true"),this.$(".btn-audio").addClass("on"),d.play_bg_audio()):(SystemStorage.setValue("enable_volume","false"),d.clear(),d.stop_bg_audio(),this.$(".btn-audio").removeClass("on"))},click_rules:function(t){t.stopPropagation(),(new _).render().show()},click_exit:function(t){t.stopPropagation(),window.history.go(-1)},click_switch_room:function(t){t.stopPropagation(),this.roomListView&&this.roomListView.remove(),this.roomListView=new w({game_type:this.model.get("game_type")}),this.roomListView.render()},click_history:function(t){t.stopPropagation(),(new v).render().show()},click_fullscreen:function(t){t.stopPropagation(),screenfull.enabled&&(screenfull.isFullscreen?(screenfull.exit(),l(t.currentTarget).find(".title").html("进入全屏")):(screenfull.request(),l(t.currentTarget).find(".title").html("退出全屏")))},click_setting:function(t){t.stopPropagation();var i=this,e=new f;e.onFinish=function(){var t=SystemStorage.getValue("enable_volume"),e=SystemStorage.getValue("enable_video");SystemStorage.getValue("enable_chat_barrage");t&&"true"!=t?(d.clear(),d.stop_bg_audio(),i.$(".btn-audio").removeClass("on")):(i.$(".btn-audio").addClass("on"),d.play_bg_audio()),e&&"true"!=e?i.close_video_play():i.show_video_play()},e.render().show()},toggleCards:function(t){t||(this.model.set("cards",{zhuang:{card_list:[],record:0,win:0},xian:{card_list:[],record:0,win:0}}),this.$cards.hide())},click_btn_zwl:function(t){t.stopPropagation();var e=this,i=c.clone(this.model.get("winners"));i.push(1),sessionStorage.wl="true",this.winnersView.showwinners(i),this.xkkz(c.clone(i)),this.xkkx(c.clone(i)),c.delay(function(){sessionStorage.wl="false",e.xkkz(),e.xkkx(),e.winnersView.showwinners()},4e3)},click_btn_xwl:function(t){t.stopPropagation();var e=this,i=c.clone(this.model.get("winners"));i.push(2),sessionStorage.wl="true",this.winnersView.showwinners(i),this.xkkz(c.clone(i)),this.xkkx(c.clone(i)),c.delay(function(){e.xkkz(),e.xkkx(),e.winnersView.showwinners(),sessionStorage.wl="false"},4e3)},blinkzx:function(t,e,i){var n=6,s=e,o=setInterval(function(){0==n&&clearInterval(o),i?e?t.removeClass().addClass("r"):t.removeClass().addClass("b"):e?t.removeClass():t.addClass(s?"r":"b"),e=!e,n--},400)},xkkz:function(t){var e=t||c.clone(this.model.get("winners"));e.push(1);var i=h.bjldyzlist(e),n=h.bjlxllist(e),s=h.bjlxqlist(e);if(0<i.length){var o=i[i.length-1];this.$(".zx-forecast .xkkz .dyz>span").removeClass().addClass(1==o[o.length-1]?"r":"b"),1==o.length&&"true"==sessionStorage.wl&&this.blinkzx(this.$(".zx-forecast .xkkz .dyz>span"),1==o[o.length-1],1<i.length||1<o.length)}else this.$(".zx-forecast .xkkz .dyz>span").removeClass();if(0<n.length){var a=n[n.length-1];this.$(".zx-forecast .xkkz .xl>span").removeClass().addClass(1==a[a.length-1]?"r":"b"),1==a.length&&"true"==sessionStorage.wl&&this.blinkzx(this.$(".zx-forecast .xkkz .xl>span"),1==a[a.length-1],1<n.length||1<a.length)}else this.$(".zx-forecast .xkkz .xl>span").removeClass();if(0<s.length){var r=s[s.length-1];this.$(".zx-forecast .xkkz .xq>span").removeClass().addClass(1==r[r.length-1]?"r":"b"),1==r.length&&"true"==sessionStorage.wl&&this.blinkzx(this.$(".zx-forecast .xkkz .xq>span"),1==r[r.length-1],1<n.length||1<a.length)}else this.$(".zx-forecast .xkkz .xq>span").removeClass()},xkkx:function(t){var e=t||c.clone(this.model.get("winners"));e.push(2);var i=h.bjldyzlist(e),n=h.bjlxllist(e),s=h.bjlxqlist(e);if(0<i.length){var o=i[i.length-1];this.$(".zx-forecast .xkkx .dyz>span").removeClass().addClass(1==o[o.length-1]?"r":"b"),1==o.length&&"true"==sessionStorage.wl&&this.blinkzx(this.$(".zx-forecast .xkkx .dyz>span"),1==o[o.length-1],1<i.length||1<o.length)}else this.$(".zx-forecast .xkkx .dyz>span").removeClass();if(0<n.length){var a=n[n.length-1];this.$(".zx-forecast .xkkx .xl>span").removeClass().addClass(1==a[a.length-1]?"r":"b"),1==a.length&&"true"==sessionStorage.wl&&this.blinkzx(this.$(".zx-forecast .xkkx .xl>span"),1==a[a.length-1],1<n.length||1<a.length)}else this.$(".zx-forecast .xkkx .xl>span").removeClass();if(0<s.length){var r=s[s.length-1];this.$(".zx-forecast .xkkx .xq>span").removeClass().addClass(1==r[r.length-1]?"r":"b"),1==r.length&&"true"==sessionStorage.wl&&this.blinkzx(this.$(".zx-forecast .xkkx .xq>span"),1==r[r.length-1],1<s.length||1<r.length)}else this.$(".zx-forecast .xkkx .xq>span").removeClass()},refreshtz:function(){var i=this;l("#betroom_region_container>div.bet-region>div").each(function(){var t=l(this),e=c.findWhere(i.tz.total,{bet_type:t.data("type")});i.drawtzimg(t,e?e.bet_amount:0)})},enterRoom:function(t){return this.opts=t,this.model.clearall(),u.trigger("send",{pack_type:1,data:{session_id:sessionStorage.getItem("user")?JSON.parse(sessionStorage.getItem("user")).session_id:"",game_id:t.game_id,game_type:t.game_type,table_id:t.table_id}}),this},starttime:function(){if("none"!==this.$el.css("display")){var t=this,e=this.model.get("rest_time"),i=this.$("#betroom_time_container .title"),n=this.$("#betroom_time_container .time")[0];0<e?(this.starttz&&clearInterval(this.starttz),i.html("计时中"),this.starttz=setInterval(function(){0===e?(t.blurtz(),i.html("结算中"),clearInterval(t.starttz),d.clear(),d.push("stop_bet.mp3"),t.$betInfo.hide(),t.disabled_tz(!0),t.tz.total=c.clone(t.model.get("bet_record"))||[],t.tz.again=c.clone(t.model.get("bet_record")),t.refreshtz()):e<8?d.play_fast_audio("time.mp3"):10==e&&d.push("time_tip_10.mp3"),n.innerHTML=e,e--},1e3*this.time_speed),this.isdraw=!1,r.tip("开始投注！"),d.push("start.mp3"),this.disabled_tz(!1),this.disabled_tz_reset(!0),this.disabled_tz_ok(!0),0<this.tz.again.length?this.disabled_tz_again(!1):this.disabled_tz_again(!0)):(i.html("结算中"),this.disabled_tz(!0))}},disabled_tz:function(t){t?l("#betroom_region_container").removeClass("select"):l("#betroom_region_container").addClass("select").focus(),this.disabled_tz_reset(t),this.disabled_tz_again(t),this.disabled_tz_cancel(t),this.disabled_tz_ok(t)},disabled_tz_reset:function(t){l("#betroom_region_btn_reset").attr("disabled",t)},disabled_tz_again:function(t){l("#betroom_region_btn_again").attr("disabled",t)},disabled_tz_cancel:function(t){l("#betroom_region_btn_cancel").attr("disabled",t)},disabled_tz_ok:function(t){l("#betroom_region_btn_ok").attr("disabled",t)},stoptime:function(){"none"!==this.$el.css("display")&&(this.blurtz(),this.starttz&&clearInterval(this.starttz),this.disabled_tz(!0),l("#betroom_time_container .title").html("结算中"),l("#betroom_time_container .time").html("0"),this.isdraw||(r.tip("您本局未投注！"),this.cleartz()))},fillroom:function(t){"none"!==this.$el.css("display")&&this.opts.table_id==t.data.table_id&&this.model.set(t.data)},statrtz:function(t){if("none"!==this.$el.css("display")&&this.opts.table_id==t.data.table_id){if("sw008"!==JSON.parse(sessionStorage.getItem("user")).username&&3<=t.data.game_top_period.game_period-this.bet_period)return r.modal("您已经连续3口未投注, 请重新进入房间！"),void window.workspace.navigate("/",{trigger:!0});delete t.data.table_id,this.model.set(t.data),this.time_speed=(+this.model.get("rest_time")-2)/+this.model.get("rest_time"),this.starttime(),this.tz.total=[],this.tz.current=[],this.refreshtz(),this.toggleCards(!1)}},canceltz:function(t){"none"!==this.$el.css("display")&&this.opts.table_id==t.data.table_id&&(delete t.data.table_id,this.model.set(t.data),1===t.data.result?(this.cleartz(),this.tz.total=[],r.tip("取消投注成功！"),d.push("success.mp3"),this.disabled_tz_reset(!0),this.disabled_tz_cancel(!0),this.disabled_tz_ok(!0),0<this.tz.again.length&&this.disabled_tz_again(!1),this.isdraw=!1):(r.tip("取消投注失败！"),d.push("notice.mp3")))},click_refresh_video:function(t){t.stopPropagation(),this.show_video_play()},refreshvideo:function(){this.show_video_play()},click_switch_video:function(t){t.stopPropagation();var e=null,i=this.$("#betroom_video_warpper .video-full"),n=this.$("#betroom_video_warpper .video-small"),s=this.$("#betroom_video_control .start"),o=this.$("#betroom_video_control .end");"remote"==this.model.get("current_video")?(e="close",s.html("近"),o.html("远")):"close"==this.model.get("current_video")&&(e="remote",s.html("远"),o.html("近")),i.removeClass("video-full").addClass("video-small"),n.removeClass("video-small").addClass("video-full"),this.show_small_video?(n.show(),i.show()):(n.show(),n[0].play(),i.hide(),i[0].pause()),this.model.set("current_video",e)},click_toggle_small:function(t){t.stopPropagation();var e=this.$("#betroom_video_warpper .video-small");this.show_small_video?(e.hide(),e[0].pause()):(e.show(),e[0].play()),l(t.currentTarget).html(this.show_small_video?"打开画中画":"关闭画中画"),this.show_small_video=!this.show_small_video},click_reward:function(t){t.stopPropagation(),"try"!=JSON.parse(sessionStorage.user).login_type?this.rewardDialogView?this.rewardDialogView.show():(this.rewardDialogView=new p({model:this.model}),this.rewardDialogView.render().show()):r.modal("该功能不对试玩用户开放！")},click_rollback_tz:function(t){t.stopPropagation();var i=this;c.each(this.tz.total,function(t){var e=c.findWhere(i.tz.current,{bet_type:t.bet_type});e&&(t.bet_amount=+t.bet_amount-e.bet_amount)}),this.tz.current=[],this.disabled_tz_reset(!0),this.disabled_tz_ok(!0),0==this.isdraw&&this.disabled_tz_again(!1),this.refreshtz()},resetdraw:function(t){"none"!==this.$el.css("display")&&this.opts.table_id==t.data.table_id&&(delete t.data.table_id,this.model.set(t.data),r.tip("重新开奖！"))},exchangepoker:function(t){"none"!==this.$el.css("display")&&this.opts.table_id==t.data.table_id&&(delete t.data.table_id,this.model.set(t.data),this.cleartz(),this.tz={total:[],current:[],again:[]},this.toggleCards(!1),this.has_bet=!1,this.xkkz(),this.xkkx(),r.tip("新一局开始！"))},refreshstatus:function(t){"none"!==this.$el.css("display")&&this.opts.table_id==t.data.table_id&&(delete t.data.table_id,t.data.cards&&this.toggleCards(!0),this.model.set(t.data))},finishtz:function(t){"none"!==this.$el.css("display")&&this.opts.table_id==t.data.table_id&&(delete t.data.table_id,this.model.set(t.data),this.$betInfo.hide(),1===t.data.result?(r.tip("投注成功！"),this.isdraw=!0,this.has_bet=!0,d.push("bet_success.mp3"),this.bet_period=this.model.get("game_top_period").game_period,this.disabled_tz_reset(!0),this.disabled_tz_again(!0),this.disabled_tz_cancel(!1)):(this.tz.total=c.clone(this.model.get("bet_record"))||[],16==t.data.result?r.tip("您的账号已暂停！"):r.tip(t.data.err_msg||"投注失败！"),d.push("bet_fail.mp3"),this.refreshtz()),this.tz.current=[])},drawtz:function(t){if("none"!==this.$el.css("display")&&this.opts.table_id==t.data.table_id){delete t.data.table_id,this.model.set(t.data),this.cleartz(),this.tz.total=[],this.tz.current=[],this.xkkz(),this.xkkx();var e=this.model.get("status").result||[];l.each(e,function(t,e){l('#betroom_region_container>div.bet-region>div[data-type="'+e+'"]').addClass("result-fade")}),c.delay(function(){l("#betroom_region_container>div.bet-region>div.result-fade").removeClass("result-fade")},4e3),r.tip(this.model.get("status").msg);var i=this.model.get("winners");d.push(this.model.get("game_type")+"_"+i[i.length-1]+".mp3"),0<this.model.get("user_info").user_profit&&d.push("tz.mp3")}},click_img_tz:function(t){t.stopPropagation(),this.selectMoney=l(t.currentTarget).data("value"),d.play_fast_audio("enter.mp3"),this.$("#betroom_chip_container div.chip-item.select").removeClass("select"),l(t.currentTarget).addClass("select")},blurtz:function(){l("#betroom_region_container").removeClass("select")},drawtzimg:function(t,e){var i=h.totalTz(e,[]),n=c.findWhere(this.tz.total,{bet_type:t.data("type")}),s=t.data("type"),o=this.$('.chips-bet[data-type="'+s+'"]');if(0<o.length)o.html(this.drawchip(i).join(""));else{var a=l("#main").offset(),r=t.offset();(o=l('<div class="chips-bet" data-type="'+s+'"></div>')).css("top",pxtorem(r.top-a.top+t.outerHeight())+"rem"),o.css("left",pxtorem(r.left-a.left)-1.9+"rem"),o.html(this.drawchip(i).join("")),this.$el.append(o)}t.find(".content-info-count").html(n&&0<n.bet_amount?n.bet_amount:"")},drawchip:function(t){for(var e=[],i=0,n=t.length;i<n;i++){var s=5*Math.floor(i%4),o=20*Math.floor(i/4);e.push("<div class='chip-item' style='bottom: "+s+"px; left:"+o+"px;' data-value='"+t[i]+"'></div>")}return e},get_all_types_count:function(t){var i=0;return c.each("total"==t?this.tz.total:this.tz.current,function(t){var e=+t.bet_amount;0<e&&(i+=e)}),i},mouseup_tz:function(t){if(t.stopPropagation(),0!=this.model.get("allow_bet"))if(2!=this.model.get("allow_bet"))if(0!=JSON.parse(sessionStorage.user).password_reset)if(l("#betroom_region_container").hasClass("select")){d.play_fast_audio("push.mp3");var e=l(t.currentTarget).find("div.content-info-tz"),i=c.findWhere(this.tz.total,{bet_type:l(t.currentTarget).data("type")}),n=c.findWhere(this.tz.current,{bet_type:l(t.currentTarget).data("type")}),s=+this.selectMoney,o=this.get_all_types_count("total"),a=this.get_all_types_count("current");if(!this.selectMoney)return void r.modal("请先选择筹码。",null,null,t);if(+this.model.get("bet_limit")[e.data("limit")]<(n?+n.bet_amount:0)+this.selectMoney)return void r.modal("该投注点已超过限红("+this.model.get("bet_limit")[e.data("limit")]+")，请选择较小的筹码。",null,null,t);if(+this.model.get("user_info").up_limit<+o+this.selectMoney)return void r.modal("您选择投注的筹码已超过投注上限("+this.model.get("user_info").up_limit+")，请选择较小的筹码。",null,null,t);if(+this.model.get("user_info").balance<=+a)return void r.modal("余额不足，请充值。",null,null,t);+this.model.get("user_info").low_limit>this.selectMoney&&0===o&&(s=+this.model.get("user_info").balance>+this.model.get("user_info").low_limit?+this.model.get("user_info").low_limit:+this.model.get("user_info").balance),+this.model.get("user_info").balance<this.selectMoney&&(s=+this.model.get("user_info").balance),+this.model.get("user_info").balance-a<this.selectMoney&&(s=+this.model.get("user_info").balance-a),n?n.bet_amount=+n.bet_amount+s:this.tz.current.push({bet_type:l(t.currentTarget).data("type"),bet_amount:s}),i?i.bet_amount=+i.bet_amount+s:this.tz.total.push({bet_type:l(t.currentTarget).data("type"),bet_amount:s}),this.drawtzimg(l(t.currentTarget),i?i.bet_amount:s),this.disabled_tz_ok(!1),this.disabled_tz_reset(!1)}else r.modal("本轮投注已完成，请等待下一轮进行投注。",null,null,t);else r.modal("为了确保玩家账号的安全性，第一次登陆游戏，请先修改密码以继续！",function(){"api"in window?api.openWin({name:"settings",url:"changepwd.html",animation:{type:"push",subType:"from_right",duration:400},softInputMode:"pan",vScrollBarEnabled:!0,slidBackEnabled:!0,pageParam:{user:sessionStorage.getItem("user")}}):window.location="changepwd.html"});else r.modal("您的账号已被暂停。",null,null,t);else r.modal("该房间包桌中。",null,null,t)},click_btn_mianyong:function(t){t.stopPropagation();var e=l(t.currentTarget);e.toggleClass("on"),this.model.set("is_fee",e.hasClass("on")?1:0)},click_btn_again:function(t){var n=this;t.stopPropagation();var e=this.tz.again;0!=e.length&&(c.each(e,function(t){var e=c.findIndex(n.tz.total,{bet_type:t.bet_type}),i=c.findIndex(n.tz.current,{bet_type:t.bet_type});0<=e?n.tz.total[e].bet_amount+=t.bet_amount:n.tz.total.push(c.clone(t)),0<=i?n.tz.current[i].bet_amount+=t.bet_amount:n.tz.current.push(c.clone(t))}),d.clear(),d.push("push.mp3"),this.refreshtz(),this.disabled_tz_reset(!1),this.disabled_tz_again(!0),this.disabled_tz_ok(!1))},click_btn_ensure:function(t){t.stopPropagation(),0!=this.model.get("allow_bet")?2!=this.model.get("allow_bet")?(this.disabled_tz_ok(!0),this.$betInfo.show(),u.trigger("send",{pack_type:3,data:{session_id:sessionStorage.getItem("user")?JSON.parse(sessionStorage.getItem("user")).session_id:"",game_id:this.opts.game_id,game_type:this.opts.game_type,table_id:this.opts.table_id,is_fee:this.model.get("is_fee"),game_top:this.model.get("game_top_period").game_top,game_period:this.model.get("game_top_period").game_period,bet_record:this.tz.current}})):r.modal("您的账号已被暂停。",null,null,t):r.modal("该房间包桌中。",null,null,t)},click_btn_clear:function(t){t.stopPropagation(),0!=this.model.get("allow_bet")?2!=this.model.get("allow_bet")?u.trigger("send",{pack_type:16,data:{session_id:sessionStorage.getItem("user")?JSON.parse(sessionStorage.getItem("user")).session_id:"",game_id:this.opts.game_id,game_type:this.opts.game_type,table_id:this.opts.table_id,game_top:this.model.get("game_top_period").game_top,game_period:this.model.get("game_top_period").game_period}}):r.modal("您的账号已被暂停。",null,null,t):r.modal("该房间包桌中。",null,null,t)},cleartz:function(){this.$("div.chips-bet").remove(),l("#betroom_region_container .content-info-count").html("")},leaveRoom:function(){l("#tips").removeClass("showinfo"),d.clear(),this.rewardDialogView&&this.rewardDialogView.remove(),this.betstatusView&&this.betstatusView.remove(),this.instantPoolsView&&this.instantPoolsView.remove(),this.userinfoView&&this.userinfoView.remove(),this.statisticsView&&this.statisticsView.remove(),this.jukouView&&this.jukouView.remove(),this.winnersView&&this.winnersView.remove(),this.resultCardsView&&this.resultCardsView.remove(),this.recommendView&&this.recommendView.exit().remove(),this.roomListView&&this.roomListView.click_close(),this.close_video_play(),this.$el.html(""),this.starttz&&clearInterval(this.starttz),this.chatInterval&&clearInterval(this.chatInterval),u.trigger("send",{pack_type:2,data:{session_id:sessionStorage.getItem("user")?JSON.parse(sessionStorage.getItem("user")).session_id:"",game_id:this.opts.game_id,game_type:this.opts.game_type,table_id:this.opts.table_id}})},exit:function(){return this.leaveRoom(),this}})}),define("scripts/views/main/betroom/IndexView",["jquery","underscore","backbone","handlebars","scripts/views/main/left/LeftView","scripts/views/main/betroom/BetroomView"],function(t,e,i,n,s,o){"use strict";return i.View.extend({el:"#betroom_main",events:{},initialize:function(){},render:function(t){this.leftView=new s({game_id:t.game_id}),this.betroomView=new o({leftView:this.leftView});var e=this.leftView.render().$el,i=this.betroomView.$el;return this.betroomView.trigger("enterRoom",t),this.$el.append(e),this.$el.append(i),this},exit:function(){this.betroomView.exit().remove(),this.leftView.exit().remove(),this.$el.html("")}})}),define("text!scripts/templates/phoneroom/phoneroom.html",[],function(){return'<div id="phoneroom_top">\n  <div class="phoneroom-bg"></div>\n  <div id="phoneroom_video_warpper">\n    <video id="phoneroom_video1" name="videoElement" class="centeredVideo video-full" preload="auto" autoplay>\n      您的浏览器版本太低，请先升级浏览器！\n    </video>\n    <video id="phoneroom_video2" name="videoElement" class="centeredVideo video-small" preload="auto" autoplay>\n      您的浏览器版本太低，请先升级浏览器！\n    </video>\n  </div>\n  <div id="phoneroom_toolbar_btns">\n    <div class="btns-group">\n      <div class="btn btn-exit" title="返回大厅"><div class="icon"></div><div>返回</div></div>\n      <div class="btn btn-audio" title="声音开关"><div class="icon"></div><div>声音</div></div>\n      <div class="btn btn-history" title="投注记录"><div class="icon"></div><div>记录</div></div>\n      <div class="btn btn-rules" title="玩法规则"><div class="icon"></div><div>规则</div></div>\n      <div class="btn btn-setting" title="设置"><div class="icon"></div><div>设置</div></div>\n      <div class="btn btn-fullscreen" title="全屏"><div class="icon"></div><div class="title">进入全屏</div></div>\n    </div>\n  </div>\n  <div id="phoneroom_info_container">\n    <div class="title info">桌台信息</div>\n    <div class="item"><div class="label">台桌名称</div><div class="val">{{table_name}}</div></div>\n    <div class="item jukou"></div>\n    <div class="item"><div class="label">用户限红</div><div class="val">{{user_info.low_limit}} ~ {{user_info.up_limit}}</div></div>\n    <div class="title xianhong">桌台限红</div>\n    <div id="phoneroom_limit_status"></div>\n  </div>\n  <div id="phoneroom_result_cards_container" class="{{#if game_type}}{{#eq game_type 90001}}bjl{{else}}lh{{/eq}}{{/if}}"></div>\n  <div id="phoneroom_region_container">\n    {{#if game_type}}\n    {{#eq game_type 90001}}\n    <div gametype="90001" class="bet-region">\n      \x3c!--<div class="region-info8 red" data-type="8">--\x3e\n        \x3c!--<div class="content-info-title"><h4 class="tz-xian">大</h4>--\x3e\n          \x3c!--<p>1:{{user_bet_odds.special8_odds}}</p></div>--\x3e\n        \x3c!--<div class="content-info-count"></div>--\x3e\n        \x3c!--<div class="content-info-tz" data-limit="bet_xiandui_limit"></div>--\x3e\n      \x3c!--</div>--\x3e\n      <div class="region-info5" data-type="5">\n        <div class="content-info-title"><h4 class="tz-xian">闲 对</h4>\n          <p>1:{{user_bet_odds.xiandui_odds}}</p></div>\n        <div class="content-info-count"></div>\n        <div class="content-info-tz" data-limit="bet_xiandui_limit"></div>\n      </div>\n      <div class="region-info3" data-type="3">\n        <div class="content-info-title"><h4 class="tz-xian">闲</h4>\n          <p>1:{{user_bet_odds.xian_odds}}</p></div>\n        <div class="content-info-count"></div>\n        <div class="content-info-tz" data-limit="bet_xian_limit"></div>\n      </div>\n      <div class="region-info1" data-type="1">\n        <div class="content-info-title"><h4 class="tz-he">和</h4>\n          <p>1:{{user_bet_odds.he_odds}}</p></div>\n        <div class="content-info-count"></div>\n        <div class="content-info-tz" data-limit="bet_he_limit"></div>\n      </div>\n      <div class="region-info2" data-type="2">\n        <div class="content-info-title"><h4 class="tz-zhuang">庄</h4>\n          <p>1:{{user_bet_odds.zhuang_odds}}</p></div>\n        <div class="content-info-count"></div>\n        <div class="content-info-tz" data-limit="bet_zhuang_limit"></div>\n      </div>\n      <div class="region-info4" data-type="4">\n        <div class="content-info-title"><h4 class="tz-zhuang">庄 对</h4>\n          <p>1:{{user_bet_odds.zhuangdui_odds}}</p></div>\n        <div class="content-info-count"></div>\n        <div class="content-info-tz" data-limit="bet_zhuangdui_limit"></div>\n      </div>\n      \x3c!--<div class="region-info9 blue" data-type="9">--\x3e\n        \x3c!--<div class="content-info-title"><h4 class="tz-xian">小</h4>--\x3e\n          \x3c!--<p>1:{{user_bet_odds.special9_odds}}</p></div>--\x3e\n        \x3c!--<div class="content-info-count"></div>--\x3e\n        \x3c!--<div class="content-info-tz" data-limit="bet_xiandui_limit"></div>--\x3e\n      \x3c!--</div>--\x3e\n    </div>\n    {{else}}\n    <div gametype="20001" class="bet-region">\n      \x3c!--<div class="region-info7 red" data-type="7">--\x3e\n        \x3c!--<div class="content-info-title"><h4 class="tz-zhuang">龙单</h4>--\x3e\n          \x3c!--<p>1:{{user_bet_odds.special7_odds}}</p></div>--\x3e\n        \x3c!--<div class="content-info-count"></div>--\x3e\n        \x3c!--<div class="content-info-tz" data-limit="bet_zhuang_limit"></div>--\x3e\n      \x3c!--</div>--\x3e\n      \x3c!--<div class="region-info6 red" data-type="6">--\x3e\n        \x3c!--<div class="content-info-title"><h4 class="tz-zhuang">龙双</h4>--\x3e\n          \x3c!--<p>1:{{user_bet_odds.special6_odds}}</p></div>--\x3e\n        \x3c!--<div class="content-info-count"></div>--\x3e\n        \x3c!--<div class="content-info-tz" data-limit="bet_zhuang_limit"></div>--\x3e\n      \x3c!--</div>--\x3e\n      <div class="region-info2" data-type="2">\n        <div class="content-info-title"><h4 class="tz-zhuang">龙</h4>\n          <p>1:{{user_bet_odds.zhuang_odds}}</p></div>\n        <div class="content-info-count"></div>\n        <div class="content-info-tz" data-limit="bet_zhuang_limit"></div>\n      </div>\n      <div class="region-info1" data-type="1">\n        <div class="content-info-title"><h4 class="tz-he">和</h4>\n          <p>1:{{user_bet_odds.he_odds}}</p></div>\n        <div class="content-info-count"></div>\n        <div class="content-info-tz" data-limit="bet_he_limit"></div>\n      </div>\n      <div class="region-info3" data-type="3">\n        <div class="content-info-title"><h4 class="tz-xian">虎</h4>\n          <p>1:{{user_bet_odds.xian_odds}}</p></div>\n        <div class="content-info-count"></div>\n        <div class="content-info-tz" data-limit="bet_xian_limit"></div>\n      </div>\n      \x3c!--<div class="region-info8 blue" data-type="8">--\x3e\n        \x3c!--<div class="content-info-title"><h4 class="tz-xian">虎双</h4>--\x3e\n          \x3c!--<p>1:{{user_bet_odds.special8_odds}}</p></div>--\x3e\n        \x3c!--<div class="content-info-count"></div>--\x3e\n        \x3c!--<div class="content-info-tz" data-limit="bet_xian_limit"></div>--\x3e\n      \x3c!--</div>--\x3e\n      \x3c!--<div class="region-info9 blue" data-type="9">--\x3e\n        \x3c!--<div class="content-info-title"><h4 class="tz-xian">虎单</h4>--\x3e\n          \x3c!--<p>1:{{user_bet_odds.special9_odds}}</p></div>--\x3e\n        \x3c!--<div class="content-info-count"></div>--\x3e\n        \x3c!--<div class="content-info-tz" data-limit="bet_xian_limit"></div>--\x3e\n      \x3c!--</div>--\x3e\n    </div>\n    {{/eq}}\n    {{/if}}\n  </div>\n  <div id="phoneroom_time_container">\n    <div class="title">结算中</div>\n    <div class="time">0</div>\n  </div>\n  <div id="phoneroom_video_control">\n    \x3c!--<a class="btn version">切双视频版</a>--\x3e\n    <a class="btn btn-danger refresh">刷新视频&nbsp;&nbsp;<i class="icon-refresh"></i></a>\n    <a class="btn btn-danger switch"><span class="start">远</span>&nbsp;<i class="icon-switch-arrow"></i>&nbsp;<span class="end">近</span></a>\n    <a class="btn small">关闭画中画</a>\n  </div>\n  <a class="btn btn-danger roomswitch">\n    <i class="glyphicon glyphicon-triangle-left"></i>\n    桌</br>台</br>选</br>择</br>\n    <i class="glyphicon glyphicon-triangle-right"></i>\n  </a>\n</div>\n\n<div id="phoneroom_bottom" class="{{#if game_type}}{{#eq game_type 90001}}bjl{{else}}lh{{/eq}}{{/if}}">\n  <div id="phoneroom_winners_container">\n    <div id="phoneroom_winners"></div>\n  </div>\n  <div id="phoneroom_statistics_container">\n    <div id="phoneroom_statistics"></div>\n    <div id="phoneroom_wl" class="zx-forecast">\n      <div>\n        <ul class="xkkz">\n          <li>{{#if game_type}}{{#eq game_type 90001}}庄{{else}}龙{{/eq}}{{/if}}问路：</li>\n          <li class="bjl dyz"><span></span></li>\n          <li class="bjl xl"><span></span></li>\n          <li class="bjl xq"><span></span></li>\n        </ul>\n      </div>\n      <div>\n        <ul class="xkkx">\n          <li>{{#if game_type}}{{#eq game_type 90001}}闲{{else}}虎{{/eq}}{{/if}}问路：</li>\n          <li class="bjl dyz"><span></span></li>\n          <li class="bjl xl"><span></span></li>\n          <li class="bjl xq"><span></span></li>\n        </ul>\n      </div>\n    </div>\n  </div>\n  <div id="phoneroom_chat_info">\n    <div class="message-list">\n      \x3c!--<div class="msg animated fadeInUp">欢迎光临维加斯！</div>--\x3e\n    </div>\n    <div class="chat-input-container">\n      <div class="msg-list">\n        <div class="msg-list-warpper"></div>\n        <div class="arrow"></div>\n      </div>\n      <input id="phoneroom_input_send_msg" type="text" readonly placeholder="请输入消息"/>\n      <a class="btn" id="phoneroom_btn_send_msg">发送</a>\n    </div>\n  </div>\n</div>\n'}),define("scripts/views/main/phoneroom/PhoneroomView",["jquery","underscore","backbone","bootstrap","scripts/ShowInfo","handlebars","scripts/Utils","scripts/views/main/OpenWindow","scripts/views/main/AudioPlayer","text!scripts/templates/phoneroom/phoneroom.html","scripts/views/main/WinnersUtils","scripts/models/betroom/BetroomModel","scripts/streams/SocketStream","scripts/views/main/HallVideoDialogView","scripts/views/main/SystemSettingDialogView","scripts/views/main/history/HistoryDialogView","scripts/views/main/rules/RulesDialogView","scripts/views/main/switch/RoomListView","scripts/views/main/betroom/ResultCardsView","scripts/views/main/betroom/UserinfoView","scripts/views/main/betroom/BetstatusView","scripts/views/main/betroom/StatisticsView","scripts/views/main/betroom/JukouView","scripts/views/main/betroom/WinnersView"],function(n,l,t,e,o,i,s,a,r,c,d,h,u,p,m,f,v,_,g,b,w,y,x,k){"use strict";return t.View.extend({attributes:{id:"phoneroom_content"},template:i.compile(c),opts:{},model:new h,leftView:null,events:{"click .phoneroom-bg":"click_default","dblclick .phoneroom-bg":"dblclick_default","click .btn-history":"click_history","click .btn-hall":"click_hall_video","click .btn-setting":"click_setting","click .btn-fullscreen":"click_fullscreen","click .btn-audio":"click_audio","click .btn-rules":"click_rules","click .btn-exit":"click_exit","click #phoneroom_wl .xkkz":"click_btn_zwl","click #phoneroom_wl .xkkx":"click_btn_xwl","click #phoneroom_input_send_msg":"click_show_msg_list","click .chat-input-container .msg-list-warpper>div":"click_select_msg","keyup #phoneroom_input_send_msg":"keyup_send_msg","click #phoneroom_btn_send_msg":"send_msg","click #phoneroom_chip_container .chip-item":"click_img_tz","click #phoneroom_chip_container .up":"click_chip_up","click #phoneroom_chip_container .down":"click_chip_down","click #phoneroom_video_control a.refresh":"click_refresh_video","click #phoneroom_video_control a.switch":"click_switch_video","click #phoneroom_video_control a.small":"click_toggle_small","click #phoneroom_video_control a.version":"click_switch_version","click a.roomswitch":"click_switch_room","click #phoneroom_region_container>div.bet-region>div":"mouseup_tz","click #phoneroom_region_btn_mianyong":"click_btn_mianyong","click #phoneroom_region_btn_again":"click_btn_again","click #phoneroom_region_btn_ok":"click_btn_ensure","click #phoneroom_region_btn_cancel":"click_rollback_tz"},initialize:function(t){this.listenTo(this.model,"change:table_id",this.render),this.listenTo(this.model,"change:is_fee",this.refresh_region),this.listenTo(this.model,"change:user_info",this.change_user_info),this.listenTo(u,"pack_type1",this.fillroom),this.listenTo(u,"pack_type3",this.finishtz),this.listenTo(u,"pack_type4",this.drawtz),this.listenTo(u,"pack_type5",this.statrtz),this.listenTo(u,"pack_type6",this.resetdraw),this.listenTo(u,"pack_type7",this.exchangepoker),this.listenTo(u,"pack_type8",this.stoptime),this.listenTo(u,"pack_type11",this.refreshstatus),this.listenTo(u,"pack_type16",this.canceltz),this.listenTo(u,"pack_type24",this.livechat),this.listenTo(u,"pack_type33",this.msglist),this.listenTo(this,"enterRoom",this.enterRoom),this.leftView=t.leftView},render:function(){var t=this;o.loading(!1),this.$el.html(this.template(this.model.toJSON())),this.$(".btn-fullscreen .title").html(screenfull.isFullscreen?"退出全屏":"进入全屏"),this.userinfoView=new b({model:this.model}),this.statisticsView=new y({model:this.model}),this.betstatusView=new w({model:this.model}),this.jukouView=new x({model:this.model}),this.winnersView=new k({model:this.model}),this.resultCardsView=new g({model:this.model}),this.send_msg_time=0;var e=navigator.userAgent;this.isMobile=!!e.match(/AppleWebKit.*Mobile.*/),this.show_small_video=!0,this.$cards=this.$("#phoneroom_result_cards_container"),this.video_element1=this.$("#phoneroom_video1")[0],this.video_element2=this.$("#phoneroom_video2")[0];var i=SystemStorage.getValue("enable_volume"),n=SystemStorage.getValue("enable_video"),s=SystemStorage.getValue("enable_chat_barrage");return i&&"true"!=i||this.$(".btn-audio").addClass("on"),s&&"true"!=s||this.$("#phoneroom_chat_info").fadeIn(),clearTimeout(this.delayrender),this.delayrender=l.delay(function(){n&&"true"!=n?(t.$("#phoneroom_video_control a.refresh").fadeOut(),t.$("#phoneroom_video_control a.switch").fadeOut()):t.show_video_play(),t.xkkz(),t.xkkx()},1200),this.$("#phoneroom_result_cards_container").html(this.resultCardsView.$el),this.$("#phoneroom_userinfo_container").html(this.userinfoView.$el),this.$("#phoneroom_statistics").html(this.statisticsView.$el),this.$("#phoneroom_info_container .jukou").html(this.jukouView.$el),this.$("#phoneroom_winners").html(this.winnersView.$el),this.$("#phoneroom_limit_status").html(this.betstatusView.$el),this.chat_scrool_list(),"90001"==this.opts.game_type?r.push("enter_bjl.mp3"):r.push("enter_lh.mp3"),this.starttime(),this.get_msg_list(),this},show_video_play:function(){var t=this,e=JSON.parse(sessionStorage.user).system_videos.flv_address;if(void 0!==this.video1&&null!=this.video1)try{this.video1.unload(),this.video1.detachMediaElement(),this.video1.destroy(),this.video1=null}catch(t){}if(this.video1=flvjs.createPlayer({type:"flv",cors:!0,withCredentials:!1,url:e+"/f"+this.model.get("table_id")+".flv",isLive:!0,hasAudio:!1,hasVideo:!0},{enableWorker:!0,autoCleanupSourceBuffer:!0,enableStashBuffer:!1,stashInitialSize:128}),this.video1.attachMediaElement(this.video_element1),this.video1.load(),this.video_thread1&&clearInterval(this.video_thread1),this.video_thread1=setInterval(function(){0<t.video_element1.buffered.length&&2<t.video_element1.buffered.end(0)-t.video_element1.currentTime&&(t.video_element1.currentTime=t.video_element1.buffered.end(0)-1)},15e3),void 0!==this.video2&&null!=this.video2)try{this.video2.unload(),this.video2.detachMediaElement(),this.video2.destroy(),this.video2=null}catch(t){}this.video2=flvjs.createPlayer({type:"flv",cors:!0,withCredentials:!1,url:e+"/n"+this.model.get("table_id")+".flv",isLive:!0,hasAudio:!1,hasVideo:!0},{enableWorker:!0,autoCleanupSourceBuffer:!0,enableStashBuffer:!1,stashInitialSize:128}),this.video2.attachMediaElement(this.video_element2),this.video2.load(),this.video_thread2&&clearInterval(this.video_thread2),this.video_thread2=setInterval(function(){0<t.video_element2.buffered.length&&2<t.video_element2.buffered.end(0)-t.video_element2.currentTime&&(t.video_element2.currentTime=t.video_element2.buffered.end(0)-1)},15e3),this.$("#phoneroom_video_control a.refresh").fadeIn(),this.$("#phoneroom_video_control a.switch").fadeIn()},close_video_play:function(){this.$("#phoneroom_video_control a.refresh").fadeOut(),this.$("#phoneroom_video_control a.switch").fadeOut();try{this.video_thread1&&clearInterval(this.video_thread1),this.video1.unload(),this.video1.detachMediaElement(),this.video1.destroy(),this.video1=null,this.video_thread2&&clearInterval(this.video_thread2),this.video2.unload(),this.video2.detachMediaElement(),this.video2.destroy(),this.video2=null}catch(t){}},chat_scrool_list:function(){var t=this.$("#phoneroom_chat_info");6<t.find(".msg").length&&t.find(".msg:eq(0)").remove()},livechat:function(t){if(1==t.data.result){var e=this.$("#phoneroom_chat_info .message-list"),i=t.data.msg.replace(/(\[)([\w]+)(\])/gm,function(t,e,i){return'<div class="emotion '+i+'"></div>'});i="<span>"+(t.data.src_nickname.substr(0,1)+t.data.src_nickname.substr(1).replace(/\S{1}/gim,"*"))+"说：</span>"+i,e.append('<div class="msg animated fadeInUp">'+i+"</div>"),this.chat_scrool_list()}else o.modal(t.data.err_msg)},get_msg_list:function(){u.trigger("send",{pack_type:33,data:{session_id:sessionStorage.getItem("user")?JSON.parse(sessionStorage.getItem("user")).session_id:""}})},msglist:function(t){var i=this;if(1==t.data.result){var e=t.data.message_list;i.$(".msg-list-warpper").children().remove(),n(e).each(function(t,e){i.$(".msg-list-warpper").append("<div>"+e.message+"</div>")})}},change_user_info:function(){this.leftView.trigger("change_balance",this.model.get("user_info"))},click_default:function(t){var e=n("#switch_room_container").css("display");e&&"none"!=e&&this.roomListView.click_close()},dblclick_default:function(t){this.click_switch_video(t)},click_show_msg_list:function(t){t.stopPropagation(),this.$(".chat-input-container .msg-list").fadeToggle()},click_select_msg:function(t){t.stopPropagation(),this.$(".chat-input-container .msg-list").fadeOut(),this.$("#phoneroom_input_send_msg").val(n(t.currentTarget).html())},keyup_send_msg:function(t){13==t.keyCode&&this.send_msg()},send_msg:function(t){t&&t.stopPropagation();var e=this.$("#phoneroom_input_send_msg"),i=e.val();"try"!=JSON.parse(sessionStorage.user).login_type?(this.isdraw,(new Date).getTime()-this.send_msg_time<3e3?o.modal("您发送消息过于频繁，请稍后发送！"):i&&(50<i.length&&(i=i.substr(0,50)),i.trim()&&(u.trigger("send",{pack_type:24,data:{session_id:sessionStorage.getItem("user")?JSON.parse(sessionStorage.getItem("user")).session_id:"",table_id:this.opts.table_id,msg:i.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"")}}),e.val("")),this.send_msg_time=(new Date).getTime())):o.modal("试玩用户不能聊天哦！")},click_audio:function(t){t.stopPropagation();var e=SystemStorage.getValue("enable_volume");e&&"true"!=e?(SystemStorage.setValue("enable_volume","true"),this.$(".btn-audio").addClass("on")):(SystemStorage.setValue("enable_volume","false"),r.clear(),this.$(".btn-audio").removeClass("on"))},click_rules:function(t){t.stopPropagation(),(new v).render().show()},click_exit:function(t){t.stopPropagation(),window.history.go(-1)},click_switch_room:function(t){t.stopPropagation(),this.roomListView&&this.roomListView.remove(),this.roomListView=new _({game_type:this.model.get("game_type")}),this.roomListView.render()},click_history:function(t){t.stopPropagation(),(new f).render().show()},click_fullscreen:function(t){t.stopPropagation(),screenfull.enabled&&(screenfull.isFullscreen?(screenfull.exit(),n(t.currentTarget).find(".title").html("进入全屏")):(screenfull.request(),n(t.currentTarget).find(".title").html("退出全屏")))},click_setting:function(t){t.stopPropagation();var i=this,e=new m;e.onFinish=function(){var t=SystemStorage.getValue("enable_volume"),e=SystemStorage.getValue("enable_video");SystemStorage.getValue("enable_chat_barrage");t&&"true"!=t?(r.clear(),i.$(".btn-audio").removeClass("on")):i.$(".btn-audio").addClass("on"),e&&"true"!=e?i.close_video_play():i.show_video_play()},e.render().show()},toggleCards:function(t){t?this.$cards.css("display","flex"):(this.model.set("cards",{zhuang:{card_list:[],record:0,win:0},xian:{card_list:[],record:0,win:0}}),this.$cards.hide())},click_btn_zwl:function(t){t.stopPropagation();var e=this,i=l.clone(this.model.get("winners"));i.push(1),sessionStorage.wl="true",this.winnersView.showwinners(i),this.xkkz(l.clone(i)),this.xkkx(l.clone(i)),l.delay(function(){sessionStorage.wl="false",e.xkkz(),e.xkkx(),e.winnersView.showwinners()},4e3)},click_btn_xwl:function(t){t.stopPropagation();var e=this,i=l.clone(this.model.get("winners"));i.push(2),sessionStorage.wl="true",this.winnersView.showwinners(i),this.xkkz(l.clone(i)),this.xkkx(l.clone(i)),l.delay(function(){e.xkkz(),e.xkkx(),e.winnersView.showwinners(),sessionStorage.wl="false"},4e3)},blinkzx:function(t,e,i){var n=6,s=e,o=setInterval(function(){0==n&&clearInterval(o),i?e?t.removeClass().addClass("r"):t.removeClass().addClass("b"):e?t.removeClass():t.addClass(s?"r":"b"),e=!e,n--},400)},xkkz:function(t){var e=t||l.clone(this.model.get("winners"));e.push(1);var i=d.bjldyzlist(e),n=d.bjlxllist(e),s=d.bjlxqlist(e);if(0<i.length){var o=i[i.length-1];this.$(".zx-forecast .xkkz .dyz>span").removeClass().addClass(1==o[o.length-1]?"r":"b"),1==o.length&&"true"==sessionStorage.wl&&this.blinkzx(this.$(".zx-forecast .xkkz .dyz>span"),1==o[o.length-1],1<i.length||1<o.length)}else this.$(".zx-forecast .xkkz .dyz>span").removeClass();if(0<n.length){var a=n[n.length-1];this.$(".zx-forecast .xkkz .xl>span").removeClass().addClass(1==a[a.length-1]?"r":"b"),1==a.length&&"true"==sessionStorage.wl&&this.blinkzx(this.$(".zx-forecast .xkkz .xl>span"),1==a[a.length-1],1<n.length||1<a.length)}else this.$(".zx-forecast .xkkz .xl>span").removeClass();if(0<s.length){var r=s[s.length-1];this.$(".zx-forecast .xkkz .xq>span").removeClass().addClass(1==r[r.length-1]?"r":"b"),1==r.length&&"true"==sessionStorage.wl&&this.blinkzx(this.$(".zx-forecast .xkkz .xq>span"),1==r[r.length-1],1<n.length||1<a.length)}else this.$(".zx-forecast .xkkz .xq>span").removeClass()},xkkx:function(t){var e=t||l.clone(this.model.get("winners"));e.push(2);var i=d.bjldyzlist(e),n=d.bjlxllist(e),s=d.bjlxqlist(e);if(0<i.length){var o=i[i.length-1];this.$(".zx-forecast .xkkx .dyz>span").removeClass().addClass(1==o[o.length-1]?"r":"b"),1==o.length&&"true"==sessionStorage.wl&&this.blinkzx(this.$(".zx-forecast .xkkx .dyz>span"),1==o[o.length-1],1<i.length||1<o.length)}else this.$(".zx-forecast .xkkx .dyz>span").removeClass();if(0<n.length){var a=n[n.length-1];this.$(".zx-forecast .xkkx .xl>span").removeClass().addClass(1==a[a.length-1]?"r":"b"),1==a.length&&"true"==sessionStorage.wl&&this.blinkzx(this.$(".zx-forecast .xkkx .xl>span"),1==a[a.length-1],1<n.length||1<a.length)}else this.$(".zx-forecast .xkkx .xl>span").removeClass();if(0<s.length){var r=s[s.length-1];this.$(".zx-forecast .xkkx .xq>span").removeClass().addClass(1==r[r.length-1]?"r":"b"),1==r.length&&"true"==sessionStorage.wl&&this.blinkzx(this.$(".zx-forecast .xkkx .xq>span"),1==r[r.length-1],1<s.length||1<r.length)}else this.$(".zx-forecast .xkkx .xq>span").removeClass()},enterRoom:function(t){return this.opts=t,this.model.clearall(),u.trigger("send",{pack_type:1,data:{session_id:sessionStorage.getItem("user")?JSON.parse(sessionStorage.getItem("user")).session_id:"",game_id:t.game_id,game_type:t.game_type,table_id:t.table_id}}),this},starttime:function(){if("none"!==this.$el.css("display")){var t=this,e=this.model.get("rest_time"),i=this.$("#phoneroom_time_container .title"),n=this.$("#phoneroom_time_container .time")[0];0<e?(this.starttz&&clearInterval(this.starttz),i.html("计时中"),this.starttz=setInterval(function(){0===e?(i.html("结算中"),clearInterval(t.starttz),r.clear(),r.push("stop_bet.mp3")):e<8?r.play_fast_audio("time.mp3"):10==e&&r.push("time_tip_10.mp3"),n.innerHTML=e,e--},1e3),this.isdraw=!1,o.tip("开始投注！"),r.push("start.mp3")):i.html("结算中")}},stoptime:function(){"none"!==this.$el.css("display")&&(this.blurtz(),this.starttz&&clearInterval(this.starttz),this.disabled_tz(!0),n("#phoneroom_time_container .title").html("结算中"),n("#phoneroom_time_container .time").html("0"),this.isdraw||o.tip("您本局未投注！"))},fillroom:function(t){"none"!==this.$el.css("display")&&this.opts.table_id==t.data.table_id&&this.model.set(t.data)},statrtz:function(t){"none"!==this.$el.css("display")&&this.opts.table_id==t.data.table_id&&(delete t.data.table_id,this.model.set(t.data),this.starttime(),this.toggleCards(!1))},click_refresh_video:function(t){t.stopPropagation(),this.refreshvideo()},refreshvideo:function(){this.show_video_play()},click_switch_video:function(t){t.stopPropagation();var e=null,i=this.$("#phoneroom_video_warpper .video-full"),n=this.$("#phoneroom_video_warpper .video-small"),s=this.$("#phoneroom_video_control .start"),o=this.$("#phoneroom_video_control .end");"remote"==this.model.get("current_video")?(e="close",s.html("近"),o.html("远")):"close"==this.model.get("current_video")&&(e="remote",s.html("远"),o.html("近")),i.removeClass("video-full").addClass("video-small"),n.removeClass("video-small").addClass("video-full"),this.show_small_video?(n.show(),i.show()):(n.show(),n[0].play(),i.hide(),i[0].pause()),this.model.set("current_video",e)},click_toggle_small:function(t){t.stopPropagation();var e=this.$("#phoneroom_video_warpper .video-small");this.show_small_video?(e.hide(),e[0].pause()):(e.show(),e[0].play()),n(t.currentTarget).html(this.show_small_video?"打开画中画":"关闭画中画"),this.show_small_video=!this.show_small_video},resetdraw:function(t){"none"!==this.$el.css("display")&&this.opts.table_id==t.data.table_id&&(delete t.data.table_id,this.model.set(t.data),o.tip("重新开奖！"))},exchangepoker:function(t){"none"!==this.$el.css("display")&&this.opts.table_id==t.data.table_id&&(delete t.data.table_id,this.model.set(t.data),this.toggleCards(!1),this.xkkz(),this.xkkx(),o.tip("新一局开始！"))},refreshstatus:function(t){"none"!==this.$el.css("display")&&this.opts.table_id==t.data.table_id&&(delete t.data.table_id,t.data.cards&&this.toggleCards(!0),this.model.set(t.data))},finishtz:function(t){"none"!==this.$el.css("display")&&this.opts.table_id==t.data.table_id&&(delete t.data.table_id,this.model.set(t.data),1===t.data.result?(o.tip("投注成功！"),this.isdraw=!0,r.push("bet_success.mp3")):(16==t.data.result?o.tip("您的账号已暂停！"):o.tip(t.data.err_msg||"投注失败！"),r.push("bet_fail.mp3")),this.tz.current=[])},drawtz:function(t){if("none"!==this.$el.css("display")&&this.opts.table_id==t.data.table_id){delete t.data.table_id,this.model.set(t.data),this.xkkz(),this.xkkx();var e=this.model.get("status").result||[];n.each(e,function(t,e){n('#phoneroom_region_container>div.bet-region>div[data-type="'+e+'"]').addClass("result-fade")}),l.delay(function(){n("#phoneroom_region_container>div.bet-region>div.result-fade").removeClass("result-fade")},4e3),o.tip(this.model.get("status").msg);var i=this.model.get("winners");r.push(this.model.get("game_type")+"_"+i[i.length-1]+".mp3"),0<this.model.get("user_info").user_profit&&r.push("tz.mp3")}},leaveRoom:function(){n("#tips").removeClass("showinfo"),r.clear(),this.betstatusView&&this.betstatusView.remove(),this.userinfoView&&this.userinfoView.remove(),this.statisticsView&&this.statisticsView.remove(),this.jukouView&&this.jukouView.remove(),this.winnersView&&this.winnersView.remove(),this.resultCardsView&&this.resultCardsView.remove(),this.roomListView&&this.roomListView.click_close(),this.close_video_play(),this.$el.html(""),this.starttz&&clearInterval(this.starttz),u.trigger("send",{pack_type:2,data:{session_id:sessionStorage.getItem("user")?JSON.parse(sessionStorage.getItem("user")).session_id:"",game_id:this.opts.game_id,game_type:this.opts.game_type,table_id:this.opts.table_id}})},exit:function(){return this.leaveRoom(),this}})}),define("scripts/views/main/phoneroom/IndexView",["jquery","underscore","backbone","handlebars","scripts/views/main/left/LeftView","scripts/views/main/phoneroom/PhoneroomView"],function(t,e,i,n,s,o){"use strict";return i.View.extend({el:"#phoneroom_main",events:{},initialize:function(){},render:function(t){this.leftView=new s({game_id:t.game_id}),this.roomView=new o({leftView:this.leftView});var e=this.leftView.render().$el,i=this.roomView.$el;return this.roomView.trigger("enterRoom",t),this.$el.append(e),this.$el.append(i),this},exit:function(){this.roomView.exit().remove(),this.leftView.exit().remove(),this.$el.html("")}})}),define("text!scripts/templates/niuniuroom/niuniuroom.html",[],function(){return'<div id="niuniuroom_top">\n  <div class="niuniuroom-bg"></div>\n  <div id="niuniuroom_video_warpper">\n    <video id="niuniuroom_video1" name="videoElement" class="centeredVideo video-full" preload="auto" autoplay>\n      您的浏览器版本太低，请先升级浏览器！\n    </video>\n    <video id="niuniuroom_video2" name="videoElement" class="centeredVideo video-small" preload="auto" autoplay>\n      您的浏览器版本太低，请先升级浏览器！\n    </video>\n  </div>\n  <div id="niuniuroom_btn_reward"></div>\n  <div id="niuniuroom_info_container">\n    <div class="row1">\n      <div class="header">台桌信息</div>\n      <div class="content"></div>\n    </div>\n    <div class="row2">\n      <div class="header">即时彩池</div>\n      <div class="content"></div>\n    </div>\n  </div>\n\n  <div id="niuniuroom_tip_container">\n    <div class="title">停止计时</div>\n    <div class="msg">结算中</div>\n  </div>\n  <div id="niuniuroom_toolbar_btns">\n    <div class="btns-group">\n      <div class="btn btn-exit" title="返回大厅"><div class="icon"></div><div>返回</div></div>\n      <div class="btn btn-audio" title="声音开关"><div class="icon"></div><div>声音</div></div>\n      <div class="btn btn-history" title="投注记录"><div class="icon"></div><div>记录</div></div>\n      <div class="btn btn-rules" title="玩法规则"><div class="icon"></div><div>规则</div></div>\n      <div class="btn btn-setting" title="设置"><div class="icon"></div><div>设置</div></div>\n      <div class="btn btn-fullscreen" title="全屏"><div class="icon"></div><div class="title">进入全屏</div></div>\n    </div>\n  </div>\n  <div id="niuniuroom_bet_btns">\n    \x3c!--<button class="btn btn-default" id="niuniuroom_region_btn_again">重 复</button>--\x3e\n    <button class="btn btn-default" id="niuniuroom_region_btn_reset">撤 销</button>\n    <button class="btn" id="niuniuroom_bet_btn_ensure">确 定</button>\n    <button class="btn" id="niuniuroom_bet_btn_cancel">取 消</button>\n  </div>\n  <div id="niuniuroom_chip_container">\n    <div class="up"></div>\n    <div class="chip-container">\n      <div class="chip-container-warpper">\n        {{#if user_info.low_limit}}\n        {{#gt_eq user_info.low_limit 1000}}\n        <div class="chip-item" data-value="1000"></div>\n        <div class="chip-item" data-value="5000"></div>\n        <div class="chip-item" data-value="10000"></div>\n        <div class="chip-item" data-value="50000"></div>\n        <div class="chip-item" data-value="100000"></div>\n        <div class="chip-item" data-value="200000"></div>\n        {{else}}\n        <div class="chip-item" data-value="20"></div>\n        <div class="chip-item" data-value="50"></div>\n        <div class="chip-item" data-value="100"></div>\n        <div class="chip-item" data-value="500"></div>\n        <div class="chip-item" data-value="1000"></div>\n        <div class="chip-item" data-value="5000"></div>\n        <div class="chip-item" data-value="10000"></div>\n        {{/gt_eq}}\n        {{/if}}\n      </div>\n    </div>\n    <div class="down"></div>\n  </div>\n\n  <div id="niuniuroom_result_win_or_lose"></div>\n\n  <div id="niuniuroom_odds"><i class="icon-tips"></i>&nbsp;&nbsp;赔率</div>\n  <div id="niuniuroom_bets_region_deposit">\n    <div class="deposit-title">押金：</div>\n    <div class="deposit-count">0</div>\n  </div>\n\n  <div id="niuniuroom_video_control">\n    <a class="refresh">刷新视频&nbsp;&nbsp;<i class="icon-refresh"></i></a>\n    <a class="switch"><span class="start">远</span>&nbsp;<i class="icon-switch-arrow"></i>&nbsp;<span class="end">近</span></a>\n    <a class="btn small">关闭画中画</a>\n  </div>\n  <a class="btn btn-danger roomswitch">\n    <i class="glyphicon glyphicon-triangle-left"></i>\n    桌</br>台</br>选</br>择</br>\n    <i class="glyphicon glyphicon-triangle-right"></i>\n  </a>\n  <div id="niuniuroom_bets_region_container">\n    <div class="perspective-container">\n      <div class="title">\n        <div>闲1</div>\n        <div>闲2</div>\n        <div>闲3</div>\n      </div>\n      <div class="region">\n        <div class="xian1">\n          <div class="fanbei" data-type="16">\n            <div class="title">翻倍</div>\n            <div class="pl">1: 0.95</div>\n            <div class="content-info-count"></div>\n            <div class="content-info-tz" data-limit="bet_xian1_limit"></div>\n          </div>\n          <div class="pingbei" data-type="32">\n            <div class="title">平倍</div>\n            <div class="pl">1: 0.95</div>\n            <div class="content-info-count"></div>\n            <div class="content-info-tz" data-limit="bet_xian1_limit"></div>\n          </div>\n        </div>\n        <div class="xian2">\n          <div class="fanbei" data-type="4">\n            <div class="title">翻倍</div>\n            <div class="pl">1: 0.95</div>\n            <div class="content-info-count"></div>\n            <div class="content-info-tz" data-limit="bet_xian2_limit"></div>\n          </div>\n          <div class="pingbei" data-type="8">\n            <div class="title">平倍</div>\n            <div class="pl">1: 0.95</div>\n            <div class="content-info-count"></div>\n            <div class="content-info-tz" data-limit="bet_xian2_limit"></div>\n          </div>\n        </div>\n        <div class="xian3">\n          <div class="fanbei" data-type="1">\n            <div class="title">翻倍</div>\n            <div class="pl">1: 0.95</div>\n            <div class="content-info-count"></div>\n            <div class="content-info-tz" data-limit="bet_xian3_limit"></div>\n          </div>\n          <div class="pingbei" data-type="2">\n            <div class="title">平倍</div>\n            <div class="pl">1: 0.95</div>\n            <div class="content-info-count"></div>\n            <div class="content-info-tz" data-limit="bet_xian3_limit"></div>\n          </div>\n        </div>\n      </div>\n      <div class="content-tip-bg">\n        <h3 class="info">您的投注正在处理中, 请稍等!</h3>\n      </div>\n      \x3c!--<a class="btn btn-default glyphicon glyphicon-share-alt" id="niuniuroom_btn_rollback">复位</a>--\x3e\n    </div>\n  </div>\n</div>\n<div id="niuniuroom_bottom">\n  <div id="niuniuroom_bet_winners_container">\n    <div id="niuniuroom_bet_winners"></div>\n  </div>\n  <div id="niuniuroom_chat_info">\n    <div class="message-list">\n      \x3c!--<div class="msg animated fadeInUp">欢迎光临维加斯！</div>--\x3e\n    </div>\n    <div class="chat-input-container">\n      <div class="msg-list">\n        <div class="msg-list-warpper"></div>\n        <div class="arrow"></div>\n      </div>\n      <input id="niuniuroom_input_send_msg" type="text" readonly placeholder="请输入消息"/>\n      <a class="btn" id="niuniuroom_btn_send_msg">发送</a>\n    </div>\n  </div>\n</div>\n<div id="niuniuroom_result_cards_container" class="animated fadeIn"></div>\n<div id="niuniuroom_pushchips" class="chip-item"></div>\n'}),define("scripts/models/niuniuroom/NiuniuRoomModel",["jquery","underscore","backbone"],function(t,e,i){return i.Model.extend({defaults:{username:sessionStorage.user?JSON.parse(sessionStorage.user).username:"",game_notice:sessionStorage.user?JSON.parse(sessionStorage.user).game_notice:"暂无公告",status:{msg:"",result:[]},result:1,game_id:"0",table_id:"0",table_name:"牛牛",game_type:"30001",current_video:"remote",bet_record:[],user_info:{bet_amount:0,user_profit:0,up_limit:0,low_limit:0,balance:0},instant_pools:{xian1_pb:0,xian1_fb:0,xian2_pb:0,xian2_fb:0,xian3_pb:0,xian3_fb:0},bet_limit:{bet_zhuang_limit:"0",bet_xian_limit:"0",bet_he_limit:"0",bet_zhuangdui_limit:"0",bet_xiandui_limit:"0"},game_top_period:{game_top:"0",game_period:0,zhuang_record:0,xian_record:0,he_record:0,zhuangdui_record:0,xiandui_record:0},winners:[],game_tables:[{game_id:"1",game_name:"百家乐1厅",game_type:"90001",table_id:"33",table_name:"百家乐1"},{game_id:"1",game_name:"百家乐1厅",game_type:"90001",table_id:"35",table_name:"百家乐"}],cards:{zhuang:{card_list:[],record:-1,win:0},xian1:{card_list:[],record:-1,win:0},xian2:{card_list:[],record:-1,win:0},xian3:{card_list:[],record:-1,win:0}},video:{remote_video_rtmp:"rtmp://edum.jcx999.com/live/n30",remote_video_hls:"http://eduh.jcx999.com/live/n30/index.m3u8",close_video_hls:"http://eduh.jcx999.com/live/f30/index.m3u8",close_video_rtmp:"rtmp://edum.jcx999.com/live/f30",hall1_rtmp:"rtmp://edum.jcx999.com/live/thall1",hall2_rtmp:"rtmp://edum.jcx999.com/live/thall2",hall1_hls:"http://live119.hj8828.tv:8080/live/thall1.m3u8",hall2_hls:"http://live119.hj8828.tv:8080/live/thall2.m3u8"}},clearall:function(){this.set(this.defaults,{silent:!0})}})}),define("text!scripts/templates/niuniu_odds_dialog.html",[],function(){return'<div class="modal-dialog">\n  <div class="modal-content">\n    <div class="modal-header">\n      <button type="button" class="close" data-dismiss="modal" aria-label="Close"></button>\n      \x3c!--<h4 class="modal-title"><span class="glyphicon glyphicon-cog"></span>密码修改</h4>--\x3e\n    </div>\n    <div class="modal-body">\n      <div class="odds-tips"></div>\n    </div>\n  </div>\n</div>\n'}),define("scripts/views/main/NiuniuOddsDialogView",["jquery","underscore","backbone","handlebars","scripts/ShowInfo","text!scripts/templates/niuniu_odds_dialog.html"],function(t,e,i,n,s,o){"use strict";return i.View.extend({attributes:{id:"modal_niuniu_odds",class:"modal fade",tabindex:"-1",role:"dialog"},template:n.compile(o),events:{"hidden.bs.modal":"hidden_modal"},render:function(){return this.$el.html(this.template()),t("body").append(this.$el),this},show:function(){return this.$el.modal("show"),this},hide:function(){return this.$el.modal("hide"),this},hidden_modal:function(){this.remove()}})}),define("text!scripts/templates/niuniuroom/userinfo.html",[],function(){return'<div>\n  <span class="title">台桌名称：</span>\n  <span>{{table_name}}</span>\n</div>\n<div>\n  <span class="title">靴次/口次：</span>\n  <span>{{game_top_period.game_top}}/{{game_top_period.game_period}}</span>\n</div>\n<div>\n  <span class="title">下注限红：</span>\n  <span class="xianhong">{{user_info.low_limit}} ~ {{user_info.up_limit}}</span>\n</div>\n<div>\n  <span class="title">下注总额：</span>\n  <span>{{user_info.bet_amount}}</span>\n</div>\n<div>\n  <span class="title">输赢：</span>\n  <span>{{user_info.user_profit}}</span>\n</div>\n'}),define("scripts/views/main/niuniuroom/UserinfoView",["jquery","underscore","backbone","handlebars","text!scripts/templates/niuniuroom/userinfo.html"],function(t,e,i,n,s){"use strict";return i.View.extend({template:n.compile(s),el:"#niuniuroom_info_container .row1 .content",initialize:function(){this.listenTo(this.model,"change:user_info change:game_top_period",this.render)},render:function(){return this.$el.html(this.template(this.model.toJSON())),this}})}),define("text!scripts/templates/niuniuroom/instantpools.html",[],function(){return'<div>\n  <span class="title">闲1 平倍：</span>\n  <span>{{instant_pools.xian1_pb}}</span>\n</div>\n<div>\n  <span class="title">闲1 翻倍：</span>\n  <span>{{instant_pools.xian1_fb}}</span>\n</div>\n<div>\n  <span class="title">闲2 平倍：</span>\n  <span>{{instant_pools.xian2_pb}}</span>\n</div>\n<div>\n  <span class="title">闲2 翻倍：</span>\n  <span>{{instant_pools.xian2_fb}}</span>\n</div>\n<div>\n  <span class="title">闲3 平倍：</span>\n  <span>{{instant_pools.xian3_pb}}</span>\n</div>\n<div>\n  <span class="title">闲3 翻倍：</span>\n  <span>{{instant_pools.xian3_fb}}</span>\n</div>\n'}),define("scripts/views/main/niuniuroom/InstantPoolsView",["jquery","underscore","backbone","handlebars","text!scripts/templates/niuniuroom/instantpools.html"],function(t,e,i,n,s){"use strict";return i.View.extend({template:n.compile(s),el:"#niuniuroom_info_container .row2 .content",initialize:function(){this.listenTo(this.model,"change:instant_pools",this.render)},render:function(){return this.$el.html(this.template(this.model.toJSON())),this}})}),define("text!scripts/templates/niuniuroom/resultcards.html",[],function(){return'<div class="zhuang">\n  <div class="title">庄</div>\n  <div class="cards">\n    {{#each cards.zhuang.card_list}}\n    <div class="card-{{this}}"></div>\n    {{/each}}\n  </div>\n  <div\n    class="res {{#if cards.zhuang.win}}{{#eq cards.zhuang.win 1}}win{{/eq}}{{/if}} {{#if cards.zhuang.record}}{{#eq cards.zhuang.record -1}}hide{{/eq}}{{/if}}">\n    {{#convert_niuniu_res cards.zhuang.record}}{{/convert_niuniu_res}}\n  </div>\n</div>\n<div class="xian1">\n  <div class="title">闲1</div>\n  <div class="cards">\n    {{#each cards.xian1.card_list}}\n    <div class="card-{{this}}"></div>\n    {{/each}}\n  </div>\n  <div\n    class="res {{#if cards.xian1.win}}{{#eq cards.xian1.win 1}}win{{/eq}}{{/if}} {{#if cards.xian1.record}}{{#eq cards.xian1.record -1}}hide{{/eq}}{{/if}}">\n    {{#convert_niuniu_res cards.xian1.record}}{{/convert_niuniu_res}}\n  </div>\n</div>\n<div class="xian2">\n  <div class="title">闲2</div>\n  <div class="cards">\n    {{#each cards.xian2.card_list}}\n    <div class="card-{{this}}"></div>\n    {{/each}}\n  </div>\n  <div\n    class="res {{#if cards.xian2.win}}{{#eq cards.xian2.win 1}}win{{/eq}}{{/if}} {{#if cards.xian2.record}}{{#eq cards.xian2.record -1}}hide{{/eq}}{{/if}}">\n    {{#convert_niuniu_res cards.xian2.record}}{{/convert_niuniu_res}}\n  </div>\n</div>\n<div class="xian3">\n  <div class="title">闲3</div>\n  <div class="cards">\n    {{#each cards.xian3.card_list}}\n    <div class="card-{{this}}"></div>\n    {{/each}}\n  </div>\n  <div\n    class="res {{#if cards.xian3.win}}{{#eq cards.xian3.win 1}}win{{/eq}}{{/if}} {{#if cards.xian3.record}}{{#eq cards.xian3.record -1}}hide{{/eq}}{{/if}}">\n    {{#convert_niuniu_res cards.xian3.record}}{{/convert_niuniu_res}}\n  </div>\n</div>\n'}),define("scripts/views/main/niuniuroom/ResultCardsView",["jquery","underscore","backbone","handlebars","scripts/views/main/AudioPlayer","text!scripts/templates/niuniuroom/resultcards.html"],function(t,e,i,n,s,o){"use strict";return i.View.extend({template:n.compile(o),el:"#niuniuroom_result_cards_container",initialize:function(){this.listenTo(this.model,"change:cards",this.render),this.audioplay={zhuang:!1,xian1:!1,xian2:!1,xian3:!1}},render:function(){var t=this.model.toJSON();return 0<t.cards.zhuang.card_list.length||0<t.cards.xian1.card_list.length||0<t.cards.xian2.card_list.length||0<t.cards.xian3.card_list.length?(s.push("show_card.mp3"),this.audioplay.zhuang||-1==t.cards.zhuang.record||(this.audioplay.zhuang=!0,s.push("zhuang.mp3"),s.push("niu_"+t.cards.zhuang.record+".mp3")),this.audioplay.xian1||-1==t.cards.xian1.record||(this.audioplay.xian1=!0,s.push("xian_1.mp3"),s.push("niu_"+t.cards.xian1.record+".mp3")),this.audioplay.xian2||-1==t.cards.xian2.record||(this.audioplay.xian2=!0,s.push("xian_2.mp3"),s.push("niu_"+t.cards.xian2.record+".mp3")),this.audioplay.xian3||-1==t.cards.xian3.record||(this.audioplay.xian3=!0,s.push("xian_3.mp3"),s.push("niu_"+t.cards.xian3.record+".mp3")),0==t.cards.more&&(1==t.cards.zhuang.win&&(s.push("zhuang.mp3"),s.push("win.mp3")),1==t.cards.xian1.win&&(s.push("xian_1.mp3"),s.push("win.mp3")),1==t.cards.xian2.win&&(s.push("xian_2.mp3"),s.push("win.mp3")),1==t.cards.xian3.win&&(s.push("xian_3.mp3"),s.push("win.mp3")))):this.audioplay={zhuang:!1,xian1:!1,xian2:!1,xian3:!1},this.fill_cards(t.cards.zhuang.card_list),this.fill_cards(t.cards.xian1.card_list),this.fill_cards(t.cards.xian2.card_list),this.fill_cards(t.cards.xian3.card_list),this.$el.html(this.template(t)),this},fill_cards:function(t){var e=t.length;if(5==e)return t;for(var i=0;i<5;i++)e<=i&&t.push("");return t}})}),define("text!scripts/templates/niuniuroom/winners.html",[],function(){return'<div class="header">\n  <div class="zhuang">庄</div>\n  <div class="xian">闲1</div>\n  <div class="xian">闲2</div>\n  <div class="xian">闲3</div>\n</div>\n<div class="content">\n  {{#generate_niuniu winners 10}}{{/generate_niuniu}}\n</div>\n'}),define("scripts/views/main/niuniuroom/WinnersView",["jquery","underscore","backbone","handlebars","text!scripts/templates/niuniuroom/winners.html"],function(t,e,i,n,s){"use strict";return i.View.extend({template:n.compile(s),el:"#niuniuroom_bet_winners",initialize:function(){this.listenTo(this.model,"change:winners",this.render)},render:function(){return this.$el.html(this.template(this.model.toJSON())),this}})}),define("scripts/views/main/niuniuroom/NiuniuRoomView",["jquery","underscore","backbone","bootstrap","scripts/ShowInfo","handlebars","scripts/views/main/WinnersUtils","scripts/views/main/OpenWindow","text!scripts/templates/niuniuroom/niuniuroom.html","scripts/views/main/AudioPlayer","scripts/models/niuniuroom/NiuniuRoomModel","scripts/views/main/RewardDialogView","scripts/views/main/HallVideoDialogView","scripts/views/main/SystemSettingDialogView","scripts/views/main/NiuniuOddsDialogView","scripts/views/main/history/HistoryDialogView","scripts/views/main/rules/RulesDialogView","scripts/views/main/switch/RoomListView","scripts/views/main/niuniuroom/UserinfoView","scripts/views/main/niuniuroom/InstantPoolsView","scripts/views/main/niuniuroom/ResultCardsView","scripts/views/main/niuniuroom/WinnersView","scripts/streams/SocketStream"],function(l,c,t,e,r,i,d,n,s,h,o,a,u,p,m,f,v,_,g,b,w,y,x){"use strict";return t.View.extend({attributes:{id:"niuniuroom_content"},template:i.compile(s),opts:{},model:new o,leftView:null,events:{"click .niuniuroom-bg":"click_default","dblclick .niuniuroom-bg":"dblclick_default","click .btn-hall":"click_hall_video","click .btn-history":"click_history","click .btn-setting":"click_setting","click .btn-fullscreen":"click_fullscreen","click .btn-audio":"click_audio","click .btn-rules":"click_rules","click .btn-exit":"click_exit","click #niuniuroom_odds":"click_odds","click #niuniuroom_btn_reward":"click_reward","click #niuniuroom_chip_container .chip-item":"click_img_tz","click #niuniuroom_input_send_msg":"click_show_msg_list","click .chat-input-container .msg-list-warpper>div":"click_select_msg","keyup #niuniuroom_input_send_msg":"keyup_send_msg","click #niuniuroom_btn_send_msg":"send_msg","click #niuniuroom_chip_container .up":"click_chipup","click #niuniuroom_chip_container .down":"click_chipdown","click #niuniuroom_video_control a.refresh":"click_refresh_video","click #niuniuroom_video_control a.switch":"click_switch_video","click #niuniuroom_video_control a.small":"click_toggle_small","click a.roomswitch":"click_switch_room","click #niuniuroom_bets_region_container div.region>div>div":"mouseup_tz","click #niuniuroom_region_btn_reset":"click_btn_clear","click #niuniuroom_region_btn_again":"click_btn_again","click #niuniuroom_bet_btn_ensure":"click_btn_ensure","click #niuniuroom_bet_btn_cancel":"click_rollback_tz"},initialize:function(t){this.listenTo(this.model,"change:table_id",this.render),this.listenTo(this.model,"change:user_info",this.change_user_info),this.listenTo(x,"pack_type1",this.fillroom),this.listenTo(x,"pack_type3",this.finishtz),this.listenTo(x,"pack_type4",this.drawtz),this.listenTo(x,"pack_type5",this.statrtz),this.listenTo(x,"pack_type6",this.resetdraw),this.listenTo(x,"pack_type7",this.exchangepoker),this.listenTo(x,"pack_type8",this.stoptime),this.listenTo(x,"pack_type11",this.refreshstatus),this.listenTo(x,"pack_type16",this.canceltz),this.listenTo(x,"pack_type24",this.livechat),this.listenTo(x,"pack_type33",this.msglist),this.listenTo(this,"enterRoom",this.enterRoom),this.leftView=t.leftView},render:function(){var e=this;r.loading(!1),this.$el.html(this.template(this.model.toJSON())),this.$(".btn-fullscreen .title").html(screenfull.isFullscreen?"退出全屏":"进入全屏"),this.userinfoView=new g({model:this.model}).render(),this.instantPoolsView=new b({model:this.model}).render(),this.resultCardsView=new w({model:this.model}).render(),this.winnersView=new y({model:this.model}).render(),this.tz={total:c.clone(this.model.get("bet_record")),current:[],again:[]},this.bet_period=this.model.get("game_top_period").game_period,this.send_msg_time=0,this.time_speed=1,this.isdraw=!1,this.has_bet=!1,this.show_small_video=!0,this.refreshtz(),this.get_msg_list(),h.push("enter_niuniu.mp3"),clearTimeout(this.delaystarttime),this.delaystarttime=c.delay(function(){e.starttime();var t=e.$("#niuniuroom_chip_container .chip-item:eq(0)");t.addClass("select"),e.selectMoney=t.data("value")},700),this.$tip_title=this.$("#niuniuroom_tip_container .title"),this.$tip_msg=this.$("#niuniuroom_tip_container .msg"),this.$pushchips=this.$("#niuniuroom_pushchips"),this.shipcontainer=this.$("#niuniuroom_chip_container .chip-container"),this.$cards=this.$("#niuniuroom_result_cards_container"),this.$result_win_lose=this.$("#niuniuroom_result_win_or_lose"),this.$betInfo=this.$("#niuniuroom_bets_region_container .content-tip-bg"),this.video_element1=this.$("#niuniuroom_video1")[0],this.video_element2=this.$("#niuniuroom_video2")[0];var t=SystemStorage.getValue("enable_volume"),i=SystemStorage.getValue("enable_video"),n=SystemStorage.getValue("enable_chat_barrage");return t&&"true"!=t||this.$(".btn-audio").addClass("on"),n&&"true"!=n||this.$("#niuniuroom_chat_info").fadeIn(),i&&"true"!=i?(this.$("#niuniuroom_video_control a.refresh").fadeOut(),this.$("#niuniuroom_video_control a.switch").fadeOut()):this.show_video_play(),this.chat_scrool_list(),this},enterRoom:function(t){return this.opts=t,this.model.clearall(),x.trigger("send",{pack_type:1,data:{session_id:sessionStorage.getItem("user")?JSON.parse(sessionStorage.getItem("user")).session_id:"",game_id:t.game_id,game_type:t.game_type,table_id:t.table_id}}),this},show_video_play:function(){var t=this,e=JSON.parse(sessionStorage.user).system_videos.flv_address;if(void 0!==this.video1&&null!=this.video1)try{this.video1.unload(),this.video1.detachMediaElement(),this.video1.destroy(),this.video1=null}catch(t){}if(this.video1=flvjs.createPlayer({type:"flv",cors:!0,withCredentials:!1,url:e+"/f"+this.model.get("table_id")+".flv",isLive:!0,hasAudio:!1,hasVideo:!0},{enableWorker:!0,autoCleanupSourceBuffer:!0,enableStashBuffer:!1,stashInitialSize:128}),this.video1.attachMediaElement(this.video_element1),this.video1.load(),this.video_thread1&&clearInterval(this.video_thread1),this.video_thread1=setInterval(function(){0<t.video_element1.buffered.length&&2<t.video_element1.buffered.end(0)-t.video_element1.currentTime&&(t.video_element1.currentTime=t.video_element1.buffered.end(0)-1)},15e3),void 0!==this.video2&&null!=this.video2)try{this.video2.unload(),this.video2.detachMediaElement(),this.video2.destroy(),this.video2=null}catch(t){}this.video2=flvjs.createPlayer({type:"flv",cors:!0,withCredentials:!1,url:e+"/n"+this.model.get("table_id")+".flv",isLive:!0,hasAudio:!1,hasVideo:!0},{enableWorker:!0,autoCleanupSourceBuffer:!0,enableStashBuffer:!1,stashInitialSize:128}),this.video2.attachMediaElement(this.video_element2),this.video2.load(),this.video_thread2&&clearInterval(this.video_thread2),this.video_thread2=setInterval(function(){0<t.video_element2.buffered.length&&2<t.video_element2.buffered.end(0)-t.video_element2.currentTime&&(t.video_element2.currentTime=t.video_element2.buffered.end(0)-1)},15e3),this.$("#niuniuroom_video_control a.refresh").fadeIn(),this.$("#niuniuroom_video_control a.switch").fadeIn()},close_video_play:function(){this.$("#niuniuroom_video_control a.refresh").fadeOut(),this.$("#niuniuroom_video_control a.switch").fadeOut();try{this.video_thread1&&clearInterval(this.video_thread1),this.video1.unload(),this.video1.detachMediaElement(),this.video1.destroy(),this.video1=null,this.video_thread2&&clearInterval(this.video_thread2),this.video2.unload(),this.video2.detachMediaElement(),this.video2.destroy(),this.video2=null}catch(t){}},change_user_info:function(){this.leftView.trigger("change_balance",this.model.get("user_info"))},fillroom:function(t){"none"!==this.$el.css("display")&&this.opts.table_id==t.data.table_id&&this.model.set(t.data)},chat_scrool_list:function(){var t=this.$("#niuniuroom_chat_info");6<t.find(".msg").length&&t.find(".msg:eq(0)").remove()},click_show_msg_list:function(t){t.stopPropagation(),this.$(".chat-input-container .msg-list").fadeToggle()},click_select_msg:function(t){t.stopPropagation(),this.$(".chat-input-container .msg-list").fadeOut(),this.$("#niuniuroom_input_send_msg").val(l(t.currentTarget).html())},keyup_send_msg:function(t){13==t.keyCode&&(this.send_msg(),l(t.currentTarget).blur())},send_msg:function(t){t&&t.stopPropagation();var e=this.$("#niuniuroom_input_send_msg"),i=e.val();"try"!=JSON.parse(sessionStorage.user).login_type?(this.has_bet,(new Date).getTime()-this.send_msg_time<3e3?r.modal("您发送消息过于频繁，请稍后发送！"):i&&(50<i.length&&(i=i.substr(0,50)),i.trim()&&(x.trigger("send",{pack_type:24,data:{session_id:sessionStorage.getItem("user")?JSON.parse(sessionStorage.getItem("user")).session_id:"",table_id:this.opts.table_id,msg:i.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"")}}),e.val("")),this.send_msg_time=(new Date).getTime())):r.modal("试玩用户不能聊天哦！")},get_msg_list:function(){x.trigger("send",{pack_type:33,data:{session_id:sessionStorage.getItem("user")?JSON.parse(sessionStorage.getItem("user")).session_id:""}})},msglist:function(t){var i=this;if(1==t.data.result){var e=t.data.message_list;i.$(".msg-list-warpper").children().remove(),l(e).each(function(t,e){i.$(".msg-list-warpper").append("<div>"+e.message+"</div>")})}},livechat:function(t){if(1==t.data.result){var e=this.$("#niuniuroom_chat_info .message-list"),i=t.data.msg.replace(/(\[)([\w]+)(\])/gm,function(t,e,i){return'<div class="emotion '+i+'"></div>'});i="<span>"+(t.data.src_nickname.substr(0,1)+t.data.src_nickname.substr(1).replace(/\S{1}/gim,"*"))+"说：</span>"+i,e.append('<div class="msg animated fadeInLeft">'+i+"</div>"),this.chat_scrool_list()}else r.modal(t.data.err_msg)},click_switch_video:function(){var t=null,e=this.$("#niuniuroom_video_warpper .video-full"),i=this.$("#niuniuroom_video_warpper .video-small"),n=this.$("#niuniuroom_video_control .start"),s=this.$("#niuniuroom_video_control .end");"remote"==this.model.get("current_video")?(t="close",n.html("近"),s.html("远")):"close"==this.model.get("current_video")&&(t="remote",n.html("远"),s.html("近")),e.removeClass("video-full").addClass("video-small"),i.removeClass("video-small").addClass("video-full"),this.show_small_video?(i.show(),e.show()):(i.show(),i[0].play(),e.hide(),e[0].pause()),this.model.set("current_video",t)},click_toggle_small:function(t){t.stopPropagation();var e=this.$("#niuniuroom_video_warpper .video-small");this.show_small_video?(e.hide(),e[0].pause()):(e.show(),e[0].play()),l(t.currentTarget).html(this.show_small_video?"打开画中画":"关闭画中画"),this.show_small_video=!this.show_small_video},click_switch_room:function(t){t.stopPropagation(),this.roomListView&&this.roomListView.remove(),this.roomListView=new _({game_type:this.model.get("game_type")}),this.roomListView.render()},click_refresh_video:function(t){t.stopPropagation(),this.refreshvideo()},refreshvideo:function(){this.show_video_play()},click_chipup:function(t){t.stopPropagation(),this.shipcontainer.scrollLeft(0)},click_chipdown:function(t){t.stopPropagation(),this.shipcontainer.scrollLeft(this.shipcontainer.scrollLeft()+50)},click_audio:function(t){t.stopPropagation();var e=SystemStorage.getValue("enable_volume");e&&"true"!=e?(SystemStorage.setValue("enable_volume","true"),this.$(".btn-audio").addClass("on"),h.play_bg_audio()):(SystemStorage.setValue("enable_volume","false"),h.clear(),h.stop_bg_audio(),this.$(".btn-audio").removeClass("on"))},click_rules:function(t){t.stopPropagation(),(new v).render().show()},click_exit:function(t){t.stopPropagation(),window.history.go(-1)},click_reward:function(t){t.stopPropagation(),"try"!=JSON.parse(sessionStorage.user).login_type?this.rewardDialogView?this.rewardDialogView.show():(this.rewardDialogView=new a({model:this.model}),this.rewardDialogView.render().show()):r.modal("该功能不对试玩用户开放！")},click_odds:function(t){t.stopPropagation(),(new m).render().show()},click_hall_video:function(t){t.stopPropagation(),(new u).render().show()},click_history:function(t){t.stopPropagation(),(new f).render().show()},click_fullscreen:function(t){t.stopPropagation(),screenfull.enabled&&(screenfull.isFullscreen?(screenfull.exit(),l(t.currentTarget).find(".title").html("进入全屏")):(screenfull.request(),l(t.currentTarget).find(".title").html("退出全屏")))},click_setting:function(t){t.stopPropagation();var n=this,e=new p;e.onFinish=function(){var t=SystemStorage.getValue("enable_volume"),e=SystemStorage.getValue("enable_video"),i=SystemStorage.getValue("enable_chat_barrage");t&&"true"!=t?(h.clear(),h.stop_bg_audio(),n.$(".btn-audio").removeClass("on")):(n.$(".btn-audio").addClass("on"),h.play_bg_audio()),e&&"true"!=e?n.close_video_play():n.show_video_play(),i&&"true"!=i?n.$("#niuniuroom_chat_info").fadeOut():n.$("#niuniuroom_chat_info").fadeIn()},e.render().show()},starttime:function(){if("none"!==this.$el.css("display")){var t=this,e=this.model.get("rest_time");0<e?(this.starttz&&clearInterval(this.starttz),this.$tip_title.html("计时中"),this.$tip_msg.html(e),this.starttz=setInterval(function(){0==e?(t.blurtz(),t.disabled_tz(!0),t.$tip_title.html("停止计时"),t.$tip_msg.html("结算中"),h.clear(),clearInterval(t.starttz),c.delay(function(){h.push("stop_bet.mp3"),t.$betInfo.hide(),t.tz.total=c.clone(t.model.get("bet_record"))||[],t.tz.again=c.clone(t.model.get("bet_record")),t.refreshtz(),t.toggleCards(!0)},100)):e<8?h.play_fast_audio("time.mp3"):10==e&&h.push("time_tip_10.mp3"),0<e&&(t.$tip_msg.html(e),e--)},1e3*this.time_speed),this.isdraw=!1,r.tip("开始投注！"),h.push("start.mp3"),this.disabled_tz(!1),this.disabled_tz_reset(!0),this.disabled_tz_ok(!0),0<this.tz.again.length?this.disabled_tz_again(!1):this.disabled_tz_again(!0)):this.disabled_tz(!0)}},disabled_tz:function(t){t?this.$("#niuniuroom_bets_region_container").removeClass("select"):this.$("#niuniuroom_bets_region_container").addClass("select").focus(),this.disabled_tz_reset(t),this.disabled_tz_again(t),this.disabled_tz_cancel(t),this.disabled_tz_ok(t)},disabled_tz_reset:function(t){l("#niuniuroom_region_btn_reset").attr("disabled",t)},disabled_tz_again:function(t){this.$("#niuniuroom_region_btn_again").attr("disabled",t)},disabled_tz_cancel:function(t){this.$("#niuniuroom_bet_btn_cancel").attr("disabled",t)},disabled_tz_ok:function(t){this.$("#niuniuroom_bet_btn_ensure").attr("disabled",t)},blurtz:function(){this.$("#niuniuroom_bets_region_container").removeClass("select")},refreshtz:function(){var i=this;this.$("#niuniuroom_bets_region_container>div>div.region>div>div").each(function(){var t=l(this),e=c.findWhere(i.tz.total,{bet_type:t.data("type")});i.drawtzimg(t,e?e.bet_amount:0)}),this.set_fb_deposit()},stoptime:function(){"none"!==this.$el.css("display")&&(this.blurtz(),this.starttz&&clearInterval(this.starttz),this.disabled_tz(!0),this.$tip_title.html("停止计时"),this.$tip_msg.html("结算中"),this.toggleCards(!0),h.push("stop_bet.mp3"),this.isdraw||(r.tip("您本局未投注！"),this.cleartz()))},statrtz:function(t){if("none"!==this.$el.css("display")&&this.opts.table_id==t.data.table_id){if("sw008"!==JSON.parse(sessionStorage.getItem("user")).username&&3<=t.data.game_top_period.game_period-this.bet_period)return r.modal("您已经连续3口未投注, 请重新进入房间！"),void window.workspace.navigate("/",{trigger:!0});delete t.data.table_id,this.model.set(t.data),this.time_speed=(+this.model.get("rest_time")-2)/+this.model.get("rest_time"),this.starttime(),this.tz.total=[],this.tz.current=[],this.refreshtz(),this.toggleCards(!1)}},canceltz:function(t){"none"!==this.$el.css("display")&&this.opts.table_id==t.data.table_id&&(delete t.data.table_id,this.model.set(t.data),1===t.data.result?(this.tz.total=[],this.refreshtz(),r.tip("取消投注成功！"),h.push("success.mp3"),this.disabled_tz_reset(!0),this.disabled_tz_cancel(!0),this.disabled_tz_ok(!0),0<this.tz.again.length&&this.disabled_tz_again(!1),this.isdraw=!1):(r.tip("取消投注失败！"),h.push("notice.mp3")))},click_default:function(){var t=l("#switch_room_container").css("display");t&&"none"!=t&&this.roomListView.click_close()},dblclick_default:function(t){},click_rollback_tz:function(t){t.stopPropagation();var i=this;c.each(this.tz.total,function(t){var e=c.findWhere(i.tz.current,{bet_type:t.bet_type});e&&(t.bet_amount=+t.bet_amount-e.bet_amount)}),this.tz.current=[],this.disabled_tz_reset(!0),this.disabled_tz_ok(!0),0==this.isdraw&&this.disabled_tz_again(!1),this.refreshtz()},resetdraw:function(t){"none"!==this.$el.css("display")&&this.opts.table_id==t.data.table_id&&(delete t.data.table_id,this.model.set(t.data),r.tip("重新开奖！"))},exchangepoker:function(t){"none"!==this.$el.css("display")&&this.opts.table_id==t.data.table_id&&(delete t.data.table_id,this.model.set(t.data),this.tz={total:[],current:[],again:[]},this.refreshtz(),this.has_bet=!1,this.toggleCards(!1),r.tip("新一局开始！"))},refreshstatus:function(t){"none"!==this.$el.css("display")&&this.opts.table_id==t.data.table_id&&(delete t.data.table_id,t.data.cards&&this.toggleCards(!0),this.model.set(t.data))},finishtz:function(t){"none"!==this.$el.css("display")&&this.opts.table_id==t.data.table_id&&(delete t.data.table_id,this.$betInfo.hide(),this.model.set(t.data),1===t.data.result?(r.tip("投注成功！"),this.isdraw=!0,this.has_bet=!0,h.push("bet_success.mp3"),this.bet_period=this.model.get("game_top_period").game_period,this.disabled_tz_reset(!0),this.disabled_tz_again(!0),this.disabled_tz_cancel(!1)):(this.tz.total=c.clone(this.model.get("bet_record"))||[],16==t.data.result?r.tip("您的账号已暂停！"):r.tip("投注失败！"),h.push("notice.mp3"),this.refreshtz()),this.tz.current=[])},drawtz:function(t){if("none"!==this.$el.css("display")&&this.opts.table_id==t.data.table_id){delete t.data.table_id,this.model.set(t.data),this.tz.total=[],this.tz.current=[],this.refreshtz(),r.tip(this.model.get("status").msg);var e=this.model.get("status").result||[];l.each(e,function(t,e){l('#niuniuroom_bets_region_container>div>div.region>div>div[data-type="'+e+'"]').addClass("result-fade")}),c.delay(function(){l("#niuniuroom_bets_region_container>div>div.region>div>div.result-fade").removeClass("result-fade")},5100);var i=this.model.get("user_info").user_profit;0<i?(h.push("tz.mp3"),this.$result_win_lose.html("恭喜您! 本局赢: "+Math.abs(i)).show()):i<0&&this.$result_win_lose.html("本局输: "+Math.abs(i)).show()}},click_btn_again:function(t){var n=this;t.stopPropagation();var e=this.tz.again;0!=e.length&&(c.each(e,function(t){var e=c.findIndex(n.tz.total,{bet_type:t.bet_type}),i=c.findIndex(n.tz.current,{bet_type:t.bet_type});0<=e?n.tz.total[e].bet_amount+=t.bet_amount:n.tz.total.push(c.clone(t)),0<=i?n.tz.current[i].bet_amount+=t.bet_amount:n.tz.current.push(c.clone(t))}),h.clear(),h.push("push.mp3"),this.refreshtz(),this.disabled_tz_ok(!1),this.disabled_tz_reset(!1),this.disabled_tz_again(!0))},click_btn_ensure:function(t){t.stopPropagation(),0!=this.model.get("allow_bet")?2!=this.model.get("allow_bet")?(this.disabled_tz_ok(!0),this.$betInfo.show(),x.trigger("send",{pack_type:3,data:{session_id:sessionStorage.getItem("user")?JSON.parse(sessionStorage.getItem("user")).session_id:"",game_id:this.opts.game_id,game_type:this.opts.game_type,table_id:this.opts.table_id,game_top:this.model.get("game_top_period").game_top,game_period:this.model.get("game_top_period").game_period,bet_record:this.tz.current}})):r.modal("您的账号已被暂停。",null,null,t):r.modal("该房间包桌中。",null,null,t)},click_btn_clear:function(t){t.stopPropagation(),0!=this.model.get("allow_bet")?2!=this.model.get("allow_bet")?x.trigger("send",{pack_type:16,data:{session_id:sessionStorage.getItem("user")?JSON.parse(sessionStorage.getItem("user")).session_id:"",game_id:this.opts.game_id,game_type:this.opts.game_type,table_id:this.opts.table_id,game_top:this.model.get("game_top_period").game_top,game_period:this.model.get("game_top_period").game_period}}):r.modal("您的账号已被暂停。",null,null,t):r.modal("该房间包桌中。",null,null,t)},toggleCards:function(t){t?this.$cards.css("display","flex"):(this.model.set("cards",{zhuang:{card_list:[],record:-1,win:0},xian1:{card_list:[],record:-1,win:0},xian2:{card_list:[],record:-1,win:0},xian3:{card_list:[],record:-1,win:0}}),this.$cards.hide(),this.$result_win_lose.hide())},click_img_tz:function(t){t.stopPropagation(),this.selectMoney=l(t.currentTarget).data("value"),h.play_fast_audio("enter.mp3"),this.$("#niuniuroom_chip_container div.chip-item.select").removeClass("select"),l(t.currentTarget).addClass("select")},drawtzimg:function(t,e){var i=d.totalTz(e,[]),n=c.findWhere(this.tz.total,{bet_type:t.data("type")}),s=t.data("type"),o=this.$('.chips-bet[data-type="'+s+'"]');if(0<o.length)o.html(this.drawchip(i).join(""));else{var a=l("#main").offset(),r=t.offset();(o=l('<div class="chips-bet" data-type="'+s+'"></div>')).css("top",pxtorem(r.top-a.top+t.outerHeight())+"rem"),o.css("left",pxtorem(r.left-a.left)-1.8+"rem"),o.html(this.drawchip(i).join("")),this.$el.append(o)}t.find(".content-info-count").html(n&&0<n.bet_amount?n.bet_amount:"")},drawchip:function(t){for(var e=[],i=0,n=t.length;i<n;i++){var s=5*Math.floor(i%4),o=20*Math.floor(i/4);e.push("<div class='chip-item' style='bottom: "+s+"px; left:"+o+"px;' data-value='"+t[i]+"'></div>")}return e},cleartz:function(){this.$("div.chips-bet").remove(),this.$("#niuniuroom_bets_region_container .content-info-count").html("")},chipsanimated:function(n){var s=this;this.$pushchips.removeClass("push"),c.defer(function(){var t=n.getBoundingClientRect(),e=t.left+n.offsetWidth/4,i=t.top+n.offsetHeight/2;s.$pushchips.css({top:i,left:e}).attr("data-value",s.selectMoney).addClass("push")})},set_fb_deposit:function(){var i=0;c.each(this.tz.total,function(t){var e=+t.bet_amount;(1==t.bet_type||4==t.bet_type||16==t.bet_type)&&0<e&&(i+=e)}),this.$("#niuniuroom_bets_region_deposit .deposit-count").html(2*i)},get_all_types_count:function(t){var i=0;return c.each("total"==t?this.tz.total:this.tz.current,function(t){var e=+t.bet_amount;0<e&&(i+=e)}),i},mouseup_tz:function(t){if(t.stopPropagation(),0!=this.model.get("allow_bet"))if(2!=this.model.get("allow_bet"))if(this.$("#niuniuroom_bets_region_container").hasClass("select")){h.play_fast_audio("push.mp3");var e=l(t.currentTarget).find("div.content-info-tz"),i=c.findWhere(this.tz.total,{bet_type:l(t.currentTarget).data("type")}),n=c.findWhere(this.tz.current,{bet_type:l(t.currentTarget).data("type")}),s=+this.selectMoney,o=this.get_all_types_count("total"),a=this.get_all_types_count("current");if(!this.selectMoney)return void r.modal("请先选择筹码。",null,null,t);if(+this.model.get("bet_limit")[e.data("limit")]<(n?+n.bet_amount:0)+this.selectMoney)return void r.modal("该投注点已超过限红("+this.model.get("bet_limit")[e.data("limit")]+")，请选择较小的筹码。",null,null,t);if(+this.model.get("user_info").up_limit<+o+this.selectMoney)return void r.modal("您选择投注的筹码已超过投注上限("+this.model.get("user_info").up_limit+")，请选择较小的筹码。",null,null,t);if(+this.model.get("user_info").balance<=+a)return void r.modal("余额不足，请充值。",null,null,t);this.chipsanimated(t.currentTarget),+this.model.get("user_info").balance<this.selectMoney&&(s=+this.model.get("user_info").balance),+this.model.get("user_info").low_limit>this.selectMoney&&0===o&&(s=+this.model.get("user_info").low_limit),+this.model.get("user_info").balance-a<this.selectMoney&&(s=+this.model.get("user_info").balance-a),n?n.bet_amount=+n.bet_amount+s:this.tz.current.push({bet_type:l(t.currentTarget).data("type"),bet_amount:s}),i?i.bet_amount=+i.bet_amount+s:this.tz.total.push({bet_type:l(t.currentTarget).data("type"),bet_amount:s}),this.drawtzimg(l(t.currentTarget),i?i.bet_amount:s),this.set_fb_deposit(),this.disabled_tz_ok(!1),this.disabled_tz_reset(!1)}else r.modal("本轮投注已完成，请等待下一轮进行投注。",null,null,t);else r.modal("您的账号已被暂停。",null,null,t);else r.modal("该房间包桌中。",null,null,t)},leaveRoom:function(){l("#tips").removeClass("showinfo"),this.starttz&&clearInterval(this.starttz),this.close_video_play(),h.clear(),this.rewardDialogView&&this.rewardDialogView.remove(),this.userinfoView.remove(),this.winnersView.remove(),this.instantPoolsView.remove(),this.resultCardsView.remove(),this.roomListView&&this.roomListView.click_close(),clearTimeout(this.delaystarttime),x.trigger("send",{pack_type:2,data:{session_id:sessionStorage.getItem("user")?JSON.parse(sessionStorage.getItem("user")).session_id:"",game_id:this.opts.game_id,game_type:this.opts.game_type,table_id:this.opts.table_id}})},exit:function(){return this.leaveRoom(),this}})}),define("scripts/views/main/niuniuroom/IndexView",["jquery","underscore","backbone","handlebars","scripts/views/main/left/LeftView","scripts/views/main/niuniuroom/NiuniuRoomView"],function(t,e,i,n,s,o){"use strict";return i.View.extend({el:"#niuniuroom_main",events:{},initialize:function(){},render:function(t){this.leftView=new s({game_id:t.game_id}),this.roomView=new o({leftView:this.leftView});var e=this.leftView.render().$el,i=this.roomView.$el;return this.roomView.trigger("enterRoom",t),this.$el.append(e),this.$el.append(i),this},exit:function(){this.roomView.exit().remove(),this.leftView.exit().remove(),this.$el.html("")}})}),define("scripts/views/main/MainView",["jquery","underscore","backbone","scripts/ShowInfo","scripts/views/main/PageScale","scripts/views/main/AudioPlayer","scripts/views/main/nav/NavView","scripts/views/main/multiple/IndexView","scripts/views/main/betroom/IndexView","scripts/views/main/phoneroom/IndexView","scripts/views/main/niuniuroom/IndexView"],function(t,e,i,n,s,o,a,r,l,c,d){"use strict";return i.View.extend({el:"#main",events:{},initialize:function(){this.on("nav",this.navMemu),this.on("enterMultiple",this.enterMultiple),this.on("enterbetroom",this.enterBetRoom),this.on("enterphoneroom",this.enterPhoneRoom),this.on("enterniuniuroom",this.enterNiuniuRoom)},render:function(){var t=this;o.push("welcome.mp3"),screenfull.enabled&&screenfull.on("change",function(){screenfull.isFullscreen?t.currentView.$el.addClass("full-screen"):t.currentView.$el.removeClass("full-screen")})},screenResize:function(){screenfull.isFullscreen?this.currentView.$el.addClass("full-screen"):this.currentView.$el.removeClass("full-screen")},leavePrevroom:function(){this.currentView&&(this.currentView.exit(),this.currentView.$el.hide(),this.currentView.undelegateEvents(),document.body.scrollTop=0,document.title="维加斯")},navMemu:function(t){t&&(this.leavePrevroom(),this.navView?this.navView.delegateEvents():this.navView=new a,this.navView.$el.show(),this.navView.render(t),o.play_bg_audio(),o.set_bg_volume(1),this.currentView=this.navView,n.loading(!0),this.screenResize())},enterMultiple:function(){o.clear(),o.set_bg_volume(.5),this.leavePrevroom(),this.multipleView?this.multipleView.delegateEvents():this.multipleView=new r,n.loading(!0),this.multipleView.$el.show(),this.multipleView.render(),this.currentView=this.multipleView,this.screenResize()},enterBetRoom:function(t){t&&(o.clear(),o.set_bg_volume(.5),this.leavePrevroom(),this.betroomView?this.betroomView.delegateEvents():this.betroomView=new l,this.betroomView.render(t).$el.show(),this.currentView=this.betroomView,n.loading(!0),this.screenResize())},enterPhoneRoom:function(t){t&&(o.clear(),o.set_bg_volume(.5),this.leavePrevroom(),this.phoneroomView?this.phoneroomView.delegateEvents():this.phoneroomView=new c,this.phoneroomView.render(t).$el.show(),this.currentView=this.phoneroomView,n.loading(!0),this.screenResize())},enterNiuniuRoom:function(t){t&&(o.clear(),o.set_bg_volume(.3),this.leavePrevroom(),this.niuniuroomView?this.niuniuroomView.delegateEvents():this.niuniuroomView=new d,n.loading(!0),this.niuniuroomView.render(t).$el.show(),this.currentView=this.niuniuroomView,this.screenResize())}})}),define("scripts/routers/Router",["jquery","backbone","scripts/ShowInfo","scripts/views/main/MainView"],function(t,e,n,i){"use strict";return e.Router.extend({routes:{"":"nav","nav/:id":"nav",multiple:"multiple","betroom/:gameId/:gameType/:tableId":"betroom","phoneroom/:gameId/:gameType/:tableId":"phoneroom","niuniuroom/:gameId/:gameType/:tableId":"niuniuroom"},initialize:function(){this.mainview=new i,this.mainview.render()},nav:function(t){var e=JSON.parse(sessionStorage.getItem("user")).user_game_limit;if(t){if(_.contains(["nav_bjl1","nav_bjl2","nav_bjl3","nav_lhzb","nav_niuniu","nav_mbbjl","nav_mblh"],t)){if(!e[1])return void n.modal("您没有权限进入点击大厅！")}else if(!e[2])return void n.modal("您没有权限进入电话投注大厅！");this.mainview.trigger("nav",t)}else this.navigate("nav/"+(e[1]?"nav_bjl1":"nav_phone_bjl1"),{trigger:!0})},multiple:function(){this.mainview.trigger("enterMultiple",{})},betroom:function(t,e,i){JSON.parse(sessionStorage.getItem("user")).user_game_limit[1]?this.mainview.trigger("enterbetroom",{game_id:t,game_type:e,table_id:i}):n.modal("您没有权限进入该房间！")},phoneroom:function(t,e,i){this.mainview.trigger("enterphoneroom",{game_id:t,game_type:e,table_id:i})},niuniuroom:function(t,e,i){this.mainview.trigger("enterniuniuroom",{game_id:t,game_type:e,table_id:i})}})}),define("scripts/helper/CommonHelper",["jquery","handlebars"],function(t,e){e.registerHelper("addOne",function(t){return t+1}),e.registerHelper("generatetable",function(t,e){for(var i=[],n=1;n<=t;n++){i.push("<tr>");for(var s=1;s<=e;s++)i.push("<td>&nbsp;</td>");i.push("</tr>")}return i.join("")}),e.registerHelper("eq",function(t,e,i){return t==e?i.fn(this):i.inverse(this)}),e.registerHelper("equal",function(t,e,i){if(t==e)return i.fn(this)}),e.registerHelper("startwith",function(t,e,i){return 0==t.indexOf(e)?i.fn(this):i.inverse(this)}),e.registerHelper("gt_eq",function(t,e,i){return e<=t?i.fn(this):i.inverse(this)}),e.registerHelper("gt",function(t,e,i){return e<t?i.fn(this):i.inverse(this)}),e.registerHelper("lt_eq",function(t,e,i){return t<=e?i.fn(this):i.inverse(this)}),e.registerHelper("lt",function(t,e,i){return t<e?i.fn(this):i.inverse(this)})}),define("scripts/helper/WinnersHelper",["jquery","handlebars","scripts/views/main/WinnersUtils"],function(u,t,p){var m=[1,4,5,6],f=[3,10,11,12];function h(t,e){for(var i=[],n=1;n<=t;n++){for(var s=[],o=1;o<=e;o++)s.push("<td>&nbsp;</td>");i.push(s)}return i}function v(t){for(var e=0;e<t.length;e++)t[e].unshift("<tr>"),t[e].push("</tr>"),t[e]=t[e].join("")}t.registerHelper("generate_zp",function(t,e,i){var n,s,o,a,r,l,c=h(6,e),d=(n=c,s=t,l=r=a=o=-1,_.each(s,function(t,e){o=Math.floor(e/6),n[r=e%6][o]="<td class='r-"+t+"'></td>",e==s.length-1&&(a=o,n[l=r][o]=u(n[r][o]).addClass("animate-fade4")[0].outerHTML)}),{last_row:l,last_col:a});return v(c),c.unshift('<table data-last-row="'+d.last_row+'" data-last-col="'+d.last_col+'" class="zp '+("90001"==i?"bjl":"lh")+'">'),c.push("</table>"),c.join("")}),t.registerHelper("generate_dl",function(t,e,i){var n=h(6,e),s=null;return s="90001"==i?function(s,t){var o=p.bjldllist(t),a=-1,r=-1,l=-1,c=-1,d=0,h="";0<o.length&&_.contains(f,o[0][0])&&o.shift();return _.each(o,function(i,n){a=n,l=-1,_.each(i,function(t,e){_.contains(f,t)?(d+=1,s[l][a]="<td class='"+h+"h-"+t+"'>"+(0<d?d:"")+"</td>"):(h=_.contains(m,t)?"z":"x",d=0,l<=4?l+=1:a+=1,-1!=s[l][a].indexOf("class")&&(0<l&&(l-=1),a+=1),s[l][a]="<td class='r-"+t+"'></td>"),n==o.length-1&&e==i.length-1&&(r=a,s[c=l][a]=u(s[l][a]).addClass("animate-fade4")[0].outerHTML)})}),{last_row:c,last_col:r}}(n,t):function(s,t){var o=p.lhdllist(t),a=-1,r=-1,l=-1,c=-1,d=0,h="";0<o.length&&_.contains(f,o[0][0])&&o.shift();return _.each(o,function(i,n){a=n,l=-1,_.each(i,function(t,e){3!==t?(h=1===t?"l":"h",d=0,l<=4?l+=1:a+=1,-1!=s[l][a].indexOf("class")&&(0<l&&(l-=1),a+=1),s[l][a]="<td class='r-"+t+"'></td>"):(d+=1,s[-1==l?0:l][a]="<td class='"+h+"h-"+t+"'>"+(0<d?d:"")+"</td>"),n==o.length-1&&e==i.length-1&&(r=a,s[c=l][a]=u(s[l][a]).addClass("animate-fade4")[0].outerHTML)})}),{last_row:c,last_col:r}}(n,t),v(n),n.unshift('<table data-last-row="'+s.last_row+'" data-last-col="'+s.last_col+'" class="dl '+("90001"==i?"bjl":"lh")+'">'),n.push("</table>"),n.join("")}),t.registerHelper("generate_jyl",function(t,e,i){var n=h(3,e),s=function(i,t,n){for(var s=_.clone(t),o=-1,a=-1,r=-1,l=-1,c=0,d=-1,h="",e=0;e<s.length&&_.contains(f,s[e]);e++)s.shift(),e--;return _.each(s,function(t,e){_.contains(f,t)?(c++,i[r][o]="<td class='"+h+"h-"+t+"'>"+(0<c?c:"")+"</td>"):(h=_.contains(m,t)?"90001"==n?"z":"l":"90001"==n?"x":"h",d++,c=0,o=Math.floor(d/3),i[r=d%3][o]="<td class='r-"+t+"'></td>"),e==s.length-1&&(a=o,i[l=r][o]=u(i[r][o]).addClass("animate-fade4")[0].outerHTML)}),{last_row:l,last_col:a}}(n,t,i);return v(n),n.unshift('<table data-last-row="'+s.last_row+'" data-last-col="'+s.last_col+'" class="jyl '+("90001"==i?"bjl":"lh")+'">'),n.push("</table>"),n.join("")}),t.registerHelper("generate_xsl",function(t,e,i,n){var s=h(6,e),o=function(s,t,e){var o,a=-1,r=-1,l=-1,c=-1,d="";o="dyz"==e?p.bjldyzlist(t):"xl"==e?p.bjlxllist(t):p.bjlxqlist(t);return _.each(o,function(i,n){a=n,l=-1,_.each(i,function(t,e){d=_.contains(m,t)?"r":"b",l<=4?l+=1:a+=1,-1!=s[l][a].indexOf("class")&&(0<l&&(l-=1),a+=1),s[l][a]="<td class='"+d+"'></td>",n==o.length-1&&e==i.length-1&&(r=a,s[c=l][a]=u(s[l][a]).addClass("animate-fade4")[0].outerHTML)})}),{last_row:c,last_col:r}}(s,t,n);return v(s),s.unshift('<table data-last-row="'+o.last_row+'" data-last-col="'+o.last_col+'" class="'+n+" "+("90001"==i?"bjl":"lh")+'">'),s.push("</table>"),s.join("")})}),define("scripts/helper/NiuniuWinnersHelper",["jquery","handlebars"],function(t,e){e.registerHelper("convert_niuniu_res",function(t){var e="";return 0==t?e="无牛":10==t?e="牛牛":11==t?e="炸弹":1<=t&&t<=9&&(e="牛"+t),e}),e.registerHelper("generate_niuniu",function(t,e){var i=[],n=t.length;e<n&&(n=(t=t.slice(n-e)).length);try{for(var s=0;s<e;s++){var o=["<div class='item'>"];if(s<=n-1){for(var a=[],r=0;r<4;r++){var l=t[s][r],c="",d=[],h=0;d.push("<div class='"+l.name+"'>"),0==l.res?c="无牛":10==l.res?c="牛牛":11==l.res?c="炸弹":1<=l.res&&l.res<=9&&(c="牛"+l.res),d.push("<div class='res'>"+c+"</div>"),l.win&&d.push("<div class='win'>WIN</div>"),d.push("</div>"),"zhuang"==l.name?h=0:"xian1"==l.name?h=1:"xian2"==l.name?h=2:"xian3"==l.name&&(h=3),a[h]=d.join("")}o.push(a.join(""))}else o.push("<div class='zhuang'></div><div class='xian1'></div><div class='xian2'></div><div class='xian3'></div>");o.push("</div>"),i.push(o.join(""))}}catch(t){for(s=0;s<e;s++){o=["<div class='item'><div class='zhuang'></div><div class='xian1'></div><div class='xian2'></div><div class='xian3'></div></div>"];i.push(o.join(""))}}return i.join("")})}),define("scripts/Main",["jquery","backbone","scripts/routers/Router","scripts/streams/SocketStream","scripts/views/main/AudioPlayer","scripts/helper/CommonHelper","scripts/helper/WinnersHelper","scripts/helper/NiuniuWinnersHelper","scripts/ShowInfo"],function(t,e,i,n,s,o,a,r,l){var c=setInterval(function(){if(n.socket.readyState===n.socket.OPEN){if(clearInterval(c),!sessionStorage.getItem("user"))return l.loading(!1),void l.modal("您的登陆已过期，请重新登陆。",function(){location.href=sessionStorage.loginUrl||"login.html"});n.trigger("send",{pack_type:18,data:{session_id:sessionStorage.getItem("user")?JSON.parse(sessionStorage.getItem("user")).session_id:""}}),setInterval(function(){n.trigger("send",{pack_type:22,data:{session_id:sessionStorage.getItem("user")?JSON.parse(sessionStorage.getItem("user")).session_id:""}})},15e3),flvjs.LoggingControl.enableError=!1;var t=new i;window.workspace=t,e.history.start({hashChange:!0})}},50)}),requirejs(["scripts/Main"]),define("scripts/Portal",function(){});